const _0x463762 = _0x5d20;
(function (_0x2c935b, _0x4dfc28) {
  const _0x3fa910 = _0x5d20,
    _0xa5b7c9 = _0x2c935b();
  while (!![]) {
    try {
      const _0x2bb34a =
        (-parseInt(_0x3fa910(0x1a8)) / 0x1) *
          (parseInt(_0x3fa910(0x2bf)) / 0x2) +
        (parseInt(_0x3fa910(0x468)) / 0x3) *
          (-parseInt(_0x3fa910(0x499)) / 0x4) +
        (-parseInt(_0x3fa910(0x2e7)) / 0x5) *
          (-parseInt(_0x3fa910(0x2d4)) / 0x6) +
        (parseInt(_0x3fa910(0x36f)) / 0x7) *
          (parseInt(_0x3fa910(0x2c9)) / 0x8) +
        (-parseInt(_0x3fa910(0x297)) / 0x9) *
          (parseInt(_0x3fa910(0x3f3)) / 0xa) +
        -parseInt(_0x3fa910(0x152)) / 0xb +
        parseInt(_0x3fa910(0x2a6)) / 0xc;
      if (_0x2bb34a === _0x4dfc28) break;
      else _0xa5b7c9["push"](_0xa5b7c9["shift"]());
    } catch (_0x4106b4) {
      _0xa5b7c9["push"](_0xa5b7c9["shift"]());
    }
  }
})(_0x27d5, 0x23d1c),
  document[_0x463762(0x263)](_0x463762(0x230), function () {
    const _0x330350 = _0x463762;
    console[_0x330350(0x3e5)](
      "🚀\x20DOM\x20completamente\x20cargado,\x20inicializando\x20aplicación..."
    );
  });
const form = document["getElementById"](_0x463762(0x223)),
  inputCodigo = document["getElementById"](_0x463762(0x475)),
  readerDiv = document["getElementById"](_0x463762(0x3ab)),
  ayudaTexto = document["getElementById"](_0x463762(0x3a6)),
  installBtn = document[_0x463762(0x145)](_0x463762(0x27f));
(!form || !inputCodigo) &&
  console[_0x463762(0x189)](_0x463762(0x47c), {
    form: !!form,
    inputCodigo: !!inputCodigo,
  });
inputCodigo &&
  (inputCodigo[_0x463762(0x1f9)](_0x463762(0x1f7), _0x463762(0x354)),
  inputCodigo[_0x463762(0x1f9)]("spellcheck", _0x463762(0x421)),
  inputCodigo[_0x463762(0x1f9)](_0x463762(0x31f), _0x463762(0x354)));
function _0x27d5() {
  const _0x36b56d = [
    "getFullYear",
    "http",
    "#btnSpinner",
    "Conectando\x20con\x20todos\x20los\x20servidores",
    "revokeObjectURL",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-muted\x20small\x20ms-md-2\x22>Escaneado:\x20",
    "❌\x20Error\x20con\x20Google\x20Vision,\x20usando\x20fallback:",
    "credit_note",
    "🔄\x20Consultando\x20endpoint\x20con\x20códigos\x20de\x20barras...",
    "ayuda",
    "innerWidth",
    "\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20",
    "credit_note_application",
    "smooth",
    "reader",
    "bg-gradient",
    "pr_precio",
    "application/json",
    "\x0a\x20\x20\x20\x20<div\x20class=\x22modal\x20fade\x22\x20id=\x22detalleVendedorModal\x22\x20tabindex=\x22-1\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-dialog\x20modal-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22modal-title\x22>📋\x20Detalle:\x20",
    "resultadosInfo",
    "mostrarProductoPromocion",
    "📊\x20Status\x20HTTP:",
    "nearest",
    "DATA_MATRIX",
    "EAN8",
    "es-MX",
    "❌\x20Error\x20cargando\x20promociones:",
    "length",
    "visionData",
    "contains",
    "⚠️\x20<strong>Límite\x20diario\x20cerca:</strong>\x20",
    "<span\x20class=\x22badge\x20",
    "✅\x20Endpoint\x20promociones\x20consultado:\x20",
    "toLocaleString",
    "🔄\x20Primera\x20carga:\x20cargando\x20SOLO\x20productos\x20(promos\x20al\x20presionar\x20Actualizar)...",
    "SKU\x20desconocido",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tfoot>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22table-primary\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20colspan=\x222\x22>TOTAL</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22text-success\x22>$",
    "bg-dark",
    "<ul\x20class=\x22list-group\x20list-group-flush\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "value",
    "\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22spinner-border\x20text-success\x22\x20role=\x22status\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22visually-hidden\x22>Cargando\x20promociones...</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>Cargando\x20promociones\x20y\x20productos...</p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20",
    "display",
    "readonly",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22promociones-container\x22\x20class=\x22mt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20text-muted\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small>🔍\x20Verificando\x20promociones...</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20",
    "loadUsage",
    "stop",
    "code_39_reader",
    "Generando\x20código\x20de\x20barras\x20",
    "2-digit",
    "📋\x20Promociones\x20(locales):",
    "\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22alert\x20alert-danger\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22bi\x20bi-exclamation-triangle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<strong>Error\x20al\x20generar\x20el\x20reporte:</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20",
    "CORS_ERROR",
    "floor",
    "Error\x20generando\x20código\x20de\x20barras:",
    "parse",
    "nombre",
    "</h6>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>No\x20se\x20encontraron\x20ventas\x20para\x20el\x20mes\x20seleccionado.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20",
    "totalVentas",
    "#ultimaActualizacion",
    "code_93_reader",
    "📊\x20Datos\x20extraídos\x20antes\x20de\x20procesamiento:",
    "diagnostico-resultado",
    "EAN13",
    "\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22spinner-border\x20text-warning\x22\x20role=\x22status\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22visually-hidden\x22>Cargando\x20promociones...</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>Leyendo\x20promociones\x20y\x20productos\x20locales...</p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20",
    "\x20usos\x20mensuales",
    "\x20me-1\x20mb-1\x22\x20style=\x22font-size:0.75rem;\x22>",
    "Verifique\x20su\x20conexión\x20a\x20internet",
    "\x0a\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td><code>",
    "backgroundColor",
    "body",
    "head",
    "width",
    "log",
    "onsuccess",
    "<div\x20class=\x22alert\x20alert-danger\x22>❌\x20Error\x20en\x20diagnóstico:\x20",
    "key",
    "📡\x20Consultando\x20TODOS\x20los\x20endpoints\x20de\x20productos...",
    "500",
    "createObjectStore",
    "find",
    "EAN_8",
    "bg-secondary",
    "</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22font-size:\x200.6rem;\x20padding:\x201px\x204px;\x20border-radius:\x203px;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22Copiar\x20SKU\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20📋\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    ".modal-content",
    "📋\x20Configuración\x20final\x20para\x20códigos\x20largos...",
    "50etYbqP",
    "showUsageWarning",
    "readwrite",
    "start",
    "cash",
    "aztec",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-12\x20col-lg-4\x20d-flex\x20justify-content-center\x20mb-3\x20mb-lg-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22background:#fff;\x20border-radius:16px;\x20box-shadow:0\x204px\x2024px\x20rgba(0,0,0,0.15);\x20padding:16px;\x20display:flex;\x20justify-content:center;\x20align-items:center;\x20width:240px;\x20height:140px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22",
    "https://reporte-ventas-b9.vercel.app/api/ventas?mes=",
    "resumenMetodosPago",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-outline-primary\x20btn-sm\x20copiar-sku-btn\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-sku=\x22",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20align-items-center\x20mb-3\x20p-2\x20border\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "total_price",
    "Error\x20en\x20detección",
    "✅\x20Endpoint\x20/api/stats\x20funciona\x20correctamente",
    "scrollIntoView",
    "promociones:",
    "CORS",
    "ceil",
    "overflowY",
    "\x20|\x20Promociones:\x20",
    "backend_mejorado",
    "beforeend",
    "🔄\x20Tercera\x20tentativa:\x20imagen\x20original\x20sin\x20procesamiento...",
    "</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "details",
    "image/png",
    "🏦\x20PROBLEMA:\x20Facturación\x20no\x20habilitada\x20en\x20el\x20proyecto\x20correcto",
    "keys",
    "<small\x20class=\x22text-success\x22><strong>Precio\x20unitario:</strong>\x20$",
    "descripcion",
    "Error\x20al\x20cargar\x20productos:",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-6\x20col-md-4\x20col-lg-3\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fw-bold\x20text-primary\x22>$",
    "\x20|\x20Promociones:\x20nunca",
    "match",
    "code_93",
    "inserta\x20sku\x20o\x20busca\x20un\x20producto",
    "\x20->\x20",
    "🔄\x20Sin\x20productos:\x20cargando\x20SOLO\x20productos",
    "<div\x20class=\x22alert\x20alert-info\x20mt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small>Mostrando\x20los\x20primeros\x2020\x20productos.\x20Hay\x20",
    "promoción\x20oficial",
    "submit",
    "🏦\x20Error\x20de\x20facturación:\x20Habilita\x20billing\x20en\x20Google\x20Cloud",
    "abs",
    "#mensajeActualizacion",
    "fuente",
    "false",
    "⚠️\x20Error\x20con\x20endpoint\x20básico:",
    "🔄\x20Consultando\x20endpoint\x20básico...",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-secondary\x20mt-2\x22\x20style=\x22font-size:0.9rem;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Códigos\x20disponibles:</strong>\x20",
    "list-group-item\x20list-group-item-action\x20d-flex\x20align-items-center",
    "statechange",
    "removeAttribute",
    "serviceWorker",
    "✅\x20Service\x20Worker\x20registrado:",
    "trim",
    "<div\x20class=\x22alert\x20alert-danger\x22\x20role=\x22alert\x22>Por\x20favor\x20autoriza\x20el\x20acceso\x20a\x20la\x20cámara</div>",
    "</strong>\x20resultados\x20para\x20\x22",
    "❌\x20Error\x20específico\x20del\x20backend:",
    "🔑\x20PROBLEMA:\x20API\x20Key\x20inválida",
    "<br>•\x20🔍\x20<strong>Códigos\x20detectados:</strong>\x20",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20<br><small\x20class=\x22text-muted\x22>Verifica\x20que\x20el\x20proxy\x20de\x20Vercel\x20esté\x20funcionando</small>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20",
    "upc_e",
    "🔥\x20",
    "https://media.megaservicio.net",
    "✅\x20Configuración\x20guardada",
    "toLocaleDateString",
    "idPromo",
    "Formato\x20de\x20promociones\x20inválido",
    "remove",
    "❓\x20Error\x20desconocido\x20en\x20Google\x20Vision\x20API",
    "bg-warning",
    "canUseAPI",
    "\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20",
    "\x20unidades\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "warn",
    "location",
    "upc_a",
    "</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22small\x20text-muted\x22>",
    "boundingBox",
    "installed",
    "<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20•\x20<strong>Actualizado:</strong>\x20",
    "maxWidth",
    "200px",
    "\x20\x20\x20Posibles\x20causas:",
    "activo",
    "dailyUsed",
    "❌\x20Error\x20de\x20conexión",
    "\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Ver\x20Detalle\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20",
    "forEach",
    "Fecha\x20desconocida",
    "\x20promocion(es)\x20encontrada(s)\x20para\x20SKU:\x20",
    "❌\x20Todas\x20las\x20configuraciones\x20fallaron",
    "\x20días",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-decoration-line-through\x20text-muted\x20d-block\x22\x20style=\x22font-size:\x201.1rem;\x22>$",
    "bi\x20bi-grid-3x3-gap",
    "CODE_128",
    "labelVista",
    "\x20\x20\x20•\x20Problema\x20en\x20el\x20código\x20de\x20la\x20función\x20serverless",
    "split",
    "join",
    "credit",
    "<i\x20class=\x22bi\x20bi-clipboard\x22></i>",
    "Básicos,\x20códigos\x20de\x20barras\x20y\x20promociones",
    "skus",
    "resultados_view",
    "Backend\x20error",
    "total",
    "sort",
    "toFixed",
    "?t=",
    "no-store",
    "pro_mensaje",
    "\x22\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-muted\x20small\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20Vista:\x20",
    "</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-muted\x22>SKU:\x20",
    "preventDefault",
    "hide",
    "189WLwvUo",
    "right",
    "🌐\x20<strong>Backend:</strong>\x20",
    "consultarProductoDesdeHistorial",
    "CANTIDAD_X_PRECIO_FIJO",
    "reason",
    "other",
    "</small>",
    "replace",
    "\x22\x20loading=\x22lazy\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22width:\x2060px;\x20height:\x2060px;\x20object-fit:\x20contain;\x20border-radius:\x208px;\x20background:\x20#f8f9fa;\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onerror=\x22this.style.display=\x27none\x27\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "verificadorB9DB",
    ".alert-danger",
    "alternativa",
    "codigo",
    "),\x20",
    "upc_e_reader",
    "</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-success\x22\x20onclick=\x22mostrarModalPromocionesGenerales()\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20🔄\x20Reintentar\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20",
    "ℹ️\x20Promos\x20locales\x20disponibles:",
    "bg-success",
    "left",
    "❌\x20Elementos\x20críticos\x20no\x20encontrados:",
    "x-large",
    "reload",
    "sugerenciasDiv",
    "validTo",
    "</small></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22badge\x20",
    "📸\x20Procesando\x20con\x20Quagga...",
    "clase",
    "\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20align-items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>",
    "⚠️\x20Usando\x20nombre\x20completo:",
    "grid",
    "bg-light\x20text-dark",
    "totalCodigos",
    "banco",
    "⚠️\x20<strong>Límite\x20cerca:</strong>\x20",
    "Promoción\x20especial",
    "column",
    "\x20horas",
    "font",
    "ITF",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-2\x22\x20style=\x22background-color:#f8f9fa;\x20border-radius:8px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20style=\x22color:#495057;\x22>🏷️\x20PROMOCIONES\x20ACTIVAS</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "Productos\x20básicos,\x20códigos\x20de\x20barras\x20y\x20promociones",
    "count",
    "getMonth",
    "</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "prompt",
    "mesReporte",
    "\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-12\x20col-lg-8\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fw-bold\x20nombre-producto-responsive\x22\x20style=\x22color:#616161;\x22>",
    "center",
    "5532yemhjr",
    "</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-success\x20fw-bold\x20mt-1\x22>$",
    "Timeout",
    "Algunos\x20endpoints\x20fallaron\x20(",
    "</small>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20",
    "Error\x20verificando\x20datos\x20locales:",
    "Generando...",
    "findIndex",
    "removeChild",
    "⚙️\x20Configuración\x20de\x20detección\x20avanzada",
    "⚠️\x20Consulta\x20parcial\x20de\x20endpoints",
    "🔧\x20Problema\x20de\x20CORS\x20detectado\x20-\x20necesita\x20configuración\x20en\x20backend",
    "<i\x20class=\x22bi\x20bi-clipboard-check\x22></i>",
    "✅\x20Código\x20detectado\x20(configuración\x20agresiva):",
    "totalProductos",
    "✅\x20Tercera\x20tentativa\x20exitosa:",
    "getImageData",
    "Procesando\x20productos",
    "<div\x20class=\x22alert\x20alert-danger\x22\x20role=\x22alert\x22>\x0a\x20\x20\x20\x20\x20\x20<strong>⚠️\x20No\x20se\x20detectó\x20código\x20válido</strong><br>\x0a\x20\x20\x20\x20\x20\x20Para\x20códigos\x20largos\x20como\x20este,\x20intenta:<br>\x0a\x20\x20\x20\x20\x20\x20•\x20📏\x20<strong>Recortar\x20muy\x20cerca\x20del\x20código</strong><br>\x0a\x20\x20\x20\x20\x20\x20•\x20💡\x20<strong>Mejor\x20iluminación\x20uniforme</strong><br>\x0a\x20\x20\x20\x20\x20\x20•\x20📱\x20<strong>Evitar\x20superficies\x20reflectivas</strong><br>\x0a\x20\x20\x20\x20\x20\x20•\x20🔍\x20<strong>Imagen\x20más\x20nítida\x20y\x20estable</strong>",
    "https://verificadorb9-backend.vercel.app/api/productos",
    ",\x20Diario:\x20",
    "QR_CODE",
    "Modal",
    "toString",
    "✅\x20Google\x20Vision\x20detectó:",
    "allSettled",
    "Cargando\x20promociones",
    "🧪\x20Probando\x20vision-detect\x20con\x20imagen\x20de\x20prueba...",
    "🏷️\x20Promociones\x20oficiales\x20filtradas:",
    "PERMISSION_DENIED",
    "code_39",
    "pageSize",
    "className",
    ".modal-backdrop",
    "querySelector",
    "\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22alert\x20alert-warning\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22bi\x20bi-exclamation-triangle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20Por\x20favor\x20selecciona\x20un\x20mes\x20para\x20generar\x20el\x20reporte.\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20",
    "flex",
    "reporteVentasModal",
    "primary",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22badge\x20bg-light\x20text-dark\x20me-1\x20mb-1\x22\x20style=\x22font-size:\x200.7rem;\x22>",
    "</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "enabledCheck",
    "activeElement",
    "</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ms-md-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-primary\x20btn-sm\x20consultar-historial-btn\x22\x20title=\x22Ver\x20detalles\x20completos\x22\x20data-sku=\x22",
    "Fallo\x20al\x20cargar\x20productos\x20iniciales",
    "startsWith",
    "<div\x20class=\x22alert\x20alert-danger\x22>🔑\x20API\x20Key\x20inválida\x20-\x20verifica\x20la\x20configuración\x20en\x20Vercel</div>",
    "btn-outline-primary",
    "\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2080px;\x20object-fit:\x20contain;\x20padding:\x205px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-body\x20p-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-muted\x20d-block\x20text-truncate\x22\x20style=\x22font-size:\x200.7rem;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "getElementById",
    "div",
    "data-sku",
    "\x20productos\x20(",
    "📁\x20Iniciando\x20procesamiento\x20de\x20archivo:",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "\x20promociones\x20(",
    "touch",
    "codeResult",
    "splice",
    "dailyCount",
    "📡\x20Enviando\x20a\x20backend\x20proxy...",
    "controller",
    "14894grCfuU",
    "🔧\x20Error\x20500\x20detectado\x20-\x20Analizando\x20causa\x20específica:",
    "setItem",
    "\x22\x20formato:\x20",
    "dailyLimit",
    "isConfirmed",
    "matchAll",
    "\x20más</span>",
    "historial",
    ".copiar-btn",
    "Nueva\x20versión\x20disponible.\x20¿Recargar\x20la\x20página?",
    "min",
    "SKIP_WAITING",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h6\x20class=\x22text-muted\x20mb-2\x22>📦\x20Productos\x20en\x20promoción:</h6>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "⚠️\x20Usando\x20solo\x20detección\x20local",
    "postMessage",
    "\x20encontrados</span>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22alert\x20alert-success\x20text-center\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<small><strong>⚠️\x20Las\x20promociones\x20solo\x20aplican\x20pagando\x20de\x20contado</strong></small>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20",
    "usarCodigosBarras",
    "https://contador-apicloudvision.vercel.app/api/vision-detect",
    "🔧\x20Error\x20500:\x20Problema\x20con\x20Google\x20Vision\x20API",
    "relative",
    "block",
    "%\x20del\x20total</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22row\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fw-bold\x22>",
    "consultarProductoDesdeModal",
    "btnReporteSpinner",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "BILLING_DISABLED",
    "</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-muted\x22>Unidades</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22text-success\x20d-block\x22\x20style=\x22font-size:\x201.3rem;\x22>$",
    "🚀\x20Usando\x20Barcode\x20Detection\x20API\x20nativa",
    "N/A",
    "🔍\x20Validando:\x20\x22",
    "💰\x20Efectivo",
    "disconnect",
    "Iniciando...",
    "\x20/\x20",
    "<div\x20class=\x22text-center\x20text-muted\x20small\x22>…\x20y\x20",
    "check",
    "</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-muted\x22>",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "<div\x20class=\x22col\x22>",
    "pr_name",
    "PDF_417",
    "d-flex\x20flex-column\x20align-items-center\x20mb-3",
    "💾\x20Guardar",
    "CODE_39",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>",
    "slice",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22alert\x20alert-success\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h6>🎉\x20¡Google\x20Vision\x20API\x20Activa!</h6>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>✅\x20La\x20detección\x20premium\x20está\x20funcionando\x20correctamente</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-muted\x22>Fallback\x20automático:\x20Local\x20→\x20Google\x20Vision</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20",
    "\x0a\x20\x20<div\x20class=\x22d-flex\x20gap-2\x20mb-4\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20id=\x22btnPromociones\x22\x20class=\x22ant-btn\x20css-1r8qqf1\x20ant-btn-default\x20ant-btn-color-default\x20ant-btn-variant-outlined\x20ant-btn-sm\x22\x20style=\x22border-radius:6px;\x20border:1px\x20solid\x20#28a745;\x20background:#d4edda;\x20color:#155724;\x20font-size:0.9rem;\x20padding:2px\x2012px;\x22\x20onclick=\x22mostrarModalPromocionesGenerales()\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20🏷️\x20Ver\x20Promociones\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20id=\x22btnReporteVentas\x22\x20class=\x22ant-btn\x20css-1r8qqf1\x20ant-btn-default\x20ant-btn-color-default\x20ant-btn-variant-outlined\x20ant-btn-sm\x22\x20style=\x22border-radius:6px;\x20border:1px\x20solid\x20#007bff;\x20background:#e7f3ff;\x20color:#004085;\x20font-size:0.9rem;\x20padding:2px\x2012px;\x22\x20onclick=\x22mostrarModalReporteVentas()\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20📊\x20Reporte\x20Ventas\x0a\x20\x20\x20\x20</button>\x0a\x20\x20</div>\x0a\x20\x20<div\x20class=\x22d-flex\x20justify-content-between\x20align-items-center\x20w-100\x20mb-2\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22d-flex\x20flex-column\x20flex-md-row\x20align-items-md-end\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20<h5\x20class=\x22ant-typography\x20css-1r8qqf1\x20mb-0\x22>Productos</h5>\x0a\x20\x20\x20\x20\x20\x20<span\x20id=\x22ultimaActualizacion\x22\x20class=\x22ant-typography\x20css-1r8qqf1\x20ms-md-4\x22\x20style=\x22font-size:1rem;\x22>Última\x20actualización:\x20nunca\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<div\x20class=\x22d-flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20id=\x22btnActualizar\x22\x20class=\x22ant-btn\x20css-1r8qqf1\x20ant-btn-default\x20ant-btn-color-default\x20ant-btn-variant-outlined\x20ant-btn-sm\x22\x20style=\x22border-radius:6px;\x20border:1px\x20solid\x20#d9d9d9;\x20background:#fff;\x20color:#222;\x20font-size:1rem;\x20padding:2px\x2016px;\x20margin-left:15px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22btnTexto\x22>Actualizar</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22btnSpinner\x22\x20class=\x22d-none\x20spinner-border\x20spinner-border-sm\x20ms-2\x22\x20role=\x22status\x22></span>\x0a\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20</div>\x0a\x20\x20<div\x20id=\x22mensajeActualizacion\x22\x20class=\x22text-center\x22\x20style=\x22min-height:\x201.5rem;\x22></div>\x0a\x0a\x20\x20<!--\x20Modal\x20para\x20promociones\x20generales\x20-->\x0a\x20\x20<div\x20class=\x22modal\x22\x20id=\x22promocionesGeneralesModal\x22\x20tabindex=\x22-1\x22\x20aria-labelledby=\x22promocionesGeneralesModalLabel\x22\x20aria-hidden=\x22true\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22modal-dialog\x20modal-xl\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-header\x20bg-success\x20text-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22modal-title\x22\x20id=\x22promocionesGeneralesModalLabel\x22>🏷️\x20Todas\x20las\x20Promociones\x20Disponibles</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn-close\x22\x20onclick=\x22(function(){\x20try{\x20cerrarModalMobile();\x20}catch(e){}\x20try{\x20const\x20m=bootstrap.Modal.getInstance(document.getElementById(\x27promocionesGeneralesModal\x27));\x20if(m)\x20m.hide();\x20}catch(e){}\x20})()\x22\x20aria-label=\x22Close\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-body\x22\x20id=\x22promociones-generales-modal-body\x22\x20style=\x22max-height:\x2070vh;\x20overflow-y:\x20auto;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22spinner-border\x20text-success\x22\x20role=\x22status\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22visually-hidden\x22>Cargando\x20promociones...</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>Cargando\x20promociones...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-muted\x20me-auto\x22>⚠️\x20Las\x20promociones\x20solo\x20aplican\x20pagando\x20de\x20contado</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-secondary\x22\x20onclick=\x22(function(){\x20try{\x20cerrarModalMobile();\x20}catch(e){}\x20try{\x20const\x20m=bootstrap.Modal.getInstance(document.getElementById(\x27promocionesGeneralesModal\x27));\x20if(m)\x20m.hide();\x20}catch(e){}\x20})()\x22>Cerrar</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20</div>\x0a\x0a\x20\x20<!--\x20Modal\x20para\x20reporte\x20de\x20ventas\x20-->\x0a\x20\x20<div\x20class=\x22modal\x22\x20id=\x22reporteVentasModal\x22\x20tabindex=\x22-1\x22\x20aria-labelledby=\x22reporteVentasModalLabel\x22\x20aria-hidden=\x22true\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22modal-dialog\x20modal-xl\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-header\x20bg-primary\x20text-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22modal-title\x22\x20id=\x22reporteVentasModalLabel\x22>📊\x20Reporte\x20de\x20Ventas</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn-close\x22\x20onclick=\x22cerrarModalReporteVentas()\x22\x20aria-label=\x22Close\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-body\x22\x20id=\x22reporte-ventas-modal-body\x22\x20style=\x22max-height:\x2070vh;\x20overflow-y:\x20auto;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22row\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-md-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22mesReporte\x22\x20class=\x22form-label\x22>Seleccionar\x20Mes:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22month\x22\x20id=\x22mesReporte\x22\x20class=\x22form-control\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-md-4\x20d-flex\x20align-items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-primary\x22\x20onclick=\x22generarReporteVentas()\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22btnReporteTexto\x22>Generar\x20Reporte</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22btnReporteSpinner\x22\x20class=\x22d-none\x20spinner-border\x20spinner-border-sm\x20ms-2\x22\x20role=\x22status\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22reporte-contenido\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20text-muted\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22bi\x20bi-bar-chart\x22\x20style=\x22font-size:\x203rem;\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>Selecciona\x20un\x20mes\x20y\x20genera\x20el\x20reporte\x20para\x20ver\x20las\x20ventas\x20por\x20vendedor.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-secondary\x22\x20onclick=\x22cerrarModalReporteVentas()\x22>Cerrar</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20</div>\x0a",
    "round",
    "qr_code",
    "Sin\x20conexión\x20a\x20internet",
    "beforeinstallprompt",
    "autoplay",
    "ultimaActualizacion",
    "error",
    "✅\x20Código\x20válido\x20seleccionado:\x20",
    "fixed",
    "Error\x20HTTP:\x20",
    "</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22small\x20text-muted\x22>(",
    "unshift",
    "lastUsedDate",
    "<div\x20class=\x22me-3\x22\x20style=\x22min-width:60px;\x22><img\x20src=\x22",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "modal-open",
    "bg-primary",
    "SKU",
    "Error\x20obteniendo\x20promociones:",
    "indexeddb_local",
    "<span\x20class=\x22badge\x20bg-success\x20text-white\x20me-2\x20mb-1\x22\x20style=\x22font-size:0.85rem;\x22>🔥\x20",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22card-text\x20text-muted\x20small\x22>",
    "warningThreshold",
    "</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-muted\x22\x20style=\x22font-size:0.8rem;\x20margin-top:-2px;\x22>MSI</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20Código\x20de\x20barras\x20funcional\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<canvas\x20id=\x22barcode-",
    "userChoice",
    "promociones-generales-modal-body",
    "Página\x20",
    "\x22\x20style=\x22width:218px;\x20height:124px;\x20object-fit:contain;\x20background:#fff;\x20border-radius:12px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20",
    "Lista",
    "⚠️\x20Solo\x20cantidad\x20extraída:",
    "✅\x20Los\x203\x20endpoints\x20consultados",
    "hasAttribute",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-12\x20col-md-6\x20col-lg-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20h-100\x20border-success\x22\x20style=\x22cursor:pointer;\x22\x20onclick=\x22mostrarProductoPromocion(\x27",
    "insertAdjacentHTML",
    "</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-muted\x20small\x22>Tickets</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fw-bold\x22>$",
    "reduce",
    "resultado",
    "25hthRPT",
    "pageIndicator",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20text-muted\x20p-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22bi\x20bi-box-seam\x22\x20style=\x22font-size:\x202rem;\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x20mb-0\x22>Productos\x20no\x20disponibles</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "1055",
    "ean_reader",
    "🔍\x20Buscando\x20promociones\x20para\x20SKU:",
    "📋\x20Probando\x20configuración:\x20",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-success\x22\x20style=\x22font-weight:500;\x22>⚠️\x20Las\x20promociones\x20solo\x20aplican\x20pagando\x20de\x20contado</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20",
    "credit_card",
    "data-form-type",
    "pro_precioPromo",
    "PRECIO",
    "%</small>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress\x22\x20style=\x22height:\x208px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-bar\x20bg-",
    "register",
    "✅\x20Datos\x20locales\x20encontrados:\x20productos:",
    "códigos\x20de\x20barras\x20❌\x20(timeout/error)",
    "Error\x20inicial\x20cargando\x20productos:",
    "\x20tickets)</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "json",
    "button",
    "clear",
    "productosConCodigos",
    "\x20más</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "barcode-",
    "</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ms-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-primary\x20btn-sm\x22\x20onclick=\x22(function(){\x20cerrarResultadosModal();\x20mostrarDetalleProductoBySKU(\x27",
    "format",
    "principal",
    "<div\x20class=\x22alert\x20alert-danger\x22\x20role=\x22alert\x22>No\x20se\x20encontraron\x20resultados\x20para:\x20",
    "pro_tipoPromo",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20",
    "🎯\x20Umbral\x20calculado:\x20",
    "</span>",
    "enabled",
    "monthlyLimit",
    "❌\x20Error\x20con\x20API\x20nativa,\x20usando\x20fallback:",
    "video",
    "ean_13",
    "</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20justify-content-between\x20align-items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-success\x20fw-bold\x22>$",
    "<li\x20class=\x22list-group-item\x20d-flex\x20flex-column\x20flex-md-row\x20justify-content-between\x20align-items-md-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22d-flex\x20align-items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>",
    "getAll",
    "Backend\x20no\x20disponible\x20-\x20usando\x20detección\x20local",
    "✅\x20Google\x20Vision\x20API\x20usada\x20exitosamente\x20-\x20contador\x20local\x20actualizado",
    "<br><br>📊\x20<strong>Uso\x20local:</strong>\x20",
    "detect",
    "resultados-busqueda-body",
    "📸\x20Preparando\x20imagen\x20para\x20Google\x20Vision...",
    "\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22alert\x20alert-danger\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22bi\x20bi-exclamation-triangle\x22\x20style=\x22font-size:\x203rem;\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h6\x20class=\x22mt-3\x22>❌\x20Error\x20al\x20cargar\x20promociones</h6>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>",
    "upc_reader",
    "overflow",
    "🧪\x20Respuesta\x20completa\x20vision-detect:",
    "filter",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22text-muted\x22>-</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-muted\x22>Sin\x20datos</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "absolute",
    "⚡\x20Actualización\x20completada\x20en\x20",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22row\x22>\x0a\x20\x20\x20\x20",
    "\x20comprando\x20",
    "\x0a\x20\x20/*\x20Estilos\x20específicos\x20para\x20modal\x20en\x20móviles\x20*/\x0a\x20\x20@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20/*\x20Evitar\x20oscurecimiento\x20de\x20fondo\x20en\x20móviles\x20*/\x0a\x20\x20\x20\x20.modal-backdrop,\x0a\x20\x20\x20\x20.modal-backdrop.show,\x0a\x20\x20\x20\x20.modal-backdrop.fade\x20{\x0a\x20\x20\x20\x20\x20\x20display:\x20none\x20!important;\x0a\x20\x20\x20\x20\x20\x20opacity:\x200\x20!important;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20#promocionesGeneralesModal.show,\x0a\x20\x20\x20\x20#resultadosBusquedaModal.show\x20{\x0a\x20\x20\x20\x20\x20\x20display:\x20flex\x20!important;\x0a\x20\x20\x20\x20\x20\x20align-items:\x20stretch\x20!important;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20#promocionesGeneralesModal.show\x20.modal-dialog,\x0a\x20\x20\x20\x20#resultadosBusquedaModal.show\x20.modal-dialog\x20{\x0a\x20\x20\x20\x20\x20\x20width:\x20100%\x20!important;\x0a\x20\x20\x20\x20\x20\x20max-width:\x20100%\x20!important;\x0a\x20\x20\x20\x20\x20\x20height:\x20100%\x20!important;\x0a\x20\x20\x20\x20\x20\x20margin:\x200\x20!important;\x0a\x20\x20\x20\x20\x20\x20display:\x20flex\x20!important;\x0a\x20\x20\x20\x20\x20\x20flex-direction:\x20column\x20!important;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20#promocionesGeneralesModal.show\x20.modal-content,\x0a\x20\x20\x20\x20#resultadosBusquedaModal.show\x20.modal-content\x20{\x0a\x20\x20\x20\x20\x20\x20width:\x20100%\x20!important;\x0a\x20\x20\x20\x20\x20\x20height:\x20100%\x20!important;\x0a\x20\x20\x20\x20\x20\x20border:\x20none\x20!important;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x200\x20!important;\x0a\x20\x20\x20\x20\x20\x20display:\x20flex\x20!important;\x0a\x20\x20\x20\x20\x20\x20flex-direction:\x20column\x20!important;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20#promocionesGeneralesModal.show\x20.modal-body,\x0a\x20\x20\x20\x20#resultadosBusquedaModal.show\x20.modal-body\x20{\x0a\x20\x20\x20\x20\x20\x20flex:\x201\x20!important;\x0a\x20\x20\x20\x20\x20\x20overflow-y:\x20auto\x20!important;\x0a\x20\x20\x20\x20\x20\x20-webkit-overflow-scrolling:\x20touch\x20!important;\x0a\x20\x20\x20\x20\x20\x20max-height:\x20none\x20!important;\x0a\x20\x20\x20\x20\x20\x20padding:\x201rem\x20!important;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20#promocionesGeneralesModal.show\x20.modal-header,\x0a\x20\x20\x20\x20#resultadosBusquedaModal.show\x20.modal-header\x20{\x0a\x20\x20\x20\x20\x20\x20flex-shrink:\x200\x20!important;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20#promocionesGeneralesModal.show\x20.modal-footer,\x0a\x20\x20\x20\x20#resultadosBusquedaModal.show\x20.modal-footer\x20{\x0a\x20\x20\x20\x20\x20\x20flex-shrink:\x200\x20!important;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20/*\x20Asegurar\x20que\x20las\x20tarjetas\x20no\x20causen\x20overflow\x20horizontal\x20*/\x0a\x20\x20\x20\x20#promocionesGeneralesModal\x20.row\x20{\x0a\x20\x20\x20\x20\x20\x20margin-left:\x20-8px\x20!important;\x0a\x20\x20\x20\x20\x20\x20margin-right:\x20-8px\x20!important;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20#promocionesGeneralesModal\x20[class*=\x22col-\x22]\x20{\x0a\x20\x20\x20\x20\x20\x20padding-left:\x208px\x20!important;\x0a\x20\x20\x20\x20\x20\x20padding-right:\x208px\x20!important;\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a\x20\x20\x0a\x20\x20/*\x20Mejorar\x20scroll\x20en\x20todos\x20los\x20dispositivos\x20móviles\x20*/\x0a\x20\x20@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20#promocionesGeneralesModal\x20.modal-body\x20{\x0a\x20\x20\x20\x20\x20\x20-webkit-overflow-scrolling:\x20touch\x20!important;\x0a\x20\x20\x20\x20\x20\x20transform:\x20translate3d(0,\x200,\x200)\x20!important;\x20/*\x20Forzar\x20aceleración\x20por\x20hardware\x20*/\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a",
    "básico\x20❌\x20(error)",
    "💡\x20Ve\x20a:\x20https://console.developers.google.com/billing/enable?project=1070150612422",
    "pointerEvents",
    "has",
    "</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-muted\x22>SKU:\x20",
    "history",
    "Productos:\x20",
    "📊\x20Resumen\x20endpoints\x20productos:",
    "💡\x20Ve\x20a:\x20https://console.cloud.google.com/apis/library/vision.googleapis.com",
    "flexDirection",
    "productos_ts",
    "FECHA_ESCANEO",
    "NOMBRE",
    "focus",
    "detalleVendedorModal",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h6>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22badge\x20bg-warning\x20text-dark\x22>",
    "ticket",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "Error:\x20No\x20se\x20pudieron\x20encontrar\x20los\x20elementos\x20necesarios\x20en\x20la\x20página",
    "BarcodeDetector",
    "success",
    "precio\x20especial",
    "autocomplete",
    "Promoción\x20",
    "setAttribute",
    "precioTotal",
    "\x20\x20\x20•\x20API\x20Key\x20inválida\x20o\x20límites\x20excedidos",
    "createElement",
    "\x20minutos",
    "\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-header\x20",
    "getUsageStatus",
    "btnPrevResultados",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-6\x20col-md-3\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20border-0\x20bg-light\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-img-top\x20d-flex\x20align-items-center\x20justify-content-center\x20bg-secondary\x22\x20style=\x22height:\x2080px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-white\x22>📦</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-body\x20p-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-muted\x20d-block\x20text-truncate\x22\x20style=\x22font-size:\x200.7rem;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "\x22\x20role=\x22progressbar\x22\x20style=\x22width:\x20",
    "message",
    "Bootstrap\x20modal\x20no\x20activo",
    "valor_total",
    "classList",
    "🚀\x20Iniciando\x20actualización\x20con\x20progreso...",
    "btnIrPagina",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22border-top\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h6\x20class=\x22text-center\x20mb-3\x22>�\x20Métodos\x20de\x20Pago</h6>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "pro_grupoProductos_primaria",
    "Cuadros",
    "</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22text-success\x20fw-bold\x22>$",
    "price",
    "\x22\x20aria-valuemin=\x220\x22\x20aria-valuemax=\x22100\x22></div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20",
    "code_128",
    ")<br>",
    "1\x20-\x20",
    "getRegistrations",
    "\x20segundos",
    "d-none",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22me-3\x20d-flex\x20align-items-center\x20justify-content-center\x20bg-light\x20rounded\x22\x20style=\x22min-width:\x2060px;\x20height:\x2060px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22bi\x20bi-image\x20text-muted\x22\x20style=\x22font-size:\x201.5rem;\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "blur",
    "remainingDaily",
    "srcObject",
    "\x20mensual,\x20",
    "EAN_13",
    "\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22alert\x20alert-warning\x20text-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<strong>⚠️\x20Las\x20promociones\x20solo\x20aplican\x20pagando\x20de\x20contado</strong>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20",
    "onupgradeneeded",
    "bg-info",
    "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg==",
    "iconVista",
    "placeholder",
    "push",
    "target",
    "formulario",
    "input",
    "stringify",
    "transfer",
    "Finalizada\x20en\x20",
    "toDateString",
    "</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-link\x20btn-sm\x20ms-2\x20p-0\x20copiar-btn\x22\x20title=\x22Copiar\x20descripción\x22\x20data-copiar=\x22",
    "Generar\x20Reporte",
    "getTracks",
    "\x22\x20alt=\x22",
    ";\x20path=/",
    "🔗\x20Ve\x20a:\x20https://console.cloud.google.com/billing",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20Área\x20para\x20mostrar\x20resultados\x20del\x20diagnóstico\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22diagnostico-resultado\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22alert\x20alert-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>💡\x20Detección\x20de\x20Códigos\x20de\x20Barras:</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20•\x20📷\x20<strong>Local:</strong>\x20Html5QrCode\x20+\x20BarcodeDetector\x20+\x20Quagga.js<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20•\x20🌐\x20<strong>Premium:</strong>\x20Google\x20Vision\x20API\x20(para\x20códigos\x20difíciles)<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20•\x20🔄\x20<strong>Automático:</strong>\x20Fallback\x20inteligente\x20entre\x20métodos\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22alert\x20alert-success\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>✅\x20Ventajas\x20del\x20backend:</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20•\x20Sin\x20límites\x20por\x20dispositivo<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20•\x20Detección\x20superior\x20en\x20superficies\x20reflectivas<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20•\x20Mejor\x20precisión\x20con\x20códigos\x20largos<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20•\x20Funciona\x20con\x20imágenes\x20de\x20baja\x20calidad<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20•\x20Gestión\x20centralizada\x20de\x20recursos\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22alert\x20alert-warning\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>🔄\x20Fallback\x20automático:</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Si\x20el\x20backend\x20no\x20está\x20disponible,\x20la\x20app\x20usará\x20detección\x20local\x20automáticamente.\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-muted\x20small\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>💡\x20Recomendación:</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Mantén\x20activada\x20la\x20detección\x20avanzada\x20para\x20mejores\x20resultados.\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20",
    "DOMContentLoaded",
    "⚠️\x20Error\x20al\x20procesar\x20producto\x20",
    "test",
    "height",
    "reporte-contenido",
    "codabar_reader",
    "tickets",
    "</h6>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22row\x20text-center\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-md-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22h4\x20text-primary\x22>$",
    "\x0a\x20\x20\x20\x20<div\x20class=\x22mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20justify-content-between\x20align-items-center\x20mb-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22fw-medium\x22>",
    "none",
    "API_KEY_INVALID",
    "<div\x20class=\x22alert\x20alert-danger\x22>❓\x20Error\x20desconocido\x20en\x20Google\x20Vision\x20API</div>",
    "bg-success\x20text-white",
    "</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-success\x22>Total\x20con\x20Promo</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "📸\x20Usando\x20Quagga\x20como\x20fallback",
    "show",
    "🔄\x20Backend\x20no\x20disponible,\x20usando\x20detección\x20local",
    "📊\x20Datos\x20finales\x20para\x20construcción:",
    "position",
    "race",
    "clipboard",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22row\x20text-center\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "\x20small\x22>",
    "onclick",
    "accepted",
    "UPC",
    "querySelectorAll",
    "monthlyUsed",
    "🏷️\x20",
    "💡\x20El\x20contador\x20del\x20backend\x20se\x20actualiza\x20automáticamente\x20en\x20el\x20servidor",
    "onload",
    "12px\x20Arial",
    "pr_imagen",
    "getItem",
    "Hace\x20",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-body\x20p-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fw-semibold\x20text-truncate\x22\x20title=\x22",
    "<div\x20class=\x22alert\x20alert-info\x22\x20role=\x22alert\x22>Buscando\x20producto...</div>",
    "type",
    "resultadosBusquedaModal",
    "code_128_reader",
    "</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "keydown",
    "💾\x20Promociones\x20guardadas\x20en\x20IndexedDB",
    "code",
    "❌\x20Cancelar",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20",
    "toISOString",
    "controllerchange",
    "💳\x20Tarjeta\x20Crédito",
    "✅\x20Extraído\x20formato\x20completo\x20del\x20nombre:",
    "pro_nombrePromo",
    "addEventListener",
    "✅\x20Códigos\x20válidos:\x20",
    "fillText",
    "transparent",
    "Formato:",
    "💡\x20Verifica\x20que\x20el\x20proyecto\x20#1070150612422\x20tenga\x20facturación\x20activa",
    "objectStore",
    "Error\x20en\x20actualización:",
    "\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-body\x20p-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20",
    "userAgent",
    "✅\x20Productos\x20cargados\x20con\x20códigos\x20de\x20barras:",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-6\x20col-md-3\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20border-0\x20bg-light\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22",
    "#btnActualizar",
    "1\x20endpoint\x20completado,\x20finalizando...",
    "recordUsage",
    "debit_card",
    "decodeSingle",
    "drawImage",
    "observe",
    "add",
    "importe",
    "data",
    "btn-success",
    "No\x20se\x20puede\x20generar\x20código\x20de\x20barras:\x20canvas\x20o\x20código\x20faltante",
    "ultimosVendedores",
    "<div\x20class=\x22alert\x20alert-danger\x22\x20role=\x22alert\x22>No\x20se\x20pudo\x20acceder\x20a\x20la\x20cámara:\x20",
    "mensaje",
    "getUserMedia",
    "installBtn",
    "⚠️\x20Límite\x20local\x20alcanzado.\x20Mensual:\x20",
    "onerror",
    "💳\x20Tarjeta\x20Débito",
    "\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22row\x20row-cols-2\x20row-cols-md-3\x20row-cols-lg-4\x20g-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20",
    ".modal-dialog",
    "#198754",
    "</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20",
    "#ffffff",
    "Nunca",
    "\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-2\x20text-center\x22\x20style=\x22background-color:#f8f9fa;\x20border-radius:8px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-muted\x22>ℹ️\x20Sin\x20promociones\x20activas</small>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20",
    "zIndex",
    "some",
    "<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20•\x20<strong>Códigos\x20totales:</strong>\x20",
    "\x0a\x20\x20#reader\x20{\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20width:\x20320px;\x0a\x20\x20\x20\x20height:\x20120px;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20margin:\x200\x20auto;\x0a\x20\x20\x20\x20background:\x20#000;\x0a\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20box-shadow:\x200\x202px\x208px\x20rgba(0,0,0,0.15);\x0a\x20\x20}\x0a\x20\x20/*\x20Imagen\x20fija\x20para\x20tarjetas\x20de\x20resultados\x20(grid)\x20*/\x0a\x20\x20.result-card-img\x20{\x0a\x20\x20\x20\x20height:\x20120px;\x0a\x20\x20\x20\x20background:\x20#fff;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20border-top-left-radius:\x200.375rem;\x0a\x20\x20\x20\x20border-top-right-radius:\x200.375rem;\x0a\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20}\x0a\x20\x20.result-card-img\x20img\x20{\x0a\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20object-fit:\x20contain;\x0a\x20\x20\x20\x20background:\x20#fff;\x0a\x20\x20}\x0a\x20\x20/*\x20El\x20espaciado\x20del\x20grid\x20lo\x20maneja\x20Bootstrap\x20g-3;\x20sin\x20margen\x20extra\x20en\x20la\x20card\x20para\x20evitar\x20desalineación\x20*/\x0a\x20\x20.result-card\x20{\x20margin:\x200;\x20}\x0a\x20\x20.promo-badge\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x206px;\x0a\x20\x20\x20\x20left:\x206px;\x0a\x20\x20\x20\x20font-size:\x200.7rem;\x0a\x20\x20}\x0a\x20\x20@media\x20(max-width:\x20576px)\x20{\x0a\x20\x20\x20\x20.result-card-img\x20{\x0a\x20\x20\x20\x20\x20\x20height:\x20100px;\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a\x20\x20#reader\x20video\x20{\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20transform:\x20translateX(-50%);\x0a\x20\x20\x20\x20width:\x20320px\x20!important;\x0a\x20\x20\x20\x20height:\x20120px\x20!important;\x0a\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20}\x0a\x20\x20\x0a\x20\x20/*\x20Estilos\x20responsivos\x20para\x20nombre\x20del\x20producto\x20*/\x0a\x20\x20.nombre-producto-responsive\x20{\x0a\x20\x20\x20\x20font-size:\x201.4rem;\x0a\x20\x20\x20\x20line-height:\x201.3;\x0a\x20\x20\x20\x20margin-bottom:\x200.5rem;\x0a\x20\x20}\x0a\x20\x20\x0a\x20\x20@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.nombre-producto-responsive\x20{\x0a\x20\x20\x20\x20\x20\x20font-size:\x201.2rem\x20!important;\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a\x20\x20\x0a\x20\x20@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.nombre-producto-responsive\x20{\x0a\x20\x20\x20\x20\x20\x20font-size:\x201.1rem\x20!important;\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a\x0a\x20\x20/*\x20Estilos\x20responsivos\x20para\x20precios\x20*/\x0a\x20\x20.precio-responsive\x20{\x0a\x20\x20\x20\x20font-size:\x203.5rem;\x0a\x20\x20}\x0a\x20\x20\x0a\x20\x20@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.precio-responsive\x20{\x0a\x20\x20\x20\x20\x20\x20font-size:\x202.2rem\x20!important;\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a\x20\x20\x0a\x20\x20@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.precio-responsive\x20{\x0a\x20\x20\x20\x20\x20\x20font-size:\x201.8rem\x20!important;\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a\x20\x20\x0a\x20\x20/*\x20Estilos\x20para\x20código\x20de\x20barras\x20funcional\x20*/\x0a\x20\x20.barcode-canvas\x20{\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20height:\x20auto;\x0a\x20\x20\x20\x20border:\x201px\x20solid\x20#ddd;\x0a\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20background:\x20#ffffff;\x0a\x20\x20}\x0a\x20\x20\x0a\x20\x20.codigo-barras-container\x20{\x0a\x20\x20\x20\x20max-width:\x20300px;\x0a\x20\x20\x20\x20margin:\x200\x20auto;\x0a\x20\x20}\x0a\x20\x20\x0a\x20\x20@media\x20(max-width:\x20768px)\x20{\x0a\x20\x20\x20\x20.codigo-barras-container\x20{\x0a\x20\x20\x20\x20\x20\x20padding:\x202rem\x20!important;\x0a\x20\x20\x20\x20\x20\x20max-width:\x20250px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.barcode-canvas\x20{\x0a\x20\x20\x20\x20\x20\x20max-width:\x20200px;\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a\x20\x20\x0a\x20\x20@media\x20(max-width:\x20480px)\x20{\x0a\x20\x20\x20\x20.codigo-barras-container\x20{\x0a\x20\x20\x20\x20\x20\x20padding:\x201.5rem\x20!important;\x0a\x20\x20\x20\x20\x20\x20max-width:\x20200px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.barcode-canvas\x20{\x0a\x20\x20\x20\x20\x20\x20max-width:\x20160px;\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a\x0a\x20\x20/*\x20Modal\x20de\x20resultados\x20al\x2080%\x20en\x20desktop\x20*/\x0a\x20\x20@media\x20(min-width:\x20992px)\x20{\x0a\x20\x20\x20\x20#resultadosBusquedaModal\x20.modal-dialog\x20{\x0a\x20\x20\x20\x20\x20\x20width:\x2080vw\x20!important;\x0a\x20\x20\x20\x20\x20\x20max-width:\x2080vw\x20!important;\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a",
    "https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js",
    "pro_cantidad_base",
    "\x22\x20class=\x22card-img-top\x22\x20alt=\x22",
    "PROMO",
    "<span\x20class=\x22badge\x20bg-success\x20text-white\x20promo-badge\x22>🏷️\x20PROMO</span>",
    "\x0a\x20\x20\x20\x20</div>\x0a\x20\x20",
    "limpiarHistorialBtn",
    "🔄\x20Probando\x20configuración\x20alternativa...",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22alert\x20alert-warning\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h6>🏦\x20Problema\x20de\x20Facturación</h6>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>La\x20facturación\x20no\x20está\x20habilitada\x20en\x20el\x20proyecto\x20correcto\x20(#1070150612422)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small><a\x20href=\x22https://console.cloud.google.com/billing\x22\x20target=\x22_blank\x22>Ve\x20a\x20Google\x20Cloud\x20Billing</a></small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "184446RnGJLt",
    "parentNode",
    "⚠️\x20API\x20nativa\x20no\x20detectó\x20códigos\x20válidos",
    "?stats=true",
    "\x22\x20(",
    "</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td><small>",
    "<br><br>🌐\x20<strong>Backend:</strong>\x20Error\x20verificando\x20estado",
    "🎉\x20¡Google\x20Vision\x20API\x20funcionando\x20correctamente!",
    "true",
    "\x20promociones",
    "Error\x20procesando\x20imagen:",
    "#btnTexto",
    "code_32_reader",
    "POST",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20justify-content-between\x20align-items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-primary\x22\x20style=\x22font-size:\x200.65rem;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SKU:\x20",
    "5012652ROctPM",
    "description",
    "margin",
    "then",
    "now",
    "agresiva",
    "<div\x20class=\x22text-muted\x22\x20style=\x22font-size:2rem;\x22><i\x20class=\x22bi\x20bi-image\x22></i></div>",
    "metodoPago",
    "getInstance",
    "applyConstraints",
    "max",
    "</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "hidden.bs.modal",
    "📋\x20Cheque",
    "card",
    "ean_8",
    "📋\x20Detalles\x20completos:",
    "#6c757d",
    "code_39_vin_reader",
    "\x0a\x20\x20\x20\x20<div\x20class=\x22d-flex\x20justify-content-between\x20align-items-center\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<strong>",
    "<span\x20class=\x22badge\x20bg-light\x20text-dark\x22>TOP</span>",
    "saveUsage",
    "toDataURL",
    "⚠️\x20Error\x20con\x20endpoint\x20de\x20códigos\x20de\x20barras:",
    "Error\x20cargando\x20promociones:",
    "18726VrlHxt",
    "./service-worker.js",
    "putImageData",
    "ean_8_reader",
    "</h6>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-body\x20p-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22productos-lista\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "style",
    "large",
    "checked",
    "detalle",
    "</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-muted\x22>",
    "274288odZrad",
    "requestSubmit",
    "Actualizar",
    "</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22alert\x20alert-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h6>ℹ️\x20Sin\x20promociones</h6>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>No\x20hay\x20promociones\x20activas\x20en\x20este\x20momento.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22alert\x20alert-warning\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>⚠️\x20Las\x20promociones\x20solo\x20aplican\x20pagando\x20de\x20contado</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20",
    "productos",
    "appendChild",
    "❌\x20Error\x20al\x20generar\x20reporte\x20de\x20ventas:",
    "onLine",
    ")\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id=\x22btn-vendedor-",
    "\x20para:\x20",
    "6DnHEDx",
    "Combo\x20Especial",
    "<div\x20class=\x22text-center\x20text-muted\x22>Sin\x20resultados</div>",
    "result",
    "catch",
    "\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22row\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20border-primary\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-header\x20bg-primary\x20text-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h6\x20class=\x22mb-0\x22>📊\x20Resumen\x20del\x20Mes:\x20",
    "⚠️\x20Error\x20al\x20detectar\x20promociones\x20para\x20SKU\x20",
    "canvas",
    "pr_sku",
    "text",
    "</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-muted\x22\x20style=\x22font-size:0.8rem;\x20margin-top:-2px;\x22>CONTADO</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-muted\x20mx-2\x22\x20style=\x22font-size:1.5rem;\x22>|</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fw-bold\x20text-primary\x20precio-responsive\x22>$\x20",
    "detalles",
    "validFrom",
    "border",
    "responses",
    "CORS_ERROR:\x20Backend\x20no\x20accesible\x20desde\x20este\x20dominio",
    "monthlyCount",
    "</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20colspan=\x223\x22>",
    ";\x20expires=",
    "598685GvQZpI",
    "diagnostic",
    "•\x20Mensual:\x20",
    "\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20justify-content-between\x20align-items-start\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22text-dark\x22\x20style=\x22font-size:\x201rem;\x22>",
    "map",
    "✅\x20Instalación\x20aceptada",
    "fecha",
    "load",
    "<img\x20src=\x22",
    "</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ms-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-primary\x20btn-sm\x22\x20onclick=\x22consultarProductoDesdeModal(\x27",
    "1000",
    "onchange",
    "isArray",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20",
    "❌\x20Modal\x20no\x20encontrado",
    "\x20<span\x20class=\x22badge\x20bg-success\x22\x20style=\x22font-size:0.7rem;\x22>PROMO</span>",
    "</p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20",
    "#f8f9fa",
    "Producto\x20desconocido",
    "disabled",
    "usage",
    "\x22\x20style=\x22width:40px;\x20height:40px;\x20object-fit:cover;\x20border-radius:4px;\x20margin-right:12px;\x20background:#f8f9fa;\x22>",
    "pop",
    "\x0a\x20\x20<div\x20class=\x22modal\x22\x20id=\x22resultadosBusquedaModal\x22\x20tabindex=\x22-1\x22\x20aria-labelledby=\x22resultadosBusquedaModalLabel\x22\x20aria-hidden=\x22true\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22modal-dialog\x20modal-xl\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-header\x20bg-success\x20text-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22modal-title\x22\x20id=\x22resultadosBusquedaModalLabel\x22>🔎\x20Resultados\x20de\x20Búsqueda</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn-close\x22\x20onclick=\x22(function(){\x20try{\x20cerrarResultadosModal();\x20}catch(e){}\x20})()\x22\x20aria-label=\x22Close\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-body\x22\x20id=\x22resultados-busqueda-body\x22\x20style=\x22max-height:\x2070vh;\x20overflow-y:\x20auto;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-footer\x20d-flex\x20flex-wrap\x20gap-2\x20align-items-center\x20justify-content-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20align-items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pageSizeSelect\x22\x20class=\x22mb-0\x22>Mostrar:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22pageSizeSelect\x22\x20class=\x22form-select\x20form-select-sm\x22\x20style=\x22width:\x20auto;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x2210\x22\x20selected>10</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x2220\x22>20</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x2250\x22>50</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-outline-success\x20btn-sm\x20d-flex\x20align-items-center\x20gap-1\x22\x20id=\x22btnToggleVista\x22\x20title=\x22Cambiar\x20vista\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22bi\x20bi-grid-3x3-gap\x22\x20id=\x22iconVista\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22labelVista\x22>Cuadros</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-muted\x22\x20id=\x22resultadosInfo\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20align-items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-outline-secondary\x20btn-sm\x22\x20id=\x22btnPrevResultados\x22>«\x20Anterior</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22pageIndicator\x22\x20class=\x22text-muted\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-outline-secondary\x20btn-sm\x22\x20id=\x22btnNextResultados\x22>Siguiente\x20»</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20align-items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22inputPageJump\x22\x20class=\x22form-control\x20form-control-sm\x22\x20style=\x22width:90px;\x22\x20min=\x221\x22\x20placeholder=\x22Ir\x20a...\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-success\x20btn-sm\x22\x20id=\x22btnIrPagina\x22>Ir</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-secondary\x22\x20onclick=\x22(function(){\x20try{\x20cerrarResultadosModal();\x20}catch(e){}\x20})()\x22>Cerrar</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20</div>",
    "💵\x20Crédito",
    "</code></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td>",
    "Actualizando...",
    "fill",
    "transaction",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22badge\x20bg-success\x22\x20style=\x22font-size:\x200.9rem;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20💰\x20Ahorras\x20$",
    "precio_total",
    "includes",
    "#000000",
    "✅\x20Endpoint\x20básico\x20consultado:",
    "resetMonthlyUsage",
    "i2of5_reader",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "<small\x20class=\x22text-muted\x20mt-1\x20d-block\x22>",
    "image/jpeg",
    "NetworkError",
    "tipo",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22text-success\x22>$",
    "itf",
    "\x22\x20class=\x22barcode-canvas\x22></canvas>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22fw-bold\x20text-dark\x22>",
    "\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22alert\x20alert-danger\x22\x20role=\x22alert\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h6>❌\x20Error</h6>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>Error\x20al\x20consultar\x20el\x20producto:\x20",
    "\x22\x20style=\x22width:60px;height:60px;object-fit:contain;border-radius:8px;background:#f8f9fa;\x22\x20onerror=\x22this.style.display=\x27none\x27\x22></div>",
    "</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22verPromociones()\x22\x20class=\x22btn\x20btn-outline-primary\x20btn-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20🔄\x20Reintentar\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20",
    "✅\x20Backend\x20activo.\x20Estadísticas:",
    "scope",
    "border-warning",
    "googleVisionConfig",
    "update",
    "fillStyle",
    "status",
    "Failed\x20to\x20fetch",
    "getContext",
    "autocapitalize",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22h5\x20text-success\x22>$",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "getAttribute",
    "códigos\x20de\x20barras\x20✅",
    "🚫\x20PROBLEMA:\x20Permisos\x20denegados\x20-\x20Vision\x20API\x20no\x20habilitada",
    "❌\x20No\x20hay\x20promociones\x20para\x20SKU:\x20",
    "textContent",
    "\x0a\x20\x20\x20\x20\x20\x20",
    "es_oficial",
    "promociones",
    "maxHeight",
    "</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn-close\x22\x20data-bs-dismiss=\x22modal\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-body\x22\x20style=\x22max-height:\x2060vh;\x20overflow-y:\x20auto;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22table-responsive\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22table\x20table-striped\x20table-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Ticket</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Cliente</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Importe</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Fecha</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Método</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th>Banco</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20",
    "</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-muted\x22>Vendedores</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-md-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22h4\x20text-info\x22>",
    "Código\x20no\x20válido",
    "getVideoTracks",
    "list",
    "🔄\x20Combinado",
    "codigos_barras",
    "Enter",
    "Nunca\x20actualizado",
    "</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<td><small\x20class=\x22text-muted\x22>",
    "toLowerCase",
    "<p\x20class=\x22text-muted\x20mb-0\x22>No\x20hay\x20productos\x20escaneados.</p>",
    "all",
    "click",
    "<div\x20class=\x22row\x22>",
    "mostrarModalPromocionesGenerales",
    "\x0a\x20\x20\x20\x20<div\x20class=\x22card\x20shadow-sm\x20mb-3\x20w-100\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-header\x20bg-primary\x20text-white\x20d-flex\x20flex-column\x20flex-md-row\x20justify-content-between\x20align-items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<strong>Historial\x20de\x20productos\x20escaneados:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "list-group\x20position-absolute\x20w-100",
    "Sin\x20especificar",
    "get",
    "createImageData",
    "</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-muted\x20small\x22>Promedio</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-outline-primary\x20btn-sm\x20w-100\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22mostrarDetalleVendedor(\x27",
    "<div\x20class=\x22alert\x20alert-danger\x22\x20role=\x22alert\x22>Por\x20favor\x20ingresa\x20un\x20código</div>",
    "Error\x20al\x20cargar\x20promociones:",
    "✅\x20Detección\x20avanzada\x20(backend)\x20configurada\x20y\x20activa",
    "🏦\x20Transferencia",
    "btnReporteTexto",
    "básico\x20✅",
    "i2of5",
    "codabar",
    "pr_gtin",
    ")\x20-\x20",
    "page",
    "2\x20endpoints\x20completados,\x20finalizando...",
    "🔍\x20Actualizando\x20promociones\x20en\x20vista:",
    "📱\x20Abriendo\x20modal\x20en\x20dispositivo\x20móvil...",
    "pro_precio_total",
    "<span\x20class=\x22badge\x20bg-secondary\x22\x20style=\x22font-size:\x200.7rem;\x22>+",
    "textAnnotations",
    "</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22d-block\x20text-muted\x22>Precio\x20promocional</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "off",
    "Error\x20verificando\x20promociones:",
    "fulfilled",
    "createObjectURL",
    "alert-warning",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-md-6\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20h-100\x20border-warning\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h6\x20class=\x22card-title\x20text-warning\x20d-flex\x20align-items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20🔥\x20",
    "src",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-muted\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>\x20\x20Total\x20SKUs:</strong>\x20",
    "<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20•\x20<strong>Con\x20códigos\x20adicionales:</strong>\x20",
    "webkitOverflowScrolling",
    "🔧\x20Error\x20500:\x20Problema\x20interno\x20del\x20servidor",
    "🔄\x20Service\x20Worker\x20actualizado",
    "🎯\x20PROMOCIÓN\x20ENCONTRADA\x20para\x20SKU\x20",
    "innerHTML",
    "cantidad",
    "continuous",
    "insertBefore",
    "view",
    "</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22badge\x20bg-primary\x20ms-2\x22>1\x20unidad</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-muted\x20d-block\x22><strong>SKU:</strong>\x20",
    "🔄\x20Iniciando\x20detección\x20con\x20Quagga...",
    "Error\x20al\x20copiar:",
    "auto",
    "promociones_ts",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-footer\x20bg-transparent\x20border-0\x20pt-0\x20pb-2\x20text-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-sm\x20btn-primary\x22\x20onclick=\x22(function(){\x20cerrarResultadosModal();\x20mostrarDetalleProductoBySKU(\x27",
    "❌\x20Código\x20no\x20encontrado:\x20\x22",
    "\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20h-100\x20border-success\x20shadow-sm\x20result-card\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22result-card-img\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "</h6>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-2\x22>",
    "7MkqtsR",
    "precio",
    "nombre_promocion",
    "📄\x20Nota\x20Crédito",
    "bg-danger",
    "📱\x20Dispositivo\x20móvil:",
    "fire",
    "Última\x20actualización:\x20",
    "promocionesGeneralesModal",
    "100%",
    "</div>",
    "<div\x20class=\x22text-success\x20fw-bold\x20mt-1\x22>$",
    "cantidadTickets",
    "AZTEC",
    "CODABAR",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22alert\x20alert-warning\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h6>🚫\x20Vision\x20API\x20No\x20Habilitada</h6>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>La\x20Vision\x20API\x20no\x20está\x20habilitada\x20en\x20tu\x20proyecto</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small><a\x20href=\x22https://console.cloud.google.com/apis/library/vision.googleapis.com\x22\x20target=\x22_blank\x22>Habilitar\x20Vision\x20API</a></small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "códigos\x20de\x20barras\x20❌\x20(CORS/Red)",
    "cors",
    "✅\x20Código\x20detectado\x20(configuración\x20principal):",
    "\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20",
    ".modal-body",
    "data_matrix",
    "No\x20se\x20encontraron\x20datos\x20del\x20vendedor",
    "\x20al\x20",
    "\x20con\x20datos\x20disponibles)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20",
    "top",
    "\x27,\x20",
    "\x20diario<br>🌐\x20<strong>Backend:</strong>\x20Verificando...",
    "🔧\x20Sugerencia:\x20Verificar\x20configuración\x20CORS\x20en\x20el\x20backend\x20para\x20/api/productos-con-codigos",
    "muted",
    "cookie",
    "\x27);\x20})()\x22>Ver</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>",
    "🎯\x20Consultando\x20promociones\x20generales...",
    "imageSmoothingEnabled",
    "⚠️\x20Error\x20limpiando\x20elementos:",
    "Ingresa\x20SKU\x20o\x20busca\x20un\x20producto",
    "\x20producto",
    "\x20longitud:\x20",
    "oncomplete",
    "\x0a\x20\x20\x20\x20<div\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20justify-content-between\x20align-items-center\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-success\x22>🏷️\x20Productos\x20con\x20Promociones</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22badge\x20bg-success\x20text-white\x22>",
    "\x20endpoints\x20consultados",
    "https://contador-apicloudvision.vercel.app/api/stats",
    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22alert\x20alert-danger\x22\x20role=\x22alert\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h6>❌\x20Producto\x20no\x20encontrado</h6>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>No\x20se\x20pudo\x20encontrar\x20el\x20producto\x20con\x20SKU:\x20",
    "❌\x20Backend\x20no\x20disponible:",
    "fallbackTiempo",
    "🎯\x20Mostrando\x20promociones\x20locales...",
  ];
  _0x27d5 = function () {
    return _0x36b56d;
  };
  return _0x27d5();
}
inputCodigo[_0x463762(0x1f9)]("autocorrect", _0x463762(0x354)),
  inputCodigo[_0x463762(0x1f9)](_0x463762(0x1b1), _0x463762(0x46e)),
  form[_0x463762(0x1f9)](_0x463762(0x1f7), _0x463762(0x354));
function _0x5d20(_0x36c021, _0x2f4b1d) {
  const _0x27d5f2 = _0x27d5();
  return (
    (_0x5d20 = function (_0x5d20f8, _0x94cab8) {
      _0x5d20f8 = _0x5d20f8 - 0x134;
      let _0x5a96f0 = _0x27d5f2[_0x5d20f8];
      return _0x5a96f0;
    }),
    _0x5d20(_0x36c021, _0x2f4b1d)
  );
}
let scannerActivo = ![],
  deferredPrompt,
  puedeEscanear = !![],
  ultimoCodigoEscaneado = "",
  datosYaCargados = ![];
if (!window["JsBarcode"]) {
  const script = document[_0x463762(0x1fc)]("script");
  (script["src"] = _0x463762(0x28e)),
    (script["async"] = !![]),
    document[_0x463762(0x3e3)][_0x463762(0x2cf)](script);
}
const GOOGLE_VISION_CONFIG = {
  apiKey: "",
  enabled: !![],
  monthlyLimit: 0x3b6,
  dailyLimit: 0x20,
  warningThreshold: 0x320,
};
class GoogleVisionUsageTracker {
  constructor() {
    const _0x3d0a23 = _0x463762;
    (this["storageKey"] = "googleVisionUsage"), this[_0x3d0a23(0x3c9)]();
  }
  [_0x463762(0x3c9)]() {
    const _0x3ac8eb = _0x463762,
      _0x333e30 = localStorage[_0x3ac8eb(0x251)](this["storageKey"]);
    _0x333e30
      ? (this[_0x3ac8eb(0x2fb)] = JSON[_0x3ac8eb(0x3d3)](_0x333e30))
      : this["resetMonthlyUsage"]();
    const _0x1ff166 = new Date()["getMonth"]();
    this["usage"]["month"] !== _0x1ff166 && this[_0x3ac8eb(0x309)]();
  }
  ["resetMonthlyUsage"]() {
    const _0x462c4d = _0x463762;
    (this[_0x462c4d(0x2fb)] = {
      month: new Date()[_0x462c4d(0x493)](),
      year: new Date()[_0x462c4d(0x39d)](),
      monthlyCount: 0x0,
      dailyCount: 0x0,
      lastUsedDate: new Date()["toDateString"](),
      history: [],
    }),
      this["saveUsage"]();
  }
  [_0x463762(0x2bb)]() {
    const _0xae78fa = _0x463762;
    localStorage[_0xae78fa(0x154)](
      this["storageKey"],
      JSON["stringify"](this["usage"])
    );
  }
  [_0x463762(0x43b)]() {
    const _0x3006c8 = _0x463762,
      _0x37e25e = new Date()[_0x3006c8(0x228)]();
    this[_0x3006c8(0x2fb)]["lastUsedDate"] !== _0x37e25e &&
      ((this[_0x3006c8(0x2fb)][_0x3006c8(0x14f)] = 0x0),
      (this["usage"][_0x3006c8(0x18f)] = _0x37e25e),
      this["saveUsage"]());
    const _0x508019 =
        this[_0x3006c8(0x2fb)][_0x3006c8(0x2e4)] <
        GOOGLE_VISION_CONFIG[_0x3006c8(0x1c9)],
      _0x4f4096 =
        this["usage"][_0x3006c8(0x14f)] <
        GOOGLE_VISION_CONFIG[_0x3006c8(0x156)];
    return _0x508019 && _0x4f4096;
  }
  [_0x463762(0x271)]() {
    const _0x47a823 = _0x463762;
    this[_0x47a823(0x2fb)][_0x47a823(0x2e4)]++,
      this[_0x47a823(0x2fb)][_0x47a823(0x14f)]++,
      this["usage"][_0x47a823(0x1e6)][_0x47a823(0x221)]({
        date: new Date()[_0x47a823(0x25e)](),
        count: this[_0x47a823(0x2fb)][_0x47a823(0x2e4)],
      }),
      this["usage"][_0x47a823(0x1e6)][_0x47a823(0x3b8)] > 0x32 &&
        (this["usage"]["history"] =
          this[_0x47a823(0x2fb)][_0x47a823(0x1e6)][_0x47a823(0x180)](-0x32)),
      this[_0x47a823(0x2bb)]();
  }
  [_0x463762(0x1ff)]() {
    const _0x4ff6c5 = _0x463762;
    return {
      monthlyUsed: this["usage"]["monthlyCount"],
      monthlyLimit: GOOGLE_VISION_CONFIG[_0x4ff6c5(0x1c9)],
      dailyUsed: this[_0x4ff6c5(0x2fb)][_0x4ff6c5(0x14f)],
      dailyLimit: GOOGLE_VISION_CONFIG[_0x4ff6c5(0x156)],
      remainingMonthly:
        GOOGLE_VISION_CONFIG[_0x4ff6c5(0x1c9)] -
        this[_0x4ff6c5(0x2fb)][_0x4ff6c5(0x2e4)],
      remainingDaily:
        GOOGLE_VISION_CONFIG[_0x4ff6c5(0x156)] -
        this[_0x4ff6c5(0x2fb)][_0x4ff6c5(0x14f)],
      canUse: this["canUseAPI"](),
    };
  }
  [_0x463762(0x3f4)]() {
    const _0x3f646f = _0x463762,
      _0x35b903 = this["getUsageStatus"]();
    if (_0x35b903[_0x3f646f(0x24b)] >= GOOGLE_VISION_CONFIG[_0x3f646f(0x199)])
      return (
        _0x3f646f(0x48a) +
        _0x35b903[_0x3f646f(0x24b)] +
        "/" +
        _0x35b903[_0x3f646f(0x1c9)] +
        _0x3f646f(0x3dd)
      );
    if (_0x35b903["dailyUsed"] >= GOOGLE_VISION_CONFIG[_0x3f646f(0x156)] * 0.8)
      return (
        _0x3f646f(0x3bb) +
        _0x35b903["dailyUsed"] +
        "/" +
        _0x35b903[_0x3f646f(0x156)] +
        "\x20usos\x20hoy"
      );
    return null;
  }
}
const visionUsageTracker = new GoogleVisionUsageTracker();
async function detectarConGoogleVision(_0x3b1426) {
  const _0x3bf585 = _0x463762;
  console[_0x3bf585(0x3e5)](_0x3bf585(0x1d5));
  const _0x241ef2 = document[_0x3bf585(0x1fc)](_0x3bf585(0x2db)),
    _0x178634 = _0x241ef2[_0x3bf585(0x31e)]("2d");
  let { width: _0x2f00c5, height: _0x554d50 } = _0x3b1426;
  const _0x5c6382 = 0x400;
  if (_0x2f00c5 > _0x5c6382 || _0x554d50 > _0x5c6382) {
    const _0x558dfe = Math[_0x3bf585(0x15d)](
      _0x5c6382 / _0x2f00c5,
      _0x5c6382 / _0x554d50
    );
    (_0x2f00c5 *= _0x558dfe), (_0x554d50 *= _0x558dfe);
  }
  (_0x241ef2[_0x3bf585(0x3e4)] = _0x2f00c5),
    (_0x241ef2[_0x3bf585(0x233)] = _0x554d50),
    _0x178634[_0x3bf585(0x274)](_0x3b1426, 0x0, 0x0, _0x2f00c5, _0x554d50);
  const _0x22fcfb = _0x241ef2[_0x3bf585(0x2bc)](_0x3bf585(0x30d), 0.9);
  console[_0x3bf585(0x3e5)](_0x3bf585(0x150));
  try {
    const _0x50a8ad = await fetch(_0x3bf585(0x164), {
      method: "POST",
      headers: { "Content-Type": _0x3bf585(0x3ae) },
      body: JSON[_0x3bf585(0x225)]({
        image: _0x22fcfb,
        userAgent: navigator[_0x3bf585(0x26c)]["substring"](0x0, 0x32),
        timestamp: new Date()["toISOString"](),
      }),
    });
    if (!_0x50a8ad["ok"]) {
      const _0x4adf80 = await _0x50a8ad[_0x3bf585(0x2dd)]();
      throw new Error(
        "Backend\x20error:\x20" +
          _0x50a8ad[_0x3bf585(0x31c)] +
          "\x20-\x20" +
          _0x4adf80
      );
    }
    const _0x1ba295 = await _0x50a8ad[_0x3bf585(0x1ba)]();
    console[_0x3bf585(0x3e5)]("📊\x20Respuesta\x20del\x20backend:", _0x1ba295);
    if (_0x1ba295[_0x3bf585(0x1f5)])
      return (
        visionUsageTracker["recordUsage"](),
        console[_0x3bf585(0x3e5)](_0x3bf585(0x1d1)),
        console["log"](_0x3bf585(0x24d)),
        extraerCodigoDeTexto(_0x1ba295[_0x3bf585(0x3b9)])
      );
    else throw new Error(_0x1ba295[_0x3bf585(0x189)] || _0x3bf585(0x400));
  } catch (_0x9e566) {
    console["log"](_0x3bf585(0x42d), _0x9e566[_0x3bf585(0x203)]);
    if (_0x9e566[_0x3bf585(0x203)]["includes"]("500"))
      console[_0x3bf585(0x3e5)](_0x3bf585(0x35e)),
        console[_0x3bf585(0x3e5)](_0x3bf585(0x447)),
        console[_0x3bf585(0x3e5)](
          "\x20\x20\x20•\x20Variable\x20GOOGLE_VISION_API_KEY\x20no\x20configurada\x20en\x20Vercel"
        ),
        console[_0x3bf585(0x3e5)](_0x3bf585(0x455)),
        console[_0x3bf585(0x3e5)](_0x3bf585(0x1fb)),
        console["log"](
          "\x20\x20\x20💡\x20Ejecuta\x20diagnosticarBackend()\x20para\x20más\x20detalles"
        );
    else {
      if (
        _0x9e566[_0x3bf585(0x203)][_0x3bf585(0x306)](_0x3bf585(0x404)) ||
        _0x9e566[_0x3bf585(0x203)][_0x3bf585(0x306)]("Failed\x20to\x20fetch") ||
        _0x9e566["message"]["includes"](_0x3bf585(0x30e))
      )
        throw new Error(_0x3bf585(0x2e3));
    }
    throw _0x9e566;
  }
}
function extraerCodigoDeTexto(_0x1f017c) {
  const _0x57a126 = _0x463762,
    _0x576e47 = _0x1f017c[_0x57a126(0x2e2)][0x0]?.[_0x57a126(0x352)] || [];
  if (_0x576e47["length"] === 0x0)
    return (
      console[_0x57a126(0x3e5)](
        "❌\x20Google\x20Vision\x20no\x20detectó\x20texto"
      ),
      null
    );
  const _0x3724e6 = _0x576e47[0x0]?.[_0x57a126(0x2a7)] || "";
  console[_0x57a126(0x3e5)]("📝\x20Texto\x20completo\x20detectado:", _0x3724e6);
  const _0x16f287 = [
    /\b(\d{13})\b/g,
    /\b(\d{12})\b/g,
    /\b(\d{8})\b/g,
    /\b(\d{6,8})\b/g,
    /\b([A-Z0-9\-]{4,20})\b/g,
  ];
  for (const _0x53c3a0 of _0x16f287) {
    const _0xb3e314 = [..._0x3724e6[_0x57a126(0x158)](_0x53c3a0)];
    for (const _0x41f76d of _0xb3e314) {
      const _0x4aa347 = _0x41f76d[0x1][_0x57a126(0x42a)]();
      console["log"](
        "🔍\x20Código\x20candidato\x20encontrado:\x20" + _0x4aa347
      );
      if (validarCodigoPorLongitud(_0x4aa347))
        return (
          console[_0x57a126(0x3e5)](_0x57a126(0x18a) + _0x4aa347), _0x4aa347
        );
    }
  }
  return (
    console[_0x57a126(0x3e5)](
      "❌\x20No\x20se\x20encontraron\x20códigos\x20válidos\x20en\x20el\x20texto"
    ),
    null
  );
}
function validarCodigoPorLongitud(_0x110adb) {
  const _0x4dc93e = _0x463762;
  if (/^\d{13}$/[_0x4dc93e(0x232)](_0x110adb)) return !![];
  if (/^\d{12}$/["test"](_0x110adb)) return !![];
  if (/^\d{8}$/[_0x4dc93e(0x232)](_0x110adb)) return !![];
  if (/^\d{6,8}$/[_0x4dc93e(0x232)](_0x110adb)) return !![];
  if (
    /^[A-Z0-9\-]{4,20}$/[_0x4dc93e(0x232)](_0x110adb) &&
    _0x110adb[_0x4dc93e(0x3b8)] >= 0x4
  )
    return !![];
  return ![];
}
async function diagnosticarBackend() {
  const _0x320b3c = _0x463762;
  console[_0x320b3c(0x3e5)](
    "🔍\x20Iniciando\x20diagnóstico\x20del\x20backend..."
  );
  const _0x277b74 = document[_0x320b3c(0x145)](_0x320b3c(0x3da));
  _0x277b74 &&
    (_0x277b74[_0x320b3c(0x361)] =
      "\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22alert\x20alert-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22spinner-border\x20spinner-border-sm\x20me-2\x22\x20role=\x22status\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20🔍\x20Diagnosticando\x20backend...\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20");
  let _0x5054b6 = "";
  try {
    const _0x4fe317 = await fetch(_0x320b3c(0x398));
    if (_0x4fe317["ok"]) {
      console[_0x320b3c(0x3e5)](_0x320b3c(0x401));
      const _0x26eb45 = await _0x4fe317["json"]();
      console[_0x320b3c(0x3e5)]("📊\x20Estadísticas:", _0x26eb45),
        (_0x5054b6 +=
          "<div\x20class=\x22alert\x20alert-success\x22>✅\x20Endpoint\x20/api/stats\x20funciona\x20correctamente</div>");
    } else
      console["log"](
        "❌\x20Endpoint\x20/api/stats\x20falló:",
        _0x4fe317["status"]
      ),
        (_0x5054b6 +=
          "<div\x20class=\x22alert\x20alert-danger\x22>❌\x20Endpoint\x20/api/stats\x20falló:\x20" +
          _0x4fe317[_0x320b3c(0x31c)] +
          _0x320b3c(0x379));
    console[_0x320b3c(0x3e5)](_0x320b3c(0x4b4));
    const _0xcf8d46 = await fetch(_0x320b3c(0x164), {
        method: _0x320b3c(0x2a4),
        headers: { "Content-Type": _0x320b3c(0x3ae) },
        body: JSON[_0x320b3c(0x225)]({
          image: _0x320b3c(0x21e),
          userId: _0x320b3c(0x2e8),
        }),
      }),
      _0x4e5057 = await _0xcf8d46[_0x320b3c(0x1ba)]();
    console[_0x320b3c(0x3e5)](_0x320b3c(0x1d9), _0x4e5057),
      console[_0x320b3c(0x3e5)](_0x320b3c(0x3b2), _0xcf8d46[_0x320b3c(0x31c)]);
    if (_0xcf8d46[_0x320b3c(0x31c)] === 0x1f4) {
      console[_0x320b3c(0x3e5)](_0x320b3c(0x153));
      if (_0x4e5057[_0x320b3c(0x40c)]) {
        if (_0x4e5057[_0x320b3c(0x40c)][_0x320b3c(0x306)]("BILLING_DISABLED"))
          console[_0x320b3c(0x3e5)](_0x320b3c(0x40e)),
            console[_0x320b3c(0x3e5)](_0x320b3c(0x268)),
            console[_0x320b3c(0x3e5)](_0x320b3c(0x22e)),
            (_0x5054b6 += _0x320b3c(0x296));
        else {
          if (_0x4e5057[_0x320b3c(0x40c)][_0x320b3c(0x306)](_0x320b3c(0x23a)))
            console["log"](_0x320b3c(0x42e)), (_0x5054b6 += _0x320b3c(0x142));
          else
            _0x4e5057[_0x320b3c(0x40c)][_0x320b3c(0x306)](_0x320b3c(0x4b6))
              ? (console[_0x320b3c(0x3e5)](_0x320b3c(0x324)),
                console[_0x320b3c(0x3e5)](_0x320b3c(0x1e9)),
                (_0x5054b6 += _0x320b3c(0x37e)))
              : (console[_0x320b3c(0x3e5)](_0x320b3c(0x439)),
                console[_0x320b3c(0x3e5)](
                  _0x320b3c(0x2b6),
                  _0x4e5057[_0x320b3c(0x40c)]
                ),
                (_0x5054b6 += _0x320b3c(0x23b)));
        }
      }
    } else
      _0xcf8d46["status"] === 0xc8 &&
        (console[_0x320b3c(0x3e5)](_0x320b3c(0x29e)),
        (_0x5054b6 += _0x320b3c(0x181)));
  } catch (_0x35f77a) {
    console[_0x320b3c(0x3e5)](
      "❌\x20Error\x20en\x20diagnóstico:",
      _0x35f77a[_0x320b3c(0x203)]
    ),
      _0x35f77a["message"]["includes"](_0x320b3c(0x404))
        ? (console[_0x320b3c(0x3e5)](
            "🔧\x20Problema\x20de\x20CORS\x20-\x20verifica\x20configuración\x20de\x20headers"
          ),
          (_0x5054b6 +=
            "<div\x20class=\x22alert\x20alert-danger\x22>🔧\x20Problema\x20de\x20CORS\x20-\x20verifica\x20configuración\x20de\x20headers</div>"))
        : (_0x5054b6 +=
            _0x320b3c(0x3e7) + _0x35f77a[_0x320b3c(0x203)] + "</div>");
  }
  _0x277b74 && (_0x277b74[_0x320b3c(0x361)] = _0x5054b6);
}
async function verificarBackend() {
  const _0x45e1ab = _0x463762;
  try {
    const _0x5ef83f = await fetch(
      "https://contador-apicloudvision.vercel.app/api/stats",
      { method: "GET", headers: { "Content-Type": _0x45e1ab(0x3ae) } }
    );
    if (_0x5ef83f["ok"]) {
      const _0x1ce48f = await _0x5ef83f["json"]();
      return (
        console[_0x45e1ab(0x3e5)](_0x45e1ab(0x316), _0x1ce48f),
        {
          activo: !![],
          stats: _0x1ce48f,
          mensaje: "Google\x20Vision\x20API\x20activa\x20y\x20funcional",
        }
      );
    } else
      return (
        console["log"](
          "⚠️\x20Backend\x20responde\x20pero\x20con\x20error:",
          _0x5ef83f["status"]
        ),
        {
          activo: ![],
          mensaje: "Backend\x20con\x20error:\x20" + _0x5ef83f[_0x45e1ab(0x31c)],
        }
      );
  } catch (_0x5f5792) {
    return (
      console[_0x45e1ab(0x3e5)](_0x45e1ab(0x39a), _0x5f5792[_0x45e1ab(0x203)]),
      { activo: ![], mensaje: _0x45e1ab(0x1d0) }
    );
  }
}
async function mostrarEstadisticasUso() {
  const _0x12e8d2 = _0x463762,
    _0x356a9f = visionUsageTracker[_0x12e8d2(0x1ff)](),
    _0x532833 = visionUsageTracker["showUsageWarning"]();
  let _0x43d9c0 =
    "📊\x20<strong>Uso\x20local\x20de\x20este\x20dispositivo:</strong><br>";
  (_0x43d9c0 +=
    _0x12e8d2(0x2e9) +
    _0x356a9f[_0x12e8d2(0x24b)] +
    "/" +
    _0x356a9f[_0x12e8d2(0x1c9)] +
    "\x20(quedan\x20" +
    _0x356a9f["remainingMonthly"] +
    _0x12e8d2(0x210)),
    (_0x43d9c0 +=
      "•\x20Diario:\x20" +
      _0x356a9f[_0x12e8d2(0x449)] +
      "/" +
      _0x356a9f[_0x12e8d2(0x156)] +
      "\x20(quedan\x20" +
      _0x356a9f[_0x12e8d2(0x217)] +
      ")");
  _0x532833 && (_0x43d9c0 += "<br>" + _0x532833);
  if (GOOGLE_VISION_CONFIG[_0x12e8d2(0x1c8)])
    try {
      const _0x5dc2da = await verificarBackend();
      _0x43d9c0 +=
        "<br><br>🌐\x20<strong>Backend:</strong>\x20" + _0x5dc2da["mensaje"];
    } catch (_0x556fe5) {
      _0x43d9c0 += _0x12e8d2(0x29d);
    }
  return _0x43d9c0;
}
function setCookie(_0x583c44, _0x41380f, _0x54671a) {
  const _0x4eb628 = _0x463762,
    _0xdea2bf = new Date(
      Date[_0x4eb628(0x2aa)]() + _0x54671a * 0x18 * 0x3c * 0x3c * 0x3e8
    )["toUTCString"]();
  document[_0x4eb628(0x38d)] =
    _0x583c44 +
    "=" +
    encodeURIComponent(_0x41380f) +
    _0x4eb628(0x2e6) +
    _0xdea2bf +
    _0x4eb628(0x22d);
}
function getCookie(_0x446092) {
  const _0x52d2b1 = _0x463762,
    _0x12a9b6 = ";\x20" + document[_0x52d2b1(0x38d)],
    _0x56760b = _0x12a9b6[_0x52d2b1(0x456)](";\x20" + _0x446092 + "=");
  if (_0x56760b[_0x52d2b1(0x3b8)] === 0x2)
    return decodeURIComponent(
      _0x56760b[_0x52d2b1(0x2fd)]()[_0x52d2b1(0x456)](";")["shift"]()
    );
  return null;
}
const historialDiv = document[_0x463762(0x145)](_0x463762(0x15a)),
  resultadoDiv = document[_0x463762(0x145)](_0x463762(0x1a7)),
  DB_NAME = _0x463762(0x472),
  DB_STORE = _0x463762(0x2ce),
  DB_STORE_PROMOCIONES = _0x463762(0x329);
let db;
function openDB() {
  return new Promise((_0x318e94, _0x4b1914) => {
    const _0x16198f = _0x5d20,
      _0x4c333b = indexedDB["open"](DB_NAME, 0x2);
    (_0x4c333b[_0x16198f(0x21c)] = function (_0x476611) {
      const _0x4e6c4f = _0x16198f;
      (db = _0x476611[_0x4e6c4f(0x222)][_0x4e6c4f(0x2d7)]),
        !db["objectStoreNames"][_0x4e6c4f(0x3ba)](DB_STORE) &&
          db[_0x4e6c4f(0x3eb)](DB_STORE, {
            keyPath: "id",
            autoIncrement: !![],
          }),
        !db["objectStoreNames"]["contains"](DB_STORE_PROMOCIONES) &&
          db[_0x4e6c4f(0x3eb)](DB_STORE_PROMOCIONES, {
            keyPath: "id",
            autoIncrement: !![],
          });
    }),
      (_0x4c333b[_0x16198f(0x3e6)] = function (_0x4ad873) {
        (db = _0x4ad873["target"]["result"]), _0x318e94(db);
      }),
      (_0x4c333b["onerror"] = function (_0x4f082f) {
        _0x4b1914(_0x4f082f);
      });
  });
}
function clearProductos() {
  const _0x59bc1e = _0x463762;
  return openDB()[_0x59bc1e(0x2a9)]((_0x1868b6) => {
    return new Promise((_0x4a58f6, _0x120749) => {
      const _0x36ec18 = _0x5d20,
        _0x5f54c1 = _0x1868b6["transaction"](DB_STORE, "readwrite");
      _0x5f54c1[_0x36ec18(0x269)](DB_STORE)[_0x36ec18(0x1bc)](),
        (_0x5f54c1[_0x36ec18(0x395)] = _0x4a58f6),
        (_0x5f54c1[_0x36ec18(0x281)] = _0x120749);
    });
  });
}
function saveProductos(_0x369463) {
  return openDB()["then"]((_0x40c178) => {
    return new Promise((_0x372ee4, _0x2a499a) => {
      const _0x1f8580 = _0x5d20,
        _0xf5df99 = _0x40c178["transaction"](DB_STORE, _0x1f8580(0x3f5)),
        _0x228731 = _0xf5df99[_0x1f8580(0x269)](DB_STORE);
      _0x369463[_0x1f8580(0x44c)]((_0x397172) =>
        _0x228731[_0x1f8580(0x276)](_0x397172)
      ),
        (_0xf5df99[_0x1f8580(0x395)] = _0x372ee4),
        (_0xf5df99[_0x1f8580(0x281)] = _0x2a499a);
    });
  });
}
function getAllProductos() {
  return openDB()["then"]((_0xede9e9) => {
    return new Promise((_0x44c3a9, _0xa34106) => {
      const _0x2daffb = _0x5d20,
        _0x3585b0 = _0xede9e9["transaction"](DB_STORE, _0x2daffb(0x3c7)),
        _0x3cc533 = _0x3585b0["objectStore"](DB_STORE),
        _0x169118 = _0x3cc533[_0x2daffb(0x1cf)]();
      (_0x169118[_0x2daffb(0x3e6)] = () => _0x44c3a9(_0x169118["result"])),
        (_0x169118[_0x2daffb(0x281)] = _0xa34106);
    });
  });
}
function clearPromociones() {
  return openDB()["then"]((_0x2a89dd) => {
    return new Promise((_0x2a80db, _0x28bc12) => {
      const _0x245a62 = _0x5d20,
        _0x29be41 = _0x2a89dd["transaction"](
          DB_STORE_PROMOCIONES,
          _0x245a62(0x3f5)
        );
      _0x29be41[_0x245a62(0x269)](DB_STORE_PROMOCIONES)["clear"](),
        (_0x29be41[_0x245a62(0x395)] = _0x2a80db),
        (_0x29be41[_0x245a62(0x281)] = _0x28bc12);
    });
  });
}
function savePromociones(_0x5113ac) {
  const _0x3a1e32 = _0x463762;
  return openDB()[_0x3a1e32(0x2a9)]((_0x597777) => {
    return new Promise((_0x366f40, _0xa58575) => {
      const _0x1c1349 = _0x5d20,
        _0x112e6c = _0x597777["transaction"](DB_STORE_PROMOCIONES, "readwrite"),
        _0x554fc1 = _0x112e6c[_0x1c1349(0x269)](DB_STORE_PROMOCIONES);
      _0x5113ac[_0x1c1349(0x44c)]((_0x3f9803) =>
        _0x554fc1[_0x1c1349(0x276)](_0x3f9803)
      ),
        (_0x112e6c[_0x1c1349(0x395)] = _0x366f40),
        (_0x112e6c[_0x1c1349(0x281)] = _0xa58575);
    });
  });
}
function getAllPromociones() {
  const _0x1b7680 = _0x463762;
  return openDB()[_0x1b7680(0x2a9)]((_0x24d5cf) => {
    return new Promise((_0x1d93ce, _0x39f313) => {
      const _0x4c8537 = _0x5d20,
        _0x5deb20 = _0x24d5cf[_0x4c8537(0x303)](
          DB_STORE_PROMOCIONES,
          "readonly"
        ),
        _0x55e9b9 = _0x5deb20[_0x4c8537(0x269)](DB_STORE_PROMOCIONES),
        _0x5653e7 = _0x55e9b9[_0x4c8537(0x1cf)]();
      (_0x5653e7[_0x4c8537(0x3e6)] = () => _0x1d93ce(_0x5653e7["result"])),
        (_0x5653e7[_0x4c8537(0x281)] = _0x39f313);
    });
  });
}
const sugerenciasDiv = document["createElement"](_0x463762(0x146));
(sugerenciasDiv["id"] = "sugerenciasDiv"),
  (sugerenciasDiv[_0x463762(0x134)] = _0x463762(0x33d)),
  (sugerenciasDiv[_0x463762(0x2c4)]["zIndex"] = _0x463762(0x2f1)),
  (sugerenciasDiv[_0x463762(0x2c4)][_0x463762(0x32a)] = _0x463762(0x446)),
  (sugerenciasDiv[_0x463762(0x2c4)][_0x463762(0x406)] = _0x463762(0x369)),
  (sugerenciasDiv[_0x463762(0x2c4)][_0x463762(0x388)] = _0x463762(0x378)),
  (sugerenciasDiv[_0x463762(0x2c4)]["left"] = "0"),
  (sugerenciasDiv[_0x463762(0x2c4)][_0x463762(0x469)] = "0"),
  (inputCodigo["parentNode"][_0x463762(0x2c4)][_0x463762(0x242)] =
    _0x463762(0x166)),
  inputCodigo[_0x463762(0x298)][_0x463762(0x2cf)](sugerenciasDiv);
const actualizarDiv = document[_0x463762(0x1fc)](_0x463762(0x146));
(actualizarDiv[_0x463762(0x134)] = _0x463762(0x17c)),
  (actualizarDiv[_0x463762(0x361)] = _0x463762(0x182)),
  historialDiv[_0x463762(0x298)][_0x463762(0x364)](actualizarDiv, historialDiv);
const resultadosModalHTML = _0x463762(0x2fe);
document[_0x463762(0x3e2)][_0x463762(0x1a4)](
  _0x463762(0x409),
  resultadosModalHTML
);
const btnActualizar = actualizarDiv[_0x463762(0x136)](_0x463762(0x26f)),
  btnPromociones = actualizarDiv[_0x463762(0x136)]("#btnPromociones"),
  ultimaActualizacionSpan = actualizarDiv[_0x463762(0x136)](_0x463762(0x3d7)),
  btnTexto = actualizarDiv[_0x463762(0x136)](_0x463762(0x2a2)),
  btnSpinner = actualizarDiv["querySelector"](_0x463762(0x39f)),
  mensajeActualizacion = actualizarDiv["querySelector"](_0x463762(0x41f));
async function mostrarProductosConPromociones() {
  const _0x393e26 = _0x463762,
    _0xc274b5 = await getAllProductos(),
    _0xc94c6c = [];
  for (const _0x4e6264 of _0xc274b5) {
    try {
      const _0xa11649 = await detectarPromocionReal(_0x4e6264);
      _0xa11649[_0x393e26(0x3b8)] > 0x0 &&
        _0xc94c6c[_0x393e26(0x221)](_0x4e6264);
    } catch (_0x6ce052) {
      console[_0x393e26(0x43e)](
        _0x393e26(0x2da) + _0x4e6264[_0x393e26(0x2dc)] + ":",
        _0x6ce052
      );
    }
  }
  if (_0xc94c6c[_0x393e26(0x3b8)] === 0x0) {
    (resultadoDiv[_0x393e26(0x361)] =
      "\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22alert\x20alert-info\x22\x20role=\x22alert\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h5>🏷️\x20No\x20se\x20encontraron\x20productos\x20con\x20promociones</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mb-0\x22>Puede\x20ser\x20que\x20no\x20haya\x20promociones\x20activas\x20en\x20este\x20momento\x20o\x20que\x20el\x20servicio\x20no\x20esté\x20disponible.</p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20"),
      renderHistorial();
    return;
  }
  const _0x1f21d0 = [];
  for (const _0x4766bb of _0xc94c6c["slice"](0x0, 0x14)) {
    try {
      const _0xe0d2c5 = await detectarPromocionReal(_0x4766bb),
        _0x5492cd =
          Number(_0x4766bb[_0x393e26(0x3ad)]) || Number(_0x4766bb["L1"]) || 0x0,
        _0x13b38b = Math[_0x393e26(0x183)](_0x5492cd * 1.16 * 0x64) / 0x64,
        _0x5b736f = _0xe0d2c5["map"]((_0x20ff8a) => {
          const _0x1f0f73 = _0x393e26;
          let _0xfb23fa = _0x1f0f73(0x47a),
            _0x1ea47e =
              _0x20ff8a[_0x1f0f73(0x2c7)] ||
              _0x20ff8a[_0x1f0f73(0x371)] ||
              _0x1f0f73(0x291);
          if (_0x20ff8a[_0x1f0f73(0x30f)]["includes"](_0x1f0f73(0x1f6)))
            (_0xfb23fa = "bg-danger"), (_0x1ea47e = "🔥\x20" + _0x1ea47e);
          else
            _0x20ff8a[_0x1f0f73(0x328)] &&
              ((_0xfb23fa = _0x1f0f73(0x23c)),
              (_0x1ea47e = _0x1f0f73(0x24c) + _0x1ea47e));
          return (
            _0x1f0f73(0x3bc) +
            _0xfb23fa +
            _0x1f0f73(0x3de) +
            _0x1ea47e +
            _0x1f0f73(0x1c7)
          );
        })[_0x393e26(0x457)]("");
      _0x1f21d0[_0x393e26(0x221)](
        _0x393e26(0x1a3) +
          _0x4766bb[_0x393e26(0x2dc)] +
          "\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-body\x20p-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h6\x20class=\x22card-title\x20text-truncate\x22\x20title=\x22" +
          _0x4766bb[_0x393e26(0x17a)] +
          "\x22>" +
          _0x4766bb[_0x393e26(0x17a)] +
          _0x393e26(0x36e) +
          _0x5b736f +
          _0x393e26(0x1cd) +
          _0x13b38b[_0x393e26(0x460)](0x2) +
          _0x393e26(0x465) +
          _0x4766bb[_0x393e26(0x2dc)] +
          "</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20"
      );
    } catch (_0x310b3d) {
      console[_0x393e26(0x43e)](
        _0x393e26(0x231) + _0x4766bb[_0x393e26(0x2dc)] + ":",
        _0x310b3d
      );
    }
  }
  (resultadoDiv["innerHTML"] =
    _0x393e26(0x396) +
    _0xc94c6c[_0x393e26(0x3b8)] +
    _0x393e26(0x162) +
    _0x1f21d0[_0x393e26(0x457)]("") +
    "\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20" +
    (_0xc94c6c[_0x393e26(0x3b8)] > 0x14
      ? _0x393e26(0x41a) +
        (_0xc94c6c["length"] - 0x14) +
        "\x20más\x20con\x20promociones.</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>"
      : "") +
    _0x393e26(0x293)),
    renderHistorial();
}
window[_0x463762(0x3b1)] = async function (_0x4ccfe5) {
  const _0x11c697 = _0x463762,
    _0x286feb = await getAllProductos(),
    _0x41fc0d = _0x286feb[_0x11c697(0x3ec)](
      (_0x4bd7d7) =>
        _0x4bd7d7[_0x11c697(0x2dc)] === _0x4ccfe5 ||
        _0x4bd7d7[_0x11c697(0x34a)] === _0x4ccfe5
    );
  if (_0x41fc0d) {
    mostrarDetalleProducto(_0x41fc0d);
    const _0x204bdc = {
      ..._0x41fc0d,
      FECHA_ESCANEO: new Date()["toISOString"](),
    };
    historial[_0x11c697(0x18e)](_0x204bdc),
      setCookie(_0x11c697(0x15a), JSON["stringify"](historial), 0x1e),
      renderHistorial();
  }
};
const urlBase = _0x463762(0x4ac),
  urlBaseConCodigos =
    "https://verificadorb9-backend.vercel.app/api/productos-con-codigos",
  urlPromociones = "https://verificadorb9-backend.vercel.app/api/promociones",
  CONFIG_ENDPOINTS = {
    productosBasicos: urlBase,
    productosConCodigos: urlBaseConCodigos,
    promociones: urlPromociones,
    usarCodigosBarras: !![],
    fallbackTiempo: 0x1388,
  };
function tiempoRelativo(_0x3d6ae5) {
  const _0x4ae9d4 = _0x463762;
  if (!_0x3d6ae5) return _0x4ae9d4(0x288);
  const _0x264bbc = Date[_0x4ae9d4(0x2aa)](),
    _0x54939f = Math["floor"]((_0x264bbc - _0x3d6ae5) / 0x3e8);
  if (_0x54939f < 0x3c) return _0x4ae9d4(0x252) + _0x54939f + _0x4ae9d4(0x213);
  if (_0x54939f < 0xe10)
    return "Hace\x20" + Math["floor"](_0x54939f / 0x3c) + _0x4ae9d4(0x1fd);
  if (_0x54939f < 0x15180)
    return (
      _0x4ae9d4(0x252) +
      Math[_0x4ae9d4(0x3d1)](_0x54939f / 0xe10) +
      _0x4ae9d4(0x48d)
    );
  return (
    _0x4ae9d4(0x252) +
    Math[_0x4ae9d4(0x3d1)](_0x54939f / 0x15180) +
    _0x4ae9d4(0x450)
  );
}
function renderUltimaActualizacion() {
  const _0xf1771 = _0x463762,
    _0x5ddd2e = localStorage["getItem"](_0xf1771(0x1eb)),
    _0x12cd4f = localStorage[_0xf1771(0x251)](_0xf1771(0x36a));
  let _0x39276f = _0xf1771(0x333);
  if (_0x5ddd2e && _0x12cd4f) {
    const _0x16f47b = tiempoRelativo(Number(_0x5ddd2e)),
      _0x692ba9 = tiempoRelativo(Number(_0x12cd4f)),
      _0x356209 = Math[_0xf1771(0x41e)](Number(_0x5ddd2e) - Number(_0x12cd4f));
    _0x356209 < 0xea60
      ? (_0x39276f = _0xf1771(0x376) + _0x16f47b)
      : (_0x39276f = _0xf1771(0x1e7) + _0x16f47b + _0xf1771(0x407) + _0x692ba9);
  } else {
    if (_0x5ddd2e)
      _0x39276f =
        _0xf1771(0x1e7) + tiempoRelativo(Number(_0x5ddd2e)) + _0xf1771(0x414);
    else
      _0x12cd4f &&
        (_0x39276f =
          "Productos:\x20nunca\x20|\x20Promociones:\x20" +
          tiempoRelativo(Number(_0x12cd4f)));
  }
  ultimaActualizacionSpan["textContent"] = _0x39276f;
}
function actualizarProgreso(_0x515a5c, _0x5d8bc4, _0xc9a781 = "") {
  const _0x367937 = _0x463762,
    _0x18835d = Math[_0x367937(0x15d)](0x64, Math["max"](0x0, _0x515a5c)),
    _0x1c8f59 =
      _0x515a5c >= 0x64
        ? _0x367937(0x1f5)
        : _0x515a5c >= 0x32
        ? "success"
        : _0x367937(0x13a);
  mensajeActualizacion["innerHTML"] =
    _0x367937(0x238) +
    _0x5d8bc4 +
    _0x367937(0x177) +
    _0x515a5c +
    _0x367937(0x1b4) +
    _0x1c8f59 +
    _0x367937(0x202) +
    _0x18835d +
    "%;\x20transition:\x20width\x200.3s\x20ease;\x22\x20aria-valuenow=\x22" +
    _0x515a5c +
    _0x367937(0x20e) +
    (_0xc9a781 ? _0x367937(0x30c) + _0xc9a781 + "</small>" : "") +
    _0x367937(0x293);
}
async function actualizarTodosLosDatos() {
  const _0x1a9668 = _0x463762;
  console[_0x1a9668(0x3e5)](_0x1a9668(0x207)),
    (btnActualizar[_0x1a9668(0x2fa)] = !![]),
    (btnTexto[_0x1a9668(0x326)] = _0x1a9668(0x301)),
    btnSpinner["classList"][_0x1a9668(0x438)](_0x1a9668(0x214));
  const _0x5614c2 = Date[_0x1a9668(0x2aa)]();
  let _0x2882ef = ![],
    _0x1203c7 = ![];
  const _0x550ff6 = () => {
    const _0x11500b = _0x1a9668;
    let _0x1d3142 = 0x0,
      _0x218e79 = _0x11500b(0x173),
      _0x4dd738 = "";
    if (!_0x2882ef && !_0x1203c7)
      (_0x1d3142 = 0xa),
        (_0x218e79 = "Consultando\x203\x20endpoints..."),
        (_0x4dd738 = _0x11500b(0x491));
    else {
      if (_0x2882ef && !_0x1203c7)
        (_0x1d3142 = 0x46),
          (_0x218e79 = _0x11500b(0x34d)),
          (_0x4dd738 = _0x11500b(0x4b3));
      else {
        if (!_0x2882ef && _0x1203c7)
          (_0x1d3142 = 0x46),
            (_0x218e79 = _0x11500b(0x270)),
            (_0x4dd738 = _0x11500b(0x4aa));
        else {
          _0x1d3142 = 0x64;
          const _0x16c62b = ((Date["now"]() - _0x5614c2) / 0x3e8)[
            _0x11500b(0x460)
          ](0x1);
          (_0x218e79 = _0x11500b(0x1a1)),
            (_0x4dd738 = _0x11500b(0x227) + _0x16c62b + _0x11500b(0x213));
        }
      }
    }
    actualizarProgreso(_0x1d3142, _0x218e79, _0x4dd738);
  };
  _0x550ff6();
  try {
    await new Promise((_0x14a6c8) => setTimeout(_0x14a6c8, 0xc8)),
      actualizarProgreso(
        0x19,
        "Consultando\x20los\x203\x20endpoints...",
        _0x1a9668(0x3a0)
      );
    const _0x284d40 = cargarProductosRapido()[_0x1a9668(0x2a9)]((_0x3c0bc0) => {
        return (_0x2882ef = !![]), _0x550ff6(), _0x3c0bc0;
      }),
      _0x2aef9f = cargarPromocionesRapido()["then"]((_0x2b7b2f) => {
        return (_0x1203c7 = !![]), _0x550ff6(), _0x2b7b2f;
      });
    setTimeout(() => {
      const _0x486b0f = _0x1a9668;
      (!_0x2882ef || !_0x1203c7) &&
        actualizarProgreso(
          0x32,
          "Descargando\x20desde\x20múltiples\x20endpoints...",
          _0x486b0f(0x45a)
        );
    }, 0x3e8);
    const [_0x49c49a, _0x200b82] = await Promise[_0x1a9668(0x4b2)]([
        _0x284d40,
        _0x2aef9f,
      ]),
      _0x2f914a = ((Date[_0x1a9668(0x2aa)]() - _0x5614c2) / 0x3e8)["toFixed"](
        0x1
      );
    console[_0x1a9668(0x3e5)](_0x1a9668(0x1dd) + _0x2f914a + "s");
    const _0x578f97 = _0x49c49a[_0x1a9668(0x31c)] === _0x1a9668(0x356),
      _0x547478 = _0x200b82[_0x1a9668(0x31c)] === _0x1a9668(0x356);
    if (_0x578f97 && _0x547478) {
      const _0x2b34ed = _0x49c49a[_0x1a9668(0x3c4)]?.["productos"] || 0x0,
        _0x50a716 = _0x200b82["value"]?.[_0x1a9668(0x329)] || 0x0,
        _0x541e5a = _0x49c49a[_0x1a9668(0x3c4)]?.[_0x1a9668(0x2df)] || "",
        _0x17ddf6 = _0x200b82[_0x1a9668(0x3c4)]?.[_0x1a9668(0x2df)] || "";
      actualizarProgreso(
        0x64,
        "✅\x20Todos\x20los\x20endpoints\x20consultados",
        _0x2b34ed +
          _0x1a9668(0x148) +
          _0x541e5a +
          _0x1a9668(0x476) +
          _0x50a716 +
          _0x1a9668(0x14b) +
          _0x17ddf6 +
          _0x1a9668(0x34b) +
          _0x2f914a +
          "s"
      );
    } else
      _0x578f97 || _0x547478
        ? actualizarProgreso(
            0x4b,
            _0x1a9668(0x4a3),
            _0x1a9668(0x49c) + _0x2f914a + "s)"
          )
        : actualizarProgreso(
            0x19,
            "❌\x20Error\x20consultando\x20endpoints",
            "Todos\x20los\x20endpoints\x20fallaron\x20(" + _0x2f914a + "s)"
          );
    _0x49c49a[_0x1a9668(0x31c)] === "rejected" &&
      console[_0x1a9668(0x189)](_0x1a9668(0x412), _0x49c49a["reason"]),
      _0x200b82[_0x1a9668(0x31c)] === "rejected" &&
        console["error"](_0x1a9668(0x343), _0x200b82[_0x1a9668(0x46d)]);
  } catch (_0x29d63e) {
    console[_0x1a9668(0x189)](_0x1a9668(0x26a), _0x29d63e),
      actualizarProgreso(0x0, _0x1a9668(0x44a), _0x1a9668(0x3df));
  } finally {
    (btnActualizar[_0x1a9668(0x2fa)] = ![]),
      (btnTexto["textContent"] = _0x1a9668(0x2cb)),
      btnSpinner[_0x1a9668(0x206)][_0x1a9668(0x276)](_0x1a9668(0x214)),
      setTimeout(() => {
        const _0xef07d9 = _0x1a9668;
        (mensajeActualizacion[_0xef07d9(0x326)] = ""),
          renderUltimaActualizacion();
      }, 0xfa0);
  }
}
async function cargarProductosRapido() {
  const _0x134f71 = _0x463762,
    _0x300408 = Date[_0x134f71(0x2aa)]();
  if (!navigator[_0x134f71(0x2d1)]) throw new Error(_0x134f71(0x185));
  let _0x56583f = [],
    _0x4733ff = [];
  console[_0x134f71(0x3e5)](_0x134f71(0x3e9));
  if (CONFIG_ENDPOINTS["usarCodigosBarras"])
    try {
      const _0xa3e3c7 = CONFIG_ENDPOINTS[_0x134f71(0x1bd)] + "?t=" + _0x300408;
      console["log"](_0x134f71(0x3a5));
      const _0x2ad204 = await Promise[_0x134f71(0x243)]([
        fetch(_0xa3e3c7, {
          cache: _0x134f71(0x462),
          mode: _0x134f71(0x380),
          headers: {
            Accept: _0x134f71(0x3ae),
            "Content-Type": _0x134f71(0x3ae),
          },
        }),
        new Promise((_0x54a6b2, _0x4804b0) =>
          setTimeout(
            () => _0x4804b0(new Error(_0x134f71(0x49b))),
            CONFIG_ENDPOINTS[_0x134f71(0x39b)]
          )
        ),
      ]);
      if (_0x2ad204["ok"]) {
        const _0xaeabb2 = await _0x2ad204[_0x134f71(0x1ba)]();
        _0xaeabb2[_0x134f71(0x1f5)] && _0xaeabb2[_0x134f71(0x2ce)]
          ? ((_0x56583f = _0xaeabb2[_0x134f71(0x2ce)]),
            _0x4733ff[_0x134f71(0x221)](_0x134f71(0x323)),
            console[_0x134f71(0x3e5)](
              _0x134f71(0x26d),
              _0xaeabb2[_0x134f71(0x2ce)]["length"]
            ))
          : _0x4733ff[_0x134f71(0x221)](
              "códigos\x20de\x20barras\x20⚠️\x20(sin\x20datos)"
            );
      } else
        _0x4733ff["push"](
          "códigos\x20de\x20barras\x20❌\x20(HTTP\x20" +
            _0x2ad204[_0x134f71(0x31c)] +
            ")"
        );
    } catch (_0x122202) {
      console[_0x134f71(0x43e)](_0x134f71(0x2bd), _0x122202[_0x134f71(0x203)]),
        _0x122202[_0x134f71(0x203)]["includes"](_0x134f71(0x404)) ||
        _0x122202[_0x134f71(0x203)][_0x134f71(0x306)](_0x134f71(0x31d))
          ? (_0x4733ff[_0x134f71(0x221)](_0x134f71(0x37f)),
            console[_0x134f71(0x3e5)](_0x134f71(0x38b)))
          : _0x4733ff[_0x134f71(0x221)](_0x134f71(0x1b7));
    }
  try {
    const _0x4a5b4a =
      CONFIG_ENDPOINTS["productosBasicos"] + _0x134f71(0x461) + _0x300408;
    console[_0x134f71(0x3e5)](_0x134f71(0x423));
    const _0x393d82 = await fetch(_0x4a5b4a, { cache: _0x134f71(0x462) });
    if (_0x393d82["ok"]) {
      const _0x10c67c = await _0x393d82["json"](),
        _0x23adec = Array[_0x134f71(0x2f3)](_0x10c67c) ? _0x10c67c : [];
      _0x56583f[_0x134f71(0x3b8)] === 0x0 &&
        _0x23adec[_0x134f71(0x3b8)] > 0x0 &&
        (_0x56583f = _0x23adec),
        _0x4733ff["push"](_0x134f71(0x347)),
        console[_0x134f71(0x3e5)](
          _0x134f71(0x308),
          _0x23adec["length"],
          _0x134f71(0x2ce)
        );
    } else _0x4733ff[_0x134f71(0x221)]("básico\x20❌\x20(error\x20HTTP)");
  } catch (_0x4c6b58) {
    console["warn"](_0x134f71(0x422), _0x4c6b58[_0x134f71(0x203)]),
      _0x4733ff["push"](_0x134f71(0x1e1));
  }
  if (_0x56583f[_0x134f71(0x3b8)] === 0x0)
    throw new Error(
      "No\x20se\x20pudieron\x20cargar\x20productos\x20de\x20ningún\x20endpoint"
    );
  return (
    await clearProductos(),
    await saveProductos(_0x56583f),
    localStorage["setItem"](_0x134f71(0x1eb), String(_0x300408)),
    console[_0x134f71(0x3e5)](
      _0x134f71(0x1e8),
      _0x4733ff[_0x134f71(0x457)](",\x20")
    ),
    {
      productos: _0x56583f[_0x134f71(0x3b8)],
      endpoints: _0x4733ff,
      detalles: _0x4733ff["length"] + _0x134f71(0x397),
    }
  );
}
async function cargarPromocionesRapido() {
  const _0x28a06c = _0x463762;
  console[_0x28a06c(0x3e5)](
    "🔄\x20Consultando\x20endpoint\x20de\x20promociones..."
  );
  const _0x127944 = await fetch(CONFIG_ENDPOINTS[_0x28a06c(0x329)], {
    cache: _0x28a06c(0x462),
    headers: { Accept: "application/json", "Content-Type": _0x28a06c(0x3ae) },
  });
  if (!_0x127944["ok"]) throw new Error(_0x28a06c(0x18c) + _0x127944["status"]);
  const _0x21bd58 = await _0x127944[_0x28a06c(0x1ba)]();
  if (
    _0x21bd58[_0x28a06c(0x1f5)] &&
    _0x21bd58[_0x28a06c(0x278)] &&
    _0x21bd58[_0x28a06c(0x278)]["promociones"]
  ) {
    const _0x18f348 = _0x21bd58[_0x28a06c(0x278)][_0x28a06c(0x329)];
    console["log"](
      _0x28a06c(0x3bd) + _0x18f348[_0x28a06c(0x3b8)] + _0x28a06c(0x2a0)
    );
    try {
      await clearPromociones(), await savePromociones(_0x18f348);
      const _0x32b4ba = Date[_0x28a06c(0x2aa)]();
      localStorage["setItem"](_0x28a06c(0x36a), String(_0x32b4ba)),
        console[_0x28a06c(0x3e5)](_0x28a06c(0x25a));
    } catch (_0x513edb) {
      console["error"](
        "❌\x20Error\x20guardando\x20promociones\x20en\x20IndexedDB:",
        _0x513edb
      );
    }
    return {
      promociones: _0x18f348[_0x28a06c(0x3b8)],
      detalles: "promociones\x20✅",
    };
  } else throw new Error(_0x28a06c(0x437));
}
btnActualizar[_0x463762(0x263)]("click", actualizarTodosLosDatos),
  renderUltimaActualizacion(),
  setInterval(renderUltimaActualizacion, 0xea60),
  openDB()[_0x463762(0x2a9)](async (_0x2c735c) => {
    const _0x580426 = _0x463762,
      _0x57ec5e = _0x2c735c[_0x580426(0x303)](DB_STORE, _0x580426(0x3c7)),
      _0x1301ba = _0x57ec5e[_0x580426(0x269)](DB_STORE),
      _0x4a4ec9 = _0x1301ba[_0x580426(0x492)](),
      _0xa6091a = _0x2c735c[_0x580426(0x303)](DB_STORE_PROMOCIONES, "readonly"),
      _0x2f5a57 = _0xa6091a[_0x580426(0x269)](DB_STORE_PROMOCIONES),
      _0x18dedb = _0x2f5a57[_0x580426(0x492)]();
    Promise[_0x580426(0x337)]([
      new Promise((_0x4f916c) => {
        const _0x130cff = _0x580426;
        _0x4a4ec9[_0x130cff(0x3e6)] = () =>
          _0x4f916c(_0x4a4ec9[_0x130cff(0x2d7)]);
      }),
      new Promise((_0x5dca7d) => {
        const _0x262996 = _0x580426;
        _0x18dedb["onsuccess"] = () => _0x5dca7d(_0x18dedb[_0x262996(0x2d7)]);
      }),
    ])
      [_0x580426(0x2a9)](([_0x2a7fc5, _0x4e43f5]) => {
        const _0x59e17b = _0x580426,
          _0x538ce7 = _0x2a7fc5 > 0x0,
          _0x461b97 = _0x4e43f5 > 0x0;
        if (!_0x538ce7 && !_0x461b97)
          console[_0x59e17b(0x3e5)](_0x59e17b(0x3bf)),
            cargarProductosRapido()[_0x59e17b(0x2d8)]((_0x4c0b6e) =>
              console[_0x59e17b(0x189)](
                "Error\x20inicial\x20cargando\x20productos:",
                _0x4c0b6e
              )
            );
        else
          !_0x538ce7
            ? (console["log"](_0x59e17b(0x419)),
              cargarProductosRapido()["catch"]((_0x1b31f7) =>
                console["error"](_0x59e17b(0x1b8), _0x1b31f7)
              ))
            : console[_0x59e17b(0x3e5)](
                _0x59e17b(0x1b6),
                _0x2a7fc5,
                _0x59e17b(0x403),
                _0x4e43f5
              );
        datosYaCargados = !![];
      })
      [_0x580426(0x2d8)]((_0x5e36db) => {
        const _0x17138c = _0x580426;
        console[_0x17138c(0x189)](_0x17138c(0x49e), _0x5e36db);
        try {
          cargarProductosRapido()[_0x17138c(0x2d8)]((_0x45ba4b) =>
            console[_0x17138c(0x189)](_0x17138c(0x140), _0x45ba4b)
          );
        } catch (_0x14c132) {}
        datosYaCargados = !![];
      });
  });
let historial = [];
const historialCookie = getCookie(_0x463762(0x15a));
if (historialCookie)
  try {
    historial = JSON[_0x463762(0x3d3)](historialCookie);
  } catch (_0x16fd78) {
    historial = [];
  }
function renderClearButton() {
  return "\x0a\x20\x20\x20\x20<div\x20class=\x22d-flex\x20align-items-center\x20justify-content-end\x20h-100\x22>\x0a\x20\x20\x20\x20\x20\x20<button\x20id=\x22limpiarHistorialBtn\x22\x20class=\x22btn\x20btn-danger\x20btn-sm\x22>Limpiar\x20historial</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20";
}
function renderHistorial() {
  const _0x59fead = _0x463762;
  (historialDiv[_0x59fead(0x361)] =
    _0x59fead(0x33b) +
    (historial[_0x59fead(0x3b8)] > 0x0 ? renderClearButton() : "") +
    _0x59fead(0x26b) +
    (historial[_0x59fead(0x3b8)] === 0x0
      ? _0x59fead(0x336)
      : _0x59fead(0x3c3) +
        historial[_0x59fead(0x2eb)]((_0x5f2fae) => {
          const _0x5e49a9 = _0x59fead,
            _0x2e65c2 =
              _0x5f2fae[_0x5e49a9(0x17a)] ||
              _0x5f2fae[_0x5e49a9(0x1ed)] ||
              _0x5e49a9(0x2f9),
            _0x47765f =
              _0x5f2fae["pr_sku"] ||
              _0x5f2fae["pr_gtin"] ||
              _0x5f2fae["CODIGO"] ||
              _0x5f2fae[_0x5e49a9(0x194)] ||
              _0x5e49a9(0x3c0),
            _0x56bff3 =
              _0x5f2fae[_0x5e49a9(0x3ad)] ||
              _0x5f2fae["L1"] ||
              _0x5f2fae[_0x5e49a9(0x1b3)] ||
              0x0,
            _0x2471f0 = Math[_0x5e49a9(0x183)](_0x56bff3 * 1.16 * 0x64) / 0x64,
            _0x5b2040 = _0x5f2fae["FECHA_ESCANEO"]
              ? new Date(_0x5f2fae[_0x5e49a9(0x1ec)])["toLocaleString"]()
              : _0x5e49a9(0x44d);
          return (
            _0x5e49a9(0x1ce) +
            _0x2e65c2 +
            _0x5e49a9(0x229) +
            _0x2e65c2 +
            "\x22\x20style=\x22font-size:1.2rem;\x20color:#616161;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22bi\x20bi-clipboard\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22small\x20text-secondary\x20ms-md-2\x20d-flex\x20align-items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SKU:\x20<strong\x20class=\x22ms-1\x22>" +
            _0x47765f +
            "</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-link\x20btn-sm\x20ms-2\x20p-0\x20copiar-btn\x22\x20title=\x22Copiar\x20SKU\x22\x20data-copiar=\x22" +
            _0x47765f +
            "\x22\x20style=\x22font-size:1.2rem;\x20color:#616161;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22bi\x20bi-clipboard\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22badge\x20bg-success\x20fs-6\x20mb-1\x20mb-md-0\x20ms-md-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Precio:\x20$" +
            _0x2471f0[_0x5e49a9(0x460)](0x2) +
            _0x5e49a9(0x3a2) +
            _0x5b2040 +
            _0x5e49a9(0x13f) +
            _0x47765f +
            "\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22bi\x20bi-search\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>"
          );
        })[_0x59fead(0x457)]("") +
        _0x59fead(0x17f)) +
    _0x59fead(0x43c)),
    setCookie(_0x59fead(0x15a), JSON[_0x59fead(0x225)](historial), 0x1e);
  const _0x48c137 = document[_0x59fead(0x145)](_0x59fead(0x294));
  _0x48c137 &&
    _0x48c137[_0x59fead(0x263)](_0x59fead(0x338), () => {
      const _0x30be22 = _0x59fead;
      (historial = []),
        setCookie(_0x30be22(0x15a), JSON[_0x30be22(0x225)](historial), 0x1e),
        renderHistorial();
    });
  const _0x236f2e = historialDiv[_0x59fead(0x24a)](_0x59fead(0x15b));
  _0x236f2e[_0x59fead(0x44c)]((_0x43b508) => {
    const _0x3a0469 = _0x59fead;
    _0x43b508[_0x3a0469(0x263)]("click", function (_0x34f305) {
      const _0x460b14 = _0x3a0469,
        _0x80a290 = _0x43b508[_0x460b14(0x322)]("data-copiar");
      navigator["clipboard"] &&
        navigator[_0x460b14(0x244)]["writeText"](_0x80a290)["then"](() => {
          const _0x57a9ec = _0x460b14;
          (_0x43b508[_0x57a9ec(0x361)] = _0x57a9ec(0x4a5)),
            setTimeout(() => {
              const _0xab5173 = _0x57a9ec;
              _0x43b508[_0xab5173(0x361)] = _0xab5173(0x459);
            }, 0x4b0);
        });
    });
  });
  const _0x19cecc = historialDiv[_0x59fead(0x24a)](".consultar-historial-btn");
  _0x19cecc["forEach"]((_0x34cd8e) => {
    const _0x4b248e = _0x59fead;
    _0x34cd8e[_0x4b248e(0x263)](_0x4b248e(0x338), function (_0x541dce) {
      const _0x5d9f74 = _0x4b248e,
        _0x3c79f1 = _0x34cd8e[_0x5d9f74(0x322)](_0x5d9f74(0x147));
      consultarProductoDesdeHistorial(_0x3c79f1);
    });
  });
}
inputCodigo["addEventListener"](_0x463762(0x259), function (_0xa01102) {
  const _0x3b464c = _0x463762;
  _0xa01102[_0x3b464c(0x3e8)] === _0x3b464c(0x332) &&
    (_0xa01102[_0x3b464c(0x466)](),
    form[_0x3b464c(0x2ca)](),
    setTimeout(() => {
      const _0xaebca3 = _0x3b464c,
        _0x174b33 = document[_0xaebca3(0x145)](_0xaebca3(0x1a7));
      _0x174b33 &&
        _0x174b33["scrollIntoView"]({
          behavior: _0xaebca3(0x3aa),
          block: _0xaebca3(0x3f6),
          inline: _0xaebca3(0x3b3),
        });
    }, 0x12c));
}),
  form[_0x463762(0x263)](_0x463762(0x41c), async (_0x146221) => {
    const _0x26a00d = _0x463762;
    _0x146221["preventDefault"](), hideMobileKeyboard();
    let _0x4b8de0 = inputCodigo["value"]
      ["trim"]()
      [_0x26a00d(0x470)](/\s+$/, "");
    const _0x58c110 = _0x4b8de0["toLowerCase"]();
    (inputCodigo["value"] = _0x4b8de0),
      (resultadoDiv[_0x26a00d(0x361)] = ""),
      setTimeout(() => {
        const _0x2c4f7f = _0x26a00d,
          _0x24a899 = document[_0x2c4f7f(0x145)](_0x2c4f7f(0x1a7));
        _0x24a899 &&
          _0x24a899[_0x2c4f7f(0x402)]({
            behavior: _0x2c4f7f(0x3aa),
            block: _0x2c4f7f(0x3f6),
            inline: _0x2c4f7f(0x3b3),
          });
      }, 0x64),
      (sugerenciasDiv[_0x26a00d(0x361)] = ""),
      (sugerenciasDiv[_0x26a00d(0x2c4)]["display"] = _0x26a00d(0x239));
    if (!_0x4b8de0) {
      (resultadoDiv["innerHTML"] = _0x26a00d(0x342)),
        renderHistorial(),
        inputCodigo[_0x26a00d(0x1ee)]();
      return;
    }
    (inputCodigo[_0x26a00d(0x220)] = ""),
      (resultadoDiv[_0x26a00d(0x361)] = _0x26a00d(0x254)),
      (inputCodigo["value"] = "");
    try {
      inputCodigo["blur"]();
    } catch (_0x2d18ca) {}
    let _0x87fd4a = await getAllProductos(),
      _0x4c1fd7 = _0x87fd4a[_0x26a00d(0x3ec)]((_0x2575fe) => {
        const _0x652954 = _0x26a00d,
          _0x259998 = (
            _0x2575fe["pr_sku"] != null
              ? String(_0x2575fe[_0x652954(0x2dc)])
              : ""
          )["toLowerCase"](),
          _0x272751 = (
            _0x2575fe[_0x652954(0x34a)] != null
              ? String(_0x2575fe[_0x652954(0x34a)])
              : ""
          )["toLowerCase"]();
        if (_0x259998 === _0x58c110 || _0x272751 === _0x58c110) return !![];
        if (
          _0x2575fe[_0x652954(0x331)] &&
          Array[_0x652954(0x2f3)](_0x2575fe[_0x652954(0x331)])
        )
          return _0x2575fe[_0x652954(0x331)][_0x652954(0x28b)](
            (_0x5612f6) => String(_0x5612f6)["toLowerCase"]() === _0x58c110
          );
        return ![];
      });
    if (_0x4c1fd7) {
      mostrarDetalleProducto(_0x4c1fd7);
      const _0x594b77 = {
        ..._0x4c1fd7,
        FECHA_ESCANEO: new Date()["toISOString"](),
      };
      historial[_0x26a00d(0x18e)](_0x594b77),
        setCookie("historial", JSON[_0x26a00d(0x225)](historial), 0x1e),
        (inputCodigo["value"] = "");
      if (!isMobileDevice())
        try {
          inputCodigo[_0x26a00d(0x1ee)]();
        } catch (_0x399581) {}
      _0x4c1fd7[_0x26a00d(0x331)] &&
        _0x4c1fd7[_0x26a00d(0x331)][_0x26a00d(0x3b8)] > 0x1 &&
        console[_0x26a00d(0x3e5)](
          "🎯\x20Producto\x20encontrado\x20con\x20códigos\x20múltiples:",
          {
            sku: _0x4c1fd7[_0x26a00d(0x2dc)],
            gtin_principal: _0x4c1fd7[_0x26a00d(0x34a)],
            codigo_buscado: _0x4b8de0,
            todos_los_codigos: _0x4c1fd7[_0x26a00d(0x331)],
          }
        );
    } else {
      let _0x5bcb6b = _0x87fd4a[_0x26a00d(0x1da)]((_0x1640fa) => {
        const _0xdeb907 = _0x26a00d,
          _0x24b230 = (_0x1640fa["pr_name"] || "")[_0xdeb907(0x335)](),
          _0x13d4c8 = (
            _0x1640fa["pr_sku"] != null
              ? String(_0x1640fa[_0xdeb907(0x2dc)])
              : ""
          )[_0xdeb907(0x335)](),
          _0x33ac4e = (
            _0x1640fa[_0xdeb907(0x34a)] != null
              ? String(_0x1640fa["pr_gtin"])
              : ""
          )["toLowerCase"]();
        return (
          _0x24b230[_0xdeb907(0x306)](_0x58c110) ||
          _0x13d4c8[_0xdeb907(0x306)](_0x58c110) ||
          _0x33ac4e["includes"](_0x58c110)
        );
      });
      _0x5bcb6b["length"] > 0x0
        ? mostrarModalResultadosBusqueda(_0x5bcb6b, _0x4b8de0)
        : ((resultadoDiv[_0x26a00d(0x361)] =
            _0x26a00d(0x1c3) + _0x4b8de0 + "</div>"),
          (inputCodigo[_0x26a00d(0x3c4)] = ""),
          inputCodigo[_0x26a00d(0x1ee)](),
          setTimeout(() => {
            const _0x103e8c = _0x26a00d;
            resultadoDiv[_0x103e8c(0x361)] = "";
          }, 0x1388),
          console[_0x26a00d(0x3e5)](_0x26a00d(0x36c) + _0x4b8de0 + "\x22"));
    }
    renderHistorial();
  });
async function detectarPromocionReal(_0x4de848) {
  const _0x5c58e7 = _0x463762,
    _0x5bb0c5 = (_0x4de848[_0x5c58e7(0x2dc)] || "")[_0x5c58e7(0x4b0)]();
  try {
    const _0x4bcae7 = await getAllPromociones();
    console["log"](_0x5c58e7(0x479), _0x4bcae7["length"]),
      console[_0x5c58e7(0x3e5)](_0x5c58e7(0x1ad), _0x5bb0c5);
    const _0x2f0d3e = [];
    for (const _0x3f9a1b of _0x4bcae7) {
      let _0x37f9e3 = [];
      if (
        _0x3f9a1b["skus"] &&
        Array[_0x5c58e7(0x2f3)](_0x3f9a1b[_0x5c58e7(0x45b)])
      )
        _0x37f9e3 = _0x3f9a1b["skus"];
      else
        _0x3f9a1b[_0x5c58e7(0x20a)] &&
          _0x3f9a1b[_0x5c58e7(0x20a)]["pr_sku"] &&
          (Array[_0x5c58e7(0x2f3)](
            _0x3f9a1b[_0x5c58e7(0x20a)][_0x5c58e7(0x2dc)]
          )
            ? (_0x37f9e3 = _0x3f9a1b[_0x5c58e7(0x20a)][_0x5c58e7(0x2dc)])
            : (_0x37f9e3 = _0x3f9a1b[_0x5c58e7(0x20a)][_0x5c58e7(0x2dc)]
                [_0x5c58e7(0x456)]("\x20")
                [_0x5c58e7(0x1da)]((_0xe97887) =>
                  _0xe97887[_0x5c58e7(0x42a)]()
                )));
      if (_0x37f9e3[_0x5c58e7(0x306)](_0x5bb0c5)) {
        const _0x281c42 =
            _0x3f9a1b[_0x5c58e7(0x262)] ||
            _0x3f9a1b[_0x5c58e7(0x411)] ||
            _0x3f9a1b[_0x5c58e7(0x3d4)] ||
            _0x5c58e7(0x48b),
          _0x21e86a =
            _0x3f9a1b[_0x5c58e7(0x28f)] ||
            _0x3f9a1b[_0x5c58e7(0x362)] ||
            _0x3f9a1b["qty"] ||
            "",
          _0x56ecd5 =
            _0x3f9a1b[_0x5c58e7(0x1b2)] ||
            _0x3f9a1b["precio"] ||
            _0x3f9a1b[_0x5c58e7(0x20d)] ||
            _0x3f9a1b[_0x5c58e7(0x1fa)] ||
            _0x3f9a1b[_0x5c58e7(0x305)] ||
            _0x3f9a1b[_0x5c58e7(0x350)] ||
            _0x3f9a1b["total_price"] ||
            _0x3f9a1b[_0x5c58e7(0x205)] ||
            "";
        console["log"](_0x5c58e7(0x360) + _0x5bb0c5 + ":", {
          nombre: _0x281c42,
          cantidad: _0x21e86a,
          precio: _0x56ecd5,
          campos_precio_disponibles: {
            pro_precioPromo: _0x3f9a1b[_0x5c58e7(0x1b2)],
            precio: _0x3f9a1b[_0x5c58e7(0x370)],
            price: _0x3f9a1b[_0x5c58e7(0x20d)],
            precioTotal: _0x3f9a1b[_0x5c58e7(0x1fa)],
            precio_total: _0x3f9a1b[_0x5c58e7(0x305)],
            pro_precio_total: _0x3f9a1b[_0x5c58e7(0x350)],
            total_price: _0x3f9a1b[_0x5c58e7(0x3ff)],
            valor_total: _0x3f9a1b[_0x5c58e7(0x205)],
          },
          campos_disponibles: Object[_0x5c58e7(0x40f)](_0x3f9a1b),
          promo_completa: _0x3f9a1b,
        }),
          _0x2f0d3e["push"]({
            tipo: _0x5c58e7(0x41b),
            detalle: _0x5c58e7(0x432) + _0x281c42,
            nombre_promocion: _0x281c42,
            es_oficial: !![],
            fuente: _0x5c58e7(0x196),
            id_promocion: _0x3f9a1b[_0x5c58e7(0x436)] || _0x3f9a1b["id"],
            cantidad: _0x21e86a,
            precio: _0x56ecd5,
            mensaje:
              _0x3f9a1b[_0x5c58e7(0x463)] || _0x3f9a1b[_0x5c58e7(0x27d)] || "",
            tipo_promo:
              _0x3f9a1b["pro_tipoPromo"] || _0x3f9a1b[_0x5c58e7(0x30f)] || "",
            vigencia:
              _0x3f9a1b["validFrom"] && _0x3f9a1b[_0x5c58e7(0x480)]
                ? _0x3f9a1b[_0x5c58e7(0x2e0)] +
                  _0x5c58e7(0x386) +
                  _0x3f9a1b[_0x5c58e7(0x480)]
                : "",
            raw_data: {
              pro_cantidad_base: _0x3f9a1b["pro_cantidad_base"],
              pro_precioPromo: _0x3f9a1b[_0x5c58e7(0x1b2)],
              pro_nombrePromo: _0x3f9a1b[_0x5c58e7(0x262)],
              todos_campos_precio: {
                pro_precioPromo: _0x3f9a1b["pro_precioPromo"],
                precio: _0x3f9a1b[_0x5c58e7(0x370)],
                price: _0x3f9a1b[_0x5c58e7(0x20d)],
                precioTotal: _0x3f9a1b[_0x5c58e7(0x1fa)],
                precio_total: _0x3f9a1b[_0x5c58e7(0x305)],
                pro_precio_total: _0x3f9a1b[_0x5c58e7(0x350)],
                total_price: _0x3f9a1b[_0x5c58e7(0x3ff)],
                valor_total: _0x3f9a1b["valor_total"],
              },
            },
          });
      }
    }
    return (
      _0x2f0d3e[_0x5c58e7(0x3b8)] === 0x0
        ? console[_0x5c58e7(0x3e5)](_0x5c58e7(0x325) + _0x5bb0c5)
        : console[_0x5c58e7(0x3e5)](
            "✅\x20" + _0x2f0d3e["length"] + _0x5c58e7(0x44e) + _0x5bb0c5
          ),
      _0x2f0d3e
    );
  } catch (_0x205aed) {
    return console[_0x5c58e7(0x189)](_0x5c58e7(0x195), _0x205aed), [];
  }
}
function mostrarDetalleProducto(_0x208754) {
  const _0x1ad3d6 = _0x463762;
  hideMobileKeyboard();
  let _0x40dc71 = "";
  if (
    _0x208754[_0x1ad3d6(0x250)] &&
    _0x208754[_0x1ad3d6(0x250)][_0x1ad3d6(0x42a)]() !== ""
  ) {
    if (_0x208754["pr_imagen"][_0x1ad3d6(0x141)](_0x1ad3d6(0x39e)))
      _0x40dc71 = _0x208754[_0x1ad3d6(0x250)];
    else {
      let _0x4aa49c = _0x208754[_0x1ad3d6(0x250)][_0x1ad3d6(0x141)]("/")
        ? _0x208754["pr_imagen"]
        : "/" + _0x208754[_0x1ad3d6(0x250)];
      _0x40dc71 = "https://media.megaservicio.net" + _0x4aa49c;
    }
  }
  let _0x35c2a6 =
      Number(_0x208754[_0x1ad3d6(0x3ad)]) || Number(_0x208754["L1"]) || 0x0,
    _0x1baa91 = Math[_0x1ad3d6(0x183)](_0x35c2a6 * 1.16 * 0x64) / 0x64,
    _0x3dbd42 = 0xc,
    _0x3d9111 = 0.1,
    _0x43cd19 =
      Math[_0x1ad3d6(0x183)](_0x1baa91 * (0x1 + _0x3d9111) * 0x64) / 0x64,
    _0xdde6fc = "";
  if (
    _0x208754[_0x1ad3d6(0x331)] &&
    _0x208754[_0x1ad3d6(0x331)][_0x1ad3d6(0x3b8)] > 0x1
  ) {
    const _0x53596c = [...new Set(_0x208754[_0x1ad3d6(0x331)])][
      _0x1ad3d6(0x1da)
    ]((_0x285071) => _0x285071 && _0x285071[_0x1ad3d6(0x42a)]());
    _0x53596c[_0x1ad3d6(0x3b8)] > 0x1 &&
      (_0xdde6fc =
        _0x1ad3d6(0x424) +
        _0x53596c[_0x1ad3d6(0x457)](",\x20") +
        _0x1ad3d6(0x2f4));
  }
  renderProductoConPromociones(
    _0x208754,
    _0x40dc71,
    _0x1baa91,
    _0x43cd19,
    _0xdde6fc
  ),
    setTimeout(() => {
      generarCodigoBarras(_0x208754);
    }, 0x64),
    detectarPromocionReal(_0x208754)
      ["then"]((_0x375f3b) => {
        actualizarPromocionesEnVista(
          _0x208754,
          _0x40dc71,
          _0x1baa91,
          _0x43cd19,
          _0xdde6fc,
          _0x375f3b
        );
      })
      [_0x1ad3d6(0x2d8)]((_0x3d445b) => {
        const _0x54160a = _0x1ad3d6;
        console[_0x54160a(0x189)](_0x54160a(0x2be), _0x3d445b),
          actualizarPromocionesEnVista(
            _0x208754,
            _0x40dc71,
            _0x1baa91,
            _0x43cd19,
            _0xdde6fc,
            []
          );
      });
}
function generarCodigoBarras(_0x3dee19) {
  const _0x3fedc9 = _0x463762,
    _0x13198 = _0x3dee19["pr_sku"] || _0x3dee19[_0x3fedc9(0x34a)] || "",
    _0x2855f9 = _0x3fedc9(0x1bf) + _0x3dee19[_0x3fedc9(0x2dc)],
    _0x429b97 = document[_0x3fedc9(0x145)](_0x2855f9);
  if (!_0x429b97 || !_0x13198) {
    console[_0x3fedc9(0x43e)](_0x3fedc9(0x27a));
    return;
  }
  const _0x5ea8a7 = () => {
    const _0x47c35f = _0x3fedc9;
    if (window["JsBarcode"])
      try {
        let _0x1e2859 = "CODE128";
        const _0xbb15fc = String(_0x13198);
        if (
          _0xbb15fc[_0x47c35f(0x3b8)] === 0xd &&
          /^\d+$/[_0x47c35f(0x232)](_0xbb15fc)
        )
          _0x1e2859 = _0x47c35f(0x3db);
        else {
          if (_0xbb15fc[_0x47c35f(0x3b8)] === 0x8 && /^\d+$/["test"](_0xbb15fc))
            _0x1e2859 = _0x47c35f(0x3b5);
          else
            _0xbb15fc["length"] === 0xc &&
              /^\d+$/[_0x47c35f(0x232)](_0xbb15fc) &&
              (_0x1e2859 = _0x47c35f(0x249));
        }
        console[_0x47c35f(0x3e5)](
          _0x47c35f(0x3cc) + _0x1e2859 + _0x47c35f(0x2d3) + _0xbb15fc
        ),
          JsBarcode(_0x429b97, _0xbb15fc, {
            format: _0x1e2859,
            width: 0x2,
            height: 0x32,
            displayValue: ![],
            margin: 0x0,
            background: _0x47c35f(0x287),
            lineColor: _0x47c35f(0x307),
          }),
          window[_0x47c35f(0x3a7)] <= 0x300 &&
            JsBarcode(_0x429b97, _0xbb15fc, {
              format: _0x1e2859,
              width: 1.5,
              height: 0x28,
              displayValue: ![],
              margin: 0x0,
              background: "#ffffff",
              lineColor: "#000000",
            });
      } catch (_0x4b3723) {
        console[_0x47c35f(0x189)](_0x47c35f(0x3d2), _0x4b3723);
        const _0x51785c = _0x429b97[_0x47c35f(0x31e)]("2d");
        (_0x51785c["fillStyle"] = _0x47c35f(0x2f8)),
          _0x51785c["fillRect"](
            0x0,
            0x0,
            _0x429b97[_0x47c35f(0x3e4)],
            _0x429b97[_0x47c35f(0x233)]
          ),
          (_0x51785c[_0x47c35f(0x31b)] = _0x47c35f(0x2b7)),
          (_0x51785c[_0x47c35f(0x48e)] = _0x47c35f(0x24f)),
          (_0x51785c["textAlign"] = _0x47c35f(0x498)),
          _0x51785c[_0x47c35f(0x265)](
            _0x47c35f(0x32d),
            _0x429b97[_0x47c35f(0x3e4)] / 0x2,
            _0x429b97[_0x47c35f(0x233)] / 0x2
          );
      }
    else setTimeout(_0x5ea8a7, 0x64);
  };
  _0x5ea8a7();
}
function renderProductoConPromociones(
  _0x59a672,
  _0x3c8664,
  _0x5b0179,
  _0x501371,
  _0x515caa
) {
  const _0xfe819 = _0x463762;
  resultadoDiv["innerHTML"] =
    "\x0a\x20\x20\x20\x20<div\x20class=\x22row\x20align-items-center\x20justify-content-center\x20g-0\x20mb-4\x22\x20style=\x22padding:\x200px\x2010px;\x22>\x0a\x20\x20\x20\x20\x20\x20" +
    (_0x3c8664
      ? _0xfe819(0x3fa) +
        _0x3c8664 +
        _0xfe819(0x22c) +
        _0x59a672[_0xfe819(0x17a)] +
        _0xfe819(0x19e)
      : "") +
    _0xfe819(0x497) +
    _0x59a672[_0xfe819(0x17a)] +
    "</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20justify-content-center\x20align-items-center\x20gap-3\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20align-items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fw-bold\x20text-danger\x20precio-responsive\x22>$\x20" +
    _0x5b0179[_0xfe819(0x460)](0x2) +
    _0xfe819(0x2de) +
    _0x501371[_0xfe819(0x460)](0x2) +
    _0xfe819(0x19a) +
    _0x59a672["pr_sku"] +
    _0xfe819(0x312) +
    (_0x59a672[_0xfe819(0x2dc)] ||
      _0x59a672[_0xfe819(0x34a)] ||
      _0xfe819(0x16f)) +
    _0xfe819(0x2cc) +
    _0x515caa +
    _0xfe819(0x3c8);
}
function actualizarPromocionesEnVista(
  _0x61878e,
  _0x1dbec4,
  _0x65aaf,
  _0x37ae0d,
  _0x27bbe4,
  _0x178764
) {
  const _0x49ae3c = _0x463762;
  console[_0x49ae3c(0x3e5)](_0x49ae3c(0x34e), _0x178764);
  let _0xd68e34 = "";
  if (_0x178764[_0x49ae3c(0x3b8)] > 0x0) {
    const _0x227d1b = _0x178764[_0x49ae3c(0x1da)](
      (_0x46e475) =>
        _0x46e475[_0x49ae3c(0x328)] &&
        (_0x46e475["fuente"] === _0x49ae3c(0x408) ||
          _0x46e475[_0x49ae3c(0x420)] === _0x49ae3c(0x196))
    );
    console[_0x49ae3c(0x3e5)](_0x49ae3c(0x4b5), _0x227d1b);
    if (_0x227d1b[_0x49ae3c(0x3b8)] > 0x0) {
      const _0x1d10c9 = _0x227d1b[_0x49ae3c(0x2eb)]((_0x735a67) => {
        const _0x172d6d = _0x49ae3c;
        console[_0x172d6d(0x3e5)](
          "🔍\x20Datos\x20de\x20promoción\x20recibidos:",
          _0x735a67
        );
        const _0x3e722e =
          _0x735a67[_0x172d6d(0x362)] || _0x735a67[_0x172d6d(0x28f)] || "";
        let _0x2f6b2f =
          _0x735a67[_0x172d6d(0x370)] || _0x735a67[_0x172d6d(0x1b2)] || "";
        const _0x2796bf =
          _0x735a67[_0x172d6d(0x371)] || _0x735a67[_0x172d6d(0x262)] || "";
        console[_0x172d6d(0x3e5)](_0x172d6d(0x3d9), {
          cantidad: _0x3e722e,
          precio: _0x2f6b2f,
          nombrePromo: _0x2796bf,
        });
        if (_0x3e722e && _0x2f6b2f) {
          const _0x28d9c3 = parseInt(_0x3e722e),
            _0x36aa1d = parseFloat(_0x2f6b2f);
          if (!isNaN(_0x28d9c3) && !isNaN(_0x36aa1d)) {
            const _0xd15d31 = _0x28d9c3 * _0x36aa1d,
              _0x9cec49 = Math[_0x172d6d(0x183)](_0xd15d31);
            console[_0x172d6d(0x3e5)](
              "🧮\x20Calculando\x20precio\x20total:\x20" +
                _0x28d9c3 +
                "\x20x\x20" +
                _0x36aa1d +
                "\x20=\x20" +
                _0xd15d31 +
                "\x20→\x20" +
                _0x9cec49 +
                "\x20(redondeado)"
            ),
              (_0x2f6b2f = _0x9cec49[_0x172d6d(0x4b0)]());
          }
        }
        console[_0x172d6d(0x3e5)](_0x172d6d(0x241), {
          cantidad: _0x3e722e,
          precio: _0x2f6b2f,
          nombrePromo: _0x2796bf,
        });
        let _0x2871cf = "";
        if (_0x3e722e && _0x2f6b2f)
          (_0x2871cf = _0x3e722e + "x" + _0x2f6b2f),
            console[_0x172d6d(0x3e5)](
              "✅\x20Usando\x20cantidad\x20y\x20precio\x20calculado:",
              _0x2871cf
            );
        else {
          if (_0x2796bf) {
            const _0x4844f1 = _0x2796bf[_0x172d6d(0x415)](
                /(\d+)\s*[xX×]\s*(\d+)/i
              ),
              _0x421218 = _0x2796bf[_0x172d6d(0x415)](
                /(\d+)\s*[xX×]\s*\$?\s*(\d+)/i
              ),
              _0x19cd9c = _0x2796bf[_0x172d6d(0x415)](/(\d+)\s*[xX×]/i);
            if (_0x4844f1)
              (_0x2871cf = _0x4844f1[0x1] + "x" + _0x4844f1[0x2]),
                console[_0x172d6d(0x3e5)](_0x172d6d(0x261), _0x2871cf);
            else {
              if (_0x421218)
                (_0x2871cf = _0x421218[0x1] + "x" + _0x421218[0x2]),
                  console[_0x172d6d(0x3e5)](
                    "✅\x20Extraído\x20formato\x20con\x20peso\x20del\x20nombre:",
                    _0x2871cf
                  );
              else
                _0x19cd9c
                  ? ((_0x2871cf = _0x19cd9c[0x1] + "x"),
                    console[_0x172d6d(0x3e5)](_0x172d6d(0x1a0), _0x2871cf))
                  : ((_0x2871cf = _0x2796bf),
                    console[_0x172d6d(0x3e5)](_0x172d6d(0x485), _0x2871cf));
            }
          } else
            (_0x2871cf = "PROMO"),
              console[_0x172d6d(0x3e5)](
                "❌\x20Sin\x20datos,\x20usando\x20genérico"
              );
        }
        return _0x172d6d(0x197) + _0x2871cf + _0x172d6d(0x1c7);
      })[_0x49ae3c(0x457)]("");
      _0xd68e34 = _0x49ae3c(0x490) + _0x1d10c9 + _0x49ae3c(0x1af);
    } else
      _0xd68e34 =
        "\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-2\x20text-center\x22\x20style=\x22background-color:#f8f9fa;\x20border-radius:8px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-muted\x22>ℹ️\x20Sin\x20promociones\x20activas</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20";
  } else _0xd68e34 = _0x49ae3c(0x289);
  const _0x43954c = document[_0x49ae3c(0x145)]("promociones-container");
  _0x43954c && (_0x43954c[_0x49ae3c(0x361)] = _0xd68e34);
}
async function mostrarModalPromocionesGenerales() {
  const _0x4a33ee = _0x463762,
    _0x56ad75 =
      /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i["test"](
        navigator[_0x4a33ee(0x26c)]
      ),
    _0x182b61 = /iPad|iPhone|iPod/[_0x4a33ee(0x232)](
      navigator[_0x4a33ee(0x26c)]
    );
  if (_0x56ad75) hideMobileKeyboard();
  console[_0x4a33ee(0x3e5)](_0x4a33ee(0x374), _0x56ad75),
    console[_0x4a33ee(0x3e5)]("🍎\x20Dispositivo\x20iOS:", _0x182b61);
  const _0x18d420 = document[_0x4a33ee(0x145)]("promocionesGeneralesModal"),
    _0x1b6885 = document[_0x4a33ee(0x145)](_0x4a33ee(0x19c));
  if (!_0x1b6885 || !_0x18d420) {
    console[_0x4a33ee(0x189)](_0x4a33ee(0x2f5));
    return;
  }
  try {
    const _0x2afbb5 = () => {
      const _0xf49fe1 = _0x4a33ee,
        _0x1bc57f = document[_0xf49fe1(0x145)]("codigo");
      _0x1bc57f &&
        ((_0x1bc57f["placeholder"] = _0xf49fe1(0x417)), bringInputIntoView());
    };
    _0x18d420[_0x4a33ee(0x263)](_0x4a33ee(0x2b2), _0x2afbb5, { once: !![] });
  } catch (_0x36df27) {}
  try {
    const _0x3c879a = document[_0x4a33ee(0x145)](_0x4a33ee(0x475));
    _0x3c879a &&
      ((_0x3c879a[_0x4a33ee(0x3c4)] = ""),
      (_0x3c879a["placeholder"] = _0x4a33ee(0x417)));
    const _0x485cc6 = document[_0x4a33ee(0x145)]("sugerenciasDiv");
    _0x485cc6 &&
      ((_0x485cc6["innerHTML"] = ""),
      (_0x485cc6["style"][_0x4a33ee(0x3c6)] = _0x4a33ee(0x239)));
  } catch (_0x1a928c) {}
  try {
    console["log"](_0x4a33ee(0x38f)),
      (_0x1b6885[_0x4a33ee(0x361)] = _0x4a33ee(0x3c5));
    const _0x59f43c = await getAllProductos();
    let _0x1dedb4 = [];
    try {
      _0x1dedb4 = await getAllPromociones();
    } catch (_0x38656e) {
      _0x1dedb4 = [];
    }
    const _0x66dbe1 = ![];
    console["log"](_0x4a33ee(0x3ce), {
      total: _0x1dedb4[_0x4a33ee(0x3b8)],
      desdeServidor: _0x66dbe1,
    });
    if (_0x1dedb4[_0x4a33ee(0x3b8)] === 0x0) {
      _0x1b6885[_0x4a33ee(0x361)] =
        "\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22alert\x20alert-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22bi\x20bi-info-circle\x22\x20style=\x22font-size:\x203rem;\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h6\x20class=\x22mt-3\x22>ℹ️\x20Sin\x20promociones</h6>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>No\x20hay\x20promociones\x20locales\x20cargadas.\x20Pulsa\x20“Actualizar”\x20para\x20sincronizar.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20";
      return;
    }
    let _0x4b63bd = _0x4a33ee(0x339);
    _0x1dedb4["forEach"]((_0x28265b, _0x316603) => {
      const _0x32dfe1 = _0x4a33ee;
      let _0x176e29 = [];
      if (
        _0x28265b[_0x32dfe1(0x45b)] &&
        Array[_0x32dfe1(0x2f3)](_0x28265b[_0x32dfe1(0x45b)])
      )
        _0x176e29 = _0x28265b[_0x32dfe1(0x45b)];
      else
        _0x28265b[_0x32dfe1(0x20a)] &&
          _0x28265b[_0x32dfe1(0x20a)][_0x32dfe1(0x2dc)] &&
          (Array[_0x32dfe1(0x2f3)](
            _0x28265b[_0x32dfe1(0x20a)][_0x32dfe1(0x2dc)]
          )
            ? (_0x176e29 = _0x28265b[_0x32dfe1(0x20a)][_0x32dfe1(0x2dc)])
            : (_0x176e29 = _0x28265b[_0x32dfe1(0x20a)][_0x32dfe1(0x2dc)]
                [_0x32dfe1(0x456)]("\x20")
                ["filter"]((_0x2fd7ef) => _0x2fd7ef["trim"]())));
      const _0x37e7bc = new Map(
          _0x59f43c[_0x32dfe1(0x2eb)]((_0x33eaba) => [
            String(_0x33eaba[_0x32dfe1(0x2dc)]),
            _0x33eaba,
          ])
        ),
        _0x1ebae0 = _0x176e29["map"]((_0x37e363) =>
          _0x37e7bc[_0x32dfe1(0x33f)](String(_0x37e363))
        )[_0x32dfe1(0x1da)](Boolean),
        _0x3c9ecb =
          _0x28265b[_0x32dfe1(0x262)] ||
          _0x28265b[_0x32dfe1(0x411)] ||
          _0x32dfe1(0x1f8) + (_0x316603 + 0x1),
        _0x29546a =
          _0x28265b[_0x32dfe1(0x1c4)] ||
          _0x28265b[_0x32dfe1(0x30f)] ||
          "No\x20especificado",
        _0x1ca75f = _0x28265b["pro_mensaje"] || _0x28265b["mensaje"] || "",
        _0x13fcba = _0x28265b[_0x32dfe1(0x28f)] || "",
        _0x2da6f9 = Number(_0x13fcba) || 0x1;
      let _0x3ab122 = 0x0;
      const _0x14e248 = (_0x1ca75f + "\x20" + _0x3c9ecb)["toLowerCase"](),
        _0x6af590 = _0x14e248[_0x32dfe1(0x415)](/(\d+)\s*x\s*(\d+)/);
      if (_0x6af590) _0x3ab122 = Math[_0x32dfe1(0x183)](Number(_0x6af590[0x2]));
      else {
        const _0x5b3705 = Number(_0x28265b[_0x32dfe1(0x1b2)]) || 0x0;
        _0x3ab122 = Math[_0x32dfe1(0x183)](_0x5b3705 * _0x2da6f9);
      }
      _0x4b63bd +=
        "\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-md-6\x20col-lg-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20h-100\x20border-success\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-header\x20bg-success\x20text-white\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h6\x20class=\x22card-title\x20mb-0\x22>🏷️\x20" +
        _0x3c9ecb +
        _0x32dfe1(0x2c3) +
        (_0x1ebae0[_0x32dfe1(0x3b8)] > 0x0
          ? "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20" +
            _0x1ebae0["slice"](0x0, 0x4)
              [_0x32dfe1(0x2eb)]((_0x1e4e19) => {
                const _0x15aa48 = _0x32dfe1;
                let _0x5b3801 = "";
                if (
                  _0x1e4e19[_0x15aa48(0x250)] &&
                  _0x1e4e19[_0x15aa48(0x250)][_0x15aa48(0x42a)]() !== ""
                ) {
                  if (_0x1e4e19[_0x15aa48(0x250)][_0x15aa48(0x141)]("http"))
                    _0x5b3801 = _0x1e4e19[_0x15aa48(0x250)];
                  else {
                    let _0x41790d = _0x1e4e19["pr_imagen"][_0x15aa48(0x141)](
                      "/"
                    )
                      ? _0x1e4e19[_0x15aa48(0x250)]
                      : "/" + _0x1e4e19[_0x15aa48(0x250)];
                    _0x5b3801 = _0x15aa48(0x433) + _0x41790d;
                  }
                }
                const _0x68193b =
                    Number(_0x1e4e19[_0x15aa48(0x3ad)]) ||
                    Number(_0x1e4e19["L1"]) ||
                    0x0,
                  _0x79cbc6 =
                    Math[_0x15aa48(0x183)](_0x68193b * 1.16 * 0x64) / 0x64;
                return (
                  _0x15aa48(0x3fe) +
                  (_0x5b3801
                    ? "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22me-3\x22\x20style=\x22min-width:\x2060px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22" +
                      _0x5b3801 +
                      _0x15aa48(0x22c) +
                      _0x1e4e19[_0x15aa48(0x17a)] +
                      _0x15aa48(0x471)
                    : _0x15aa48(0x215)) +
                  "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fw-bold\x22\x20style=\x22font-size:\x200.9rem;\x20line-height:\x201.2;\x22>" +
                  _0x1e4e19[_0x15aa48(0x17a)] +
                  _0x15aa48(0x49a) +
                  _0x79cbc6[_0x15aa48(0x460)](0x2) +
                  _0x15aa48(0x2f0) +
                  _0x1e4e19["pr_sku"] +
                  "\x27)\x22\x20title=\x22Ver\x20detalles\x20completos\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22bi\x20bi-search\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20"
                );
              })
              [_0x32dfe1(0x457)]("") +
            _0x32dfe1(0x1f2) +
            (_0x1ebae0[_0x32dfe1(0x3b8)] > 0x4
              ? _0x32dfe1(0x175) +
                (_0x1ebae0[_0x32dfe1(0x3b8)] - 0x4) +
                "\x20más</div>"
              : "") +
            _0x32dfe1(0x30b)
          : _0x32dfe1(0x1aa)) +
        _0x32dfe1(0x25d);
    }),
      (_0x4b63bd += "</div>"),
      (_0x1b6885["innerHTML"] = _0x4b63bd);
    if (_0x56ad75 || _0x182b61) {
      console[_0x4a33ee(0x3e5)](_0x4a33ee(0x34f)),
        document["querySelectorAll"](".modal-backdrop")["forEach"](
          (_0x3d635b) => _0x3d635b[_0x4a33ee(0x438)]()
        ),
        (_0x18d420[_0x4a33ee(0x2c4)][_0x4a33ee(0x242)] = "fixed"),
        (_0x18d420["style"][_0x4a33ee(0x388)] = "0"),
        (_0x18d420[_0x4a33ee(0x2c4)]["left"] = "0"),
        (_0x18d420[_0x4a33ee(0x2c4)]["width"] = _0x4a33ee(0x378)),
        (_0x18d420["style"]["height"] = _0x4a33ee(0x378)),
        (_0x18d420[_0x4a33ee(0x2c4)][_0x4a33ee(0x28a)] = _0x4a33ee(0x1ab)),
        (_0x18d420[_0x4a33ee(0x2c4)][_0x4a33ee(0x3e1)] = _0x4a33ee(0x266));
      const _0x584035 = _0x18d420[_0x4a33ee(0x136)](_0x4a33ee(0x284));
      _0x584035 &&
        ((_0x584035[_0x4a33ee(0x2c4)][_0x4a33ee(0x3e4)] = _0x4a33ee(0x378)),
        (_0x584035["style"][_0x4a33ee(0x445)] = _0x4a33ee(0x378)),
        (_0x584035["style"][_0x4a33ee(0x233)] = "100%"),
        (_0x584035[_0x4a33ee(0x2c4)][_0x4a33ee(0x2a8)] = "0"),
        (_0x584035["style"][_0x4a33ee(0x3c6)] = "flex"),
        (_0x584035[_0x4a33ee(0x2c4)][_0x4a33ee(0x1ea)] = _0x4a33ee(0x48c)));
      const _0x462793 = _0x18d420[_0x4a33ee(0x136)](_0x4a33ee(0x3f1));
      _0x462793 &&
        ((_0x462793[_0x4a33ee(0x2c4)][_0x4a33ee(0x3e4)] = "100%"),
        (_0x462793[_0x4a33ee(0x2c4)][_0x4a33ee(0x233)] = _0x4a33ee(0x378)),
        (_0x462793["style"][_0x4a33ee(0x2e1)] = _0x4a33ee(0x239)),
        (_0x462793[_0x4a33ee(0x2c4)]["borderRadius"] = "0"),
        (_0x462793[_0x4a33ee(0x2c4)][_0x4a33ee(0x3c6)] = _0x4a33ee(0x138)),
        (_0x462793[_0x4a33ee(0x2c4)]["flexDirection"] = _0x4a33ee(0x48c)));
      const _0x4923e2 = _0x18d420[_0x4a33ee(0x136)](_0x4a33ee(0x383));
      _0x4923e2 &&
        ((_0x4923e2[_0x4a33ee(0x2c4)][_0x4a33ee(0x138)] = "1"),
        (_0x4923e2[_0x4a33ee(0x2c4)][_0x4a33ee(0x406)] = _0x4a33ee(0x369)),
        (_0x4923e2[_0x4a33ee(0x2c4)][_0x4a33ee(0x35d)] = _0x4a33ee(0x14c)),
        (_0x4923e2[_0x4a33ee(0x2c4)][_0x4a33ee(0x32a)] = _0x4a33ee(0x239))),
        (_0x18d420[_0x4a33ee(0x2c4)][_0x4a33ee(0x3c6)] = "block"),
        _0x18d420[_0x4a33ee(0x206)][_0x4a33ee(0x276)](_0x4a33ee(0x23f)),
        document["body"][_0x4a33ee(0x206)][_0x4a33ee(0x438)]("modal-open"),
        (document[_0x4a33ee(0x3e2)][_0x4a33ee(0x2c4)][_0x4a33ee(0x1d8)] = "");
    } else {
      console["log"]("💻\x20Abriendo\x20modal\x20en\x20desktop...");
      const _0x255b27 = new bootstrap[_0x4a33ee(0x4af)](_0x18d420, {
        backdrop: !![],
        keyboard: !![],
      });
      _0x255b27[_0x4a33ee(0x23f)]();
    }
  } catch (_0x98c785) {
    console["error"](_0x4a33ee(0x2be), _0x98c785),
      (_0x1b6885[_0x4a33ee(0x361)] =
        _0x4a33ee(0x1d6) + _0x98c785["message"] + _0x4a33ee(0x478));
  }
}
function cerrarModalMobile() {
  const _0x59de7d = _0x463762;
  console[_0x59de7d(0x3e5)]("📱\x20Cerrando\x20modal\x20móvil...");
  const _0x5a6134 = document[_0x59de7d(0x145)](_0x59de7d(0x377));
  if (_0x5a6134) {
    _0x5a6134[_0x59de7d(0x206)][_0x59de7d(0x438)](_0x59de7d(0x23f)),
      (_0x5a6134[_0x59de7d(0x2c4)][_0x59de7d(0x3c6)] = _0x59de7d(0x239)),
      (_0x5a6134[_0x59de7d(0x2c4)]["position"] = ""),
      (_0x5a6134[_0x59de7d(0x2c4)][_0x59de7d(0x388)] = ""),
      (_0x5a6134[_0x59de7d(0x2c4)][_0x59de7d(0x47b)] = ""),
      (_0x5a6134[_0x59de7d(0x2c4)]["width"] = ""),
      (_0x5a6134[_0x59de7d(0x2c4)]["height"] = ""),
      (_0x5a6134[_0x59de7d(0x2c4)][_0x59de7d(0x28a)] = ""),
      (_0x5a6134[_0x59de7d(0x2c4)][_0x59de7d(0x3e1)] = "");
    const _0x59cc18 = _0x5a6134[_0x59de7d(0x136)](_0x59de7d(0x284));
    _0x59cc18 &&
      ((_0x59cc18[_0x59de7d(0x2c4)][_0x59de7d(0x3e4)] = ""),
      (_0x59cc18[_0x59de7d(0x2c4)][_0x59de7d(0x445)] = ""),
      (_0x59cc18[_0x59de7d(0x2c4)][_0x59de7d(0x233)] = ""),
      (_0x59cc18[_0x59de7d(0x2c4)][_0x59de7d(0x2a8)] = ""),
      (_0x59cc18[_0x59de7d(0x2c4)][_0x59de7d(0x3c6)] = ""),
      (_0x59cc18[_0x59de7d(0x2c4)]["flexDirection"] = ""));
    const _0x12b309 = _0x5a6134[_0x59de7d(0x136)](_0x59de7d(0x3f1));
    _0x12b309 &&
      ((_0x12b309[_0x59de7d(0x2c4)][_0x59de7d(0x3e4)] = ""),
      (_0x12b309[_0x59de7d(0x2c4)][_0x59de7d(0x233)] = ""),
      (_0x12b309[_0x59de7d(0x2c4)][_0x59de7d(0x2e1)] = ""),
      (_0x12b309[_0x59de7d(0x2c4)]["borderRadius"] = ""),
      (_0x12b309["style"]["display"] = ""),
      (_0x12b309[_0x59de7d(0x2c4)][_0x59de7d(0x1ea)] = ""));
    const _0x5a2865 = _0x5a6134[_0x59de7d(0x136)](".modal-body");
    _0x5a2865 &&
      ((_0x5a2865[_0x59de7d(0x2c4)][_0x59de7d(0x138)] = ""),
      (_0x5a2865[_0x59de7d(0x2c4)][_0x59de7d(0x406)] = ""),
      (_0x5a2865[_0x59de7d(0x2c4)][_0x59de7d(0x35d)] = ""),
      (_0x5a2865[_0x59de7d(0x2c4)][_0x59de7d(0x32a)] = ""));
  }
  document[_0x59de7d(0x3e2)]["classList"][_0x59de7d(0x438)](_0x59de7d(0x192)),
    (document["body"]["style"]["overflow"] = "");
  try {
    const _0xd2d079 = bootstrap["Modal"][_0x59de7d(0x2ae)](_0x5a6134);
    _0xd2d079 && _0xd2d079[_0x59de7d(0x467)]();
  } catch (_0x35d03c) {
    console[_0x59de7d(0x3e5)](_0x59de7d(0x204));
  }
  try {
    document[_0x59de7d(0x24a)](_0x59de7d(0x135))[_0x59de7d(0x44c)](
      (_0x945d75) => _0x945d75[_0x59de7d(0x438)]()
    );
  } catch (_0x3370e6) {}
  try {
    const _0x1369e9 = document[_0x59de7d(0x145)](_0x59de7d(0x475));
    _0x1369e9 &&
      ((_0x1369e9[_0x59de7d(0x220)] = _0x59de7d(0x417)), bringInputIntoView());
  } catch (_0x2cb8ef) {}
}
async function consultarProductoDesdeModal(_0x2f0620) {
  const _0x130ce4 = _0x463762;
  try {
    try {
      cerrarModalMobile();
    } catch (_0x3d1534) {}
    const _0x246558 = document[_0x130ce4(0x145)](_0x130ce4(0x377));
    _0x246558 &&
      (_0x246558[_0x130ce4(0x206)][_0x130ce4(0x438)]("show"),
      (_0x246558[_0x130ce4(0x2c4)][_0x130ce4(0x3c6)] = _0x130ce4(0x239)));
    try {
      const _0x23bfa0 = bootstrap["Modal"][_0x130ce4(0x2ae)](_0x246558);
      if (_0x23bfa0) _0x23bfa0[_0x130ce4(0x467)]();
    } catch (_0x401daf) {}
    document[_0x130ce4(0x24a)](".modal-backdrop,\x20.modal-backdrop-mobile")[
      _0x130ce4(0x44c)
    ]((_0x1f18a9) => _0x1f18a9[_0x130ce4(0x438)]()),
      document["body"][_0x130ce4(0x206)]["remove"](_0x130ce4(0x192)),
      (document[_0x130ce4(0x3e2)][_0x130ce4(0x2c4)][_0x130ce4(0x1d8)] = "");
    const _0x406274 = await getAllProductos(),
      _0x3239fd = _0x406274[_0x130ce4(0x3ec)](
        (_0x1f4eda) =>
          String(_0x1f4eda[_0x130ce4(0x2dc)]) === String(_0x2f0620) ||
          String(_0x1f4eda["pr_gtin"]) === String(_0x2f0620)
      );
    if (_0x3239fd) {
      (inputCodigo[_0x130ce4(0x3c4)] = ""), mostrarDetalleProducto(_0x3239fd);
      const _0x46f0d5 = {
        ..._0x3239fd,
        FECHA_ESCANEO: new Date()[_0x130ce4(0x25e)](),
      };
      historial["unshift"](_0x46f0d5),
        setCookie(_0x130ce4(0x15a), JSON[_0x130ce4(0x225)](historial), 0x1e),
        renderHistorial(),
        setTimeout(() => {
          const _0x49fadb = _0x130ce4,
            _0xf0bc4f = document[_0x49fadb(0x145)](_0x49fadb(0x1a7));
          _0xf0bc4f &&
            _0xf0bc4f[_0x49fadb(0x402)]({
              behavior: _0x49fadb(0x3aa),
              block: _0x49fadb(0x3f6),
              inline: "nearest",
            });
        }, 0x12c);
    } else
      (resultadoDiv[_0x130ce4(0x361)] =
        _0x130ce4(0x399) + _0x2f0620 + _0x130ce4(0x286)),
        setTimeout(() => {
          const _0xd5d3f2 = _0x130ce4;
          resultadoDiv[_0xd5d3f2(0x361)] = "";
        }, 0x1388);
  } catch (_0xbc7188) {
    console[_0x130ce4(0x189)](
      "Error\x20consultando\x20producto\x20desde\x20modal:",
      _0xbc7188
    ),
      (resultadoDiv[_0x130ce4(0x361)] =
        _0x130ce4(0x313) + _0xbc7188[_0x130ce4(0x203)] + _0x130ce4(0x2f7)),
      setTimeout(() => {
        const _0x5af2fd = _0x130ce4;
        resultadoDiv[_0x5af2fd(0x361)] = "";
      }, 0x1388);
  }
}
async function consultarProductoDesdeHistorial(_0x445e00) {
  const _0x2fcc03 = _0x463762;
  try {
    const _0x144f5f = await getAllProductos(),
      _0x267470 = _0x144f5f["find"](
        (_0x56520d) =>
          String(_0x56520d[_0x2fcc03(0x2dc)]) === String(_0x445e00) ||
          String(_0x56520d[_0x2fcc03(0x34a)]) === String(_0x445e00)
      );
    if (_0x267470) {
      (inputCodigo[_0x2fcc03(0x3c4)] = ""), mostrarDetalleProducto(_0x267470);
      const _0x3fc424 = historial[_0x2fcc03(0x4a0)](
        (_0x40f111) =>
          (_0x40f111[_0x2fcc03(0x2dc)] &&
            String(_0x40f111[_0x2fcc03(0x2dc)]) === String(_0x445e00)) ||
          (_0x40f111[_0x2fcc03(0x34a)] &&
            String(_0x40f111[_0x2fcc03(0x34a)]) === String(_0x445e00))
      );
      if (_0x3fc424 !== -0x1) {
        const _0x48a043 = historial[_0x2fcc03(0x14e)](_0x3fc424, 0x1)[0x0];
        (_0x48a043[_0x2fcc03(0x1ec)] = new Date()[_0x2fcc03(0x25e)]()),
          historial[_0x2fcc03(0x18e)](_0x48a043),
          setCookie(_0x2fcc03(0x15a), JSON[_0x2fcc03(0x225)](historial), 0x1e),
          renderHistorial();
      }
      setTimeout(() => {
        const _0x2c5e7d = _0x2fcc03,
          _0xee4f7d = document[_0x2c5e7d(0x145)](_0x2c5e7d(0x1a7));
        _0xee4f7d &&
          _0xee4f7d["scrollIntoView"]({
            behavior: _0x2c5e7d(0x3aa),
            block: "start",
            inline: "nearest",
          });
      }, 0x12c);
    } else
      (resultadoDiv[_0x2fcc03(0x361)] =
        _0x2fcc03(0x399) + _0x445e00 + _0x2fcc03(0x286)),
        setTimeout(() => {
          const _0x33cee0 = _0x2fcc03;
          resultadoDiv[_0x33cee0(0x361)] = "";
        }, 0x1388);
  } catch (_0x2fe87c) {
    console["error"](
      "Error\x20consultando\x20producto\x20desde\x20historial:",
      _0x2fe87c
    ),
      (resultadoDiv["innerHTML"] =
        _0x2fcc03(0x313) +
        _0x2fe87c[_0x2fcc03(0x203)] +
        "</p>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20"),
      setTimeout(() => {
        resultadoDiv["innerHTML"] = "";
      }, 0x1388);
  }
}
(window[_0x463762(0x33a)] = mostrarModalPromocionesGenerales),
  (window[_0x463762(0x169)] = consultarProductoDesdeModal),
  (window[_0x463762(0x46b)] = consultarProductoDesdeHistorial);
async function tienePromociones(_0x4b5bcc) {
  const _0x2950b3 = _0x463762;
  try {
    const _0xea2b63 = (_0x4b5bcc["pr_sku"] || "")[_0x2950b3(0x4b0)]();
    if (!_0xea2b63) return ![];
    const _0x294ab5 = await getAllPromociones();
    if (_0x294ab5["length"] === 0x0) return ![];
    for (const _0x36c8e6 of _0x294ab5) {
      let _0x279d66 = [];
      if (_0x36c8e6[_0x2950b3(0x45b)] && Array["isArray"](_0x36c8e6["skus"]))
        _0x279d66 = _0x36c8e6[_0x2950b3(0x45b)];
      else
        _0x36c8e6[_0x2950b3(0x20a)] &&
          _0x36c8e6[_0x2950b3(0x20a)][_0x2950b3(0x2dc)] &&
          (Array[_0x2950b3(0x2f3)](_0x36c8e6[_0x2950b3(0x20a)]["pr_sku"])
            ? (_0x279d66 =
                _0x36c8e6["pro_grupoProductos_primaria"][_0x2950b3(0x2dc)])
            : (_0x279d66 = _0x36c8e6[_0x2950b3(0x20a)][_0x2950b3(0x2dc)]
                ["split"]("\x20")
                [_0x2950b3(0x1da)]((_0x52b5e0) =>
                  _0x52b5e0[_0x2950b3(0x42a)]()
                )));
      if (_0x279d66[_0x2950b3(0x306)](_0xea2b63)) return !![];
    }
    return ![];
  } catch (_0x32fe70) {
    return console[_0x2950b3(0x43e)](_0x2950b3(0x355), _0x32fe70), ![];
  }
}
let searchTimeout;
inputCodigo[_0x463762(0x263)](_0x463762(0x224), async function (_0x7bc3f8) {
  const _0x14dcec = _0x463762,
    _0x539776 = inputCodigo[_0x14dcec(0x3c4)]
      [_0x14dcec(0x42a)]()
      ["toLowerCase"]();
  clearTimeout(searchTimeout), (sugerenciasDiv["innerHTML"] = "");
  if (!_0x539776 || _0x539776[_0x14dcec(0x3b8)] < 0x2) {
    sugerenciasDiv[_0x14dcec(0x2c4)][_0x14dcec(0x3c6)] = _0x14dcec(0x239);
    return;
  }
  searchTimeout = setTimeout(async () => {
    const _0x524afa = _0x14dcec;
    let _0x301b23 = await getAllProductos(),
      _0x2194af = _0x301b23[_0x524afa(0x1da)]((_0x22a087) => {
        const _0x4a7089 = _0x524afa;
        return (
          (_0x22a087[_0x4a7089(0x17a)] &&
            _0x22a087["pr_name"]
              [_0x4a7089(0x335)]()
              [_0x4a7089(0x306)](_0x539776)) ||
          (_0x22a087[_0x4a7089(0x2dc)] &&
            String(_0x22a087[_0x4a7089(0x2dc)])
              [_0x4a7089(0x335)]()
              ["includes"](_0x539776)) ||
          (_0x22a087[_0x4a7089(0x34a)] &&
            String(_0x22a087["pr_gtin"])
              [_0x4a7089(0x335)]()
              [_0x4a7089(0x306)](_0x539776))
        );
      });
    const _0x5c9696 = new Set();
    _0x2194af = _0x2194af[_0x524afa(0x1da)]((_0x33676b) => {
      const _0xe28d51 = _0x524afa,
        _0x6ef59a = _0x33676b[_0xe28d51(0x2dc)] || _0x33676b[_0xe28d51(0x34a)];
      if (!_0x6ef59a || _0x5c9696[_0xe28d51(0x1e4)](_0x6ef59a)) return ![];
      return _0x5c9696[_0xe28d51(0x276)](_0x6ef59a), !![];
    });
    if (_0x2194af["length"] === 0x0) {
      sugerenciasDiv[_0x524afa(0x2c4)]["display"] = _0x524afa(0x239);
      return;
    }
    _0x2194af[_0x524afa(0x45f)]((_0x15a2e7, _0x2ab3bf) => {
      const _0xf3f548 = _0x524afa,
        _0x19fc1e = (_0x15a2e7[_0xf3f548(0x17a)] || "")["toLowerCase"](),
        _0x41ae67 = (_0x2ab3bf[_0xf3f548(0x17a)] || "")[_0xf3f548(0x335)](),
        _0x3087e9 = _0x19fc1e[_0xf3f548(0x141)](_0x539776),
        _0x5c5f7b = _0x41ae67["startsWith"](_0x539776);
      if (_0x3087e9 && !_0x5c5f7b) return -0x1;
      if (!_0x3087e9 && _0x5c5f7b) return 0x1;
      return _0x19fc1e[_0xf3f548(0x3b8)] - _0x41ae67[_0xf3f548(0x3b8)];
    }),
      (_0x2194af = _0x2194af[_0x524afa(0x180)](0x0, 0xa));
    const _0x4c3b0f = _0x2194af[_0x524afa(0x2eb)]((_0x3b1cb7) =>
        tienePromociones(_0x3b1cb7)
      ),
      _0x39f3d4 = await Promise["all"](_0x4c3b0f);
    _0x2194af[_0x524afa(0x44c)]((_0x12a7ae, _0x47e2f5) => {
      const _0x2a8b3a = _0x524afa,
        _0x198bf3 = _0x39f3d4[_0x47e2f5],
        _0x76a2ca = document["createElement"](_0x2a8b3a(0x1bb));
      (_0x76a2ca[_0x2a8b3a(0x255)] = _0x2a8b3a(0x1bb)),
        (_0x76a2ca["className"] = _0x2a8b3a(0x425));
      let _0x3ef8fc = "";
      if (
        _0x12a7ae["pr_imagen"] &&
        _0x12a7ae["pr_imagen"][_0x2a8b3a(0x42a)]() !== ""
      ) {
        let _0x387b6a = "";
        if (_0x12a7ae[_0x2a8b3a(0x250)]["startsWith"](_0x2a8b3a(0x39e)))
          _0x387b6a = _0x12a7ae[_0x2a8b3a(0x250)];
        else {
          let _0x5dac14 = _0x12a7ae[_0x2a8b3a(0x250)][_0x2a8b3a(0x141)]("/")
            ? _0x12a7ae["pr_imagen"]
            : "/" + _0x12a7ae["pr_imagen"];
          _0x387b6a = _0x2a8b3a(0x433) + _0x5dac14;
        }
        _0x3ef8fc =
          _0x2a8b3a(0x2ef) +
          _0x387b6a +
          _0x2a8b3a(0x22c) +
          _0x12a7ae[_0x2a8b3a(0x17a)] +
          _0x2a8b3a(0x2fc);
      }
      const _0x220d16 = _0x198bf3
        ? "<span\x20class=\x22badge\x20bg-success\x20text-white\x20ms-2\x22\x20style=\x22font-size:0.7rem;\x22>🏷️\x20PROMO</span>"
        : "";
      (_0x76a2ca[_0x2a8b3a(0x361)] =
        _0x2a8b3a(0x327) +
        _0x3ef8fc +
        _0x2a8b3a(0x484) +
        _0x12a7ae[_0x2a8b3a(0x17a)] +
        _0x2a8b3a(0x2b1) +
        _0x220d16 +
        "\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-muted\x22>SKU:\x20" +
        (_0x12a7ae[_0x2a8b3a(0x2dc)] || _0x12a7ae[_0x2a8b3a(0x34a)] || "") +
        _0x2a8b3a(0x49d)),
        (_0x76a2ca[_0x2a8b3a(0x247)] = function () {
          const _0xaa237f = _0x2a8b3a;
          mostrarDetalleProducto(_0x12a7ae);
          const _0x1606b4 = {
            ..._0x12a7ae,
            FECHA_ESCANEO: new Date()[_0xaa237f(0x25e)](),
          };
          historial["unshift"](_0x1606b4),
            setCookie("historial", JSON["stringify"](historial), 0x1e),
            renderHistorial(),
            (inputCodigo[_0xaa237f(0x3c4)] = ""),
            (sugerenciasDiv[_0xaa237f(0x361)] = ""),
            (sugerenciasDiv[_0xaa237f(0x2c4)][_0xaa237f(0x3c6)] = "none");
        }),
        sugerenciasDiv[_0x2a8b3a(0x2cf)](_0x76a2ca);
    }),
      (sugerenciasDiv["style"][_0x524afa(0x3c6)] = _0x524afa(0x167));
  }, 0x12c);
}),
  document["addEventListener"]("click", function (_0x33c088) {
    const _0x247255 = _0x463762;
    !inputCodigo[_0x247255(0x3ba)](_0x33c088[_0x247255(0x222)]) &&
      !sugerenciasDiv[_0x247255(0x3ba)](_0x33c088[_0x247255(0x222)]) &&
      ((sugerenciasDiv[_0x247255(0x361)] = ""),
      (sugerenciasDiv[_0x247255(0x2c4)][_0x247255(0x3c6)] = _0x247255(0x239)));
  });
function iniciarScanner() {
  const _0x2e1b40 = _0x463762;
  if (scannerActivo) return;
  try {
    (inputCodigo[_0x2e1b40(0x3c4)] = ""),
      (inputCodigo[_0x2e1b40(0x220)] = _0x2e1b40(0x392)),
      (sugerenciasDiv["innerHTML"] = ""),
      (sugerenciasDiv[_0x2e1b40(0x2c4)][_0x2e1b40(0x3c6)] = _0x2e1b40(0x239));
  } catch (_0xb226bb) {}
  navigator["mediaDevices"]
    [_0x2e1b40(0x27e)]({ video: !![] })
    ["then"]((_0x18f580) => {
      const _0x1db189 = _0x2e1b40;
      _0x18f580[_0x1db189(0x22b)]()["forEach"]((_0xa52b0e) =>
        _0xa52b0e[_0x1db189(0x3ca)]()
      ),
        (scannerActivo = !![]),
        (readerDiv[_0x1db189(0x2c4)]["display"] = _0x1db189(0x167)),
        document["getElementById"](_0x1db189(0x3ab))[_0x1db189(0x402)]({
          behavior: _0x1db189(0x3aa),
          block: _0x1db189(0x498),
        }),
        (ayudaTexto[_0x1db189(0x2c4)][_0x1db189(0x3c6)] = _0x1db189(0x167));
      const _0x6cc3ef = new Html5Qrcode(_0x1db189(0x3ab)),
        _0x32f890 = {
          fps: 0xa,
          videoConstraints: {
            width: { min: 0x190, ideal: 0x780 },
            height: { min: 0x190, ideal: 0x438 },
            facingMode: "environment",
            advanced: [{ zoom: 0x2 }],
          },
          qrbox: function (_0x544ac4, _0x3ff65c) {
            const _0x421954 = _0x1db189,
              _0x3651ff = Math[_0x421954(0x15d)](0x12c, _0x544ac4 * 0.9),
              _0x26797d = 0x64;
            return { width: _0x3651ff, height: _0x26797d };
          },
          rememberLastUsedCamera: !![],
          aspectRatio: 0x1,
          formatsToSupport: [
            Html5QrcodeSupportedFormats[_0x1db189(0x453)],
            Html5QrcodeSupportedFormats[_0x1db189(0x21a)],
            Html5QrcodeSupportedFormats[_0x1db189(0x3ed)],
            Html5QrcodeSupportedFormats["UPC_A"],
            Html5QrcodeSupportedFormats["UPC_E"],
            Html5QrcodeSupportedFormats[_0x1db189(0x17e)],
            Html5QrcodeSupportedFormats["CODE_93"],
            Html5QrcodeSupportedFormats[_0x1db189(0x37d)],
            Html5QrcodeSupportedFormats[_0x1db189(0x48f)],
            Html5QrcodeSupportedFormats[_0x1db189(0x4ae)],
            Html5QrcodeSupportedFormats[_0x1db189(0x3b4)],
            Html5QrcodeSupportedFormats[_0x1db189(0x37c)],
            Html5QrcodeSupportedFormats[_0x1db189(0x17b)],
          ],
          experimentalFeatures: { useBarCodeDetectorIfSupported: !![] },
        };
      _0x6cc3ef["start"](
        { facingMode: "environment" },
        _0x32f890,
        (_0x56e358) => {
          const _0x13bb1b = _0x1db189;
          (inputCodigo[_0x13bb1b(0x3c4)] = _0x56e358[_0x13bb1b(0x42a)]()[
            _0x13bb1b(0x470)
          ](/\s+$/, "")),
            _0x6cc3ef[_0x13bb1b(0x3ca)]()[_0x13bb1b(0x2a9)](() => {
              const _0x221307 = _0x13bb1b;
              (readerDiv[_0x221307(0x2c4)]["display"] = "none"),
                (ayudaTexto["style"]["display"] = "none"),
                (scannerActivo = ![]),
                _0x6cc3ef["clear"](),
                form["requestSubmit"](),
                setTimeout(() => {
                  const _0x33ec06 = _0x221307,
                    _0x4096e9 = document[_0x33ec06(0x145)](_0x33ec06(0x1a7));
                  _0x4096e9 &&
                    _0x4096e9[_0x33ec06(0x402)]({
                      behavior: _0x33ec06(0x3aa),
                      block: _0x33ec06(0x3f6),
                      inline: _0x33ec06(0x3b3),
                    });
                  try {
                    bringInputIntoView();
                  } catch (_0x36fbbc) {}
                }, 0x1f4);
            });
        },
        (_0xc47d13) => {}
      )
        ["then"](() => {
          setTimeout(() => {
            const _0x45ff66 = _0x5d20,
              _0x4fcf41 = readerDiv[_0x45ff66(0x136)](_0x45ff66(0x1cb));
            if (_0x4fcf41) {
              const _0x406f2e =
                _0x4fcf41[_0x45ff66(0x218)][_0x45ff66(0x32e)]()[0x0];
              _0x406f2e[_0x45ff66(0x2af)]({
                focusMode: _0x45ff66(0x363),
                advanced: [{ zoom: 0x2 }],
              })
                [_0x45ff66(0x2a9)](() => {})
                [_0x45ff66(0x2d8)]((_0x3c63d8) => {});
            }
          }, 0x7d0);
        })
        [_0x1db189(0x2d8)]((_0x4ec602) => {
          const _0x448019 = _0x1db189;
          (scannerActivo = ![]),
            (resultadoDiv[_0x448019(0x361)] =
              _0x448019(0x27c) + _0x4ec602 + "</div>"),
            renderHistorial();
        });
      const _0x330472 = new MutationObserver(() => {
        const _0x151586 = _0x1db189,
          _0x1a8598 = readerDiv["querySelector"](_0x151586(0x1cb));
        _0x1a8598 &&
          (_0x1a8598["setAttribute"]("playsinline", ""),
          _0x1a8598[_0x151586(0x1f9)](_0x151586(0x187), ""),
          _0x1a8598["setAttribute"](_0x151586(0x38c), ""),
          _0x330472[_0x151586(0x172)]());
      });
      _0x330472[_0x1db189(0x275)](readerDiv, {
        childList: !![],
        subtree: !![],
      });
    })
    [_0x2e1b40(0x2d8)]((_0x1d707b) => {
      const _0x33fce9 = _0x2e1b40;
      (resultadoDiv[_0x33fce9(0x361)] = _0x33fce9(0x42b)), renderHistorial();
    });
}
const fileInput = document[_0x463762(0x145)]("fileInput");
if (fileInput) {
  fileInput[_0x463762(0x263)]("change", async (_0x43e853) => {
    const _0x2ecb40 = _0x463762,
      _0x32c6cd = _0x43e853["target"]["files"][0x0];
    if (!_0x32c6cd) return;
    const _0x54c560 = document[_0x2ecb40(0x145)](_0x2ecb40(0x475)),
      _0x436983 = document[_0x2ecb40(0x145)](_0x2ecb40(0x1a7)),
      _0x25c7ef = document[_0x2ecb40(0x145)]("sugerenciasDiv"),
      _0x52f235 = document["getElementById"]("formulario");
    if (!_0x54c560 || !_0x436983 || !_0x52f235) {
      console["error"](
        "❌\x20Elementos\x20DOM\x20requeridos\x20no\x20encontrados"
      ),
        alert(_0x2ecb40(0x1f3));
      return;
    }
    console[_0x2ecb40(0x3e5)](_0x2ecb40(0x149), _0x32c6cd["name"]);
    try {
      (_0x54c560[_0x2ecb40(0x3c4)] = ""),
        (_0x54c560["placeholder"] =
          "Ingresa\x20SKU\x20o\x20busca\x20un\x20producto"),
        _0x25c7ef &&
          ((_0x25c7ef[_0x2ecb40(0x361)] = ""),
          (_0x25c7ef[_0x2ecb40(0x2c4)][_0x2ecb40(0x3c6)] = _0x2ecb40(0x239)));
    } catch (_0xfbe81e) {
      console[_0x2ecb40(0x43e)](_0x2ecb40(0x391), _0xfbe81e);
    }
    _0x436983["innerHTML"] =
      "<div\x20class=\x22alert\x20alert-info\x22\x20role=\x22alert\x22>Procesando\x20imagen...</div>";
    try {
      const _0x27ab7d = new Image(),
        _0xffafac = new Promise((_0x15e25a, _0x445aaf) => {
          const _0x5f4c13 = _0x2ecb40;
          (_0x27ab7d[_0x5f4c13(0x24e)] = _0x15e25a),
            (_0x27ab7d["onerror"] = _0x445aaf),
            (_0x27ab7d[_0x5f4c13(0x35a)] = URL[_0x5f4c13(0x357)](_0x32c6cd));
        });
      await _0xffafac;
      if (
        GOOGLE_VISION_CONFIG[_0x2ecb40(0x1c8)] &&
        visionUsageTracker[_0x2ecb40(0x43b)]()
      ) {
        console[_0x2ecb40(0x3e5)](
          "🚀\x20Intentando\x20con\x20Google\x20Vision\x20API..."
        );
        try {
          const _0x48bf7f = await detectarConGoogleVision(_0x27ab7d);
          if (_0x48bf7f) {
            console["log"](_0x2ecb40(0x4b1), _0x48bf7f),
              (_0x54c560["value"] = _0x48bf7f),
              _0x52f235[_0x2ecb40(0x2ca)](),
              URL[_0x2ecb40(0x3a1)](_0x27ab7d[_0x2ecb40(0x35a)]),
              (fileInput[_0x2ecb40(0x3c4)] = "");
            return;
          }
        } catch (_0x5afb79) {
          console[_0x2ecb40(0x3e5)](_0x2ecb40(0x3a3), _0x5afb79["message"]);
          if (_0x5afb79[_0x2ecb40(0x203)]["includes"](_0x2ecb40(0x3d0)))
            console[_0x2ecb40(0x3e5)](_0x2ecb40(0x4a4));
          else {
            if (_0x5afb79[_0x2ecb40(0x203)][_0x2ecb40(0x306)](_0x2ecb40(0x3ea)))
              console[_0x2ecb40(0x3e5)](_0x2ecb40(0x165)),
                _0x5afb79[_0x2ecb40(0x203)][_0x2ecb40(0x306)](_0x2ecb40(0x16c))
                  ? (console[_0x2ecb40(0x3e5)](_0x2ecb40(0x41d)),
                    console["log"](_0x2ecb40(0x1e2)))
                  : console[_0x2ecb40(0x3e5)](
                      "💡\x20Verifica\x20la\x20configuración\x20de\x20GOOGLE_VISION_API_KEY\x20en\x20Vercel"
                    );
            else
              _0x5afb79[_0x2ecb40(0x203)]["includes"](_0x2ecb40(0x45d)) &&
                console["log"](_0x2ecb40(0x240));
          }
        }
      } else {
        if (
          GOOGLE_VISION_CONFIG[_0x2ecb40(0x1c8)] &&
          !visionUsageTracker[_0x2ecb40(0x43b)]()
        ) {
          const _0xaafd31 = visionUsageTracker[_0x2ecb40(0x1ff)]();
          console[_0x2ecb40(0x3e5)](
            _0x2ecb40(0x280) +
              _0xaafd31[_0x2ecb40(0x24b)] +
              "/" +
              _0xaafd31[_0x2ecb40(0x1c9)] +
              _0x2ecb40(0x4ad) +
              _0xaafd31["dailyUsed"] +
              "/" +
              _0xaafd31["dailyLimit"]
          );
        }
      }
      if (_0x2ecb40(0x1f4) in window) {
        console[_0x2ecb40(0x3e5)](_0x2ecb40(0x16e));
        try {
          const _0x322bd1 = [
              _0x2ecb40(0x3f8),
              _0x2ecb40(0x20f),
              _0x2ecb40(0x4b7),
              _0x2ecb40(0x416),
              "codabar",
              _0x2ecb40(0x384),
              "ean_13",
              _0x2ecb40(0x2b5),
              _0x2ecb40(0x311),
              "pdf417",
              _0x2ecb40(0x184),
              _0x2ecb40(0x440),
              _0x2ecb40(0x431),
            ],
            _0xc3add4 = new BarcodeDetector({ formats: _0x322bd1 }),
            _0x2c208b = await _0xc3add4[_0x2ecb40(0x1d3)](_0x27ab7d);
          console[_0x2ecb40(0x3e5)](
            "🔍\x20Códigos\x20detectados\x20por\x20API\x20nativa:\x20" +
              _0x2c208b[_0x2ecb40(0x3b8)],
            _0x2c208b
          );
          if (_0x2c208b[_0x2ecb40(0x3b8)] > 0x0) {
            const _0x24f876 = _0x2c208b[_0x2ecb40(0x1da)]((_0x1115d7) => {
              const _0x625c68 = _0x2ecb40,
                _0xfa8b42 = _0x1115d7["rawValue"]["trim"]();
              console["log"](
                _0x625c68(0x170) +
                  _0xfa8b42 +
                  _0x625c68(0x155) +
                  _0x1115d7[_0x625c68(0x1c1)] +
                  "\x20longitud:\x20" +
                  _0xfa8b42[_0x625c68(0x3b8)]
              );
              switch (_0x1115d7[_0x625c68(0x1c1)]) {
                case _0x625c68(0x1cc):
                  return (
                    _0xfa8b42[_0x625c68(0x3b8)] === 0xd &&
                    /^\d{13}$/[_0x625c68(0x232)](_0xfa8b42)
                  );
                case _0x625c68(0x440):
                  return (
                    _0xfa8b42[_0x625c68(0x3b8)] === 0xc &&
                    /^\d{12}$/["test"](_0xfa8b42)
                  );
                case "ean_8":
                  return (
                    _0xfa8b42[_0x625c68(0x3b8)] === 0x8 &&
                    /^\d{8}$/[_0x625c68(0x232)](_0xfa8b42)
                  );
                case _0x625c68(0x431):
                  return (
                    _0xfa8b42[_0x625c68(0x3b8)] >= 0x6 &&
                    _0xfa8b42[_0x625c68(0x3b8)] <= 0x8 &&
                    /^\d+$/[_0x625c68(0x232)](_0xfa8b42)
                  );
                case _0x625c68(0x20f):
                  return (
                    _0xfa8b42[_0x625c68(0x3b8)] >= 0x1 &&
                    _0xfa8b42[_0x625c68(0x3b8)] <= 0x32
                  );
                case _0x625c68(0x4b7):
                  return (
                    _0xfa8b42["length"] >= 0x1 &&
                    /^[A-Z0-9\-. $\/+%*]+$/[_0x625c68(0x232)](_0xfa8b42)
                  );
                case _0x625c68(0x416):
                  return (
                    _0xfa8b42["length"] >= 0x1 && _0xfa8b42["length"] <= 0x32
                  );
                case "codabar":
                  return (
                    _0xfa8b42["length"] >= 0x3 &&
                    /^[A-D][0-9\-$:\/.\+]+[A-D]$/[_0x625c68(0x232)](_0xfa8b42)
                  );
                case _0x625c68(0x311):
                  return (
                    _0xfa8b42[_0x625c68(0x3b8)] >= 0x2 &&
                    _0xfa8b42[_0x625c68(0x3b8)] % 0x2 === 0x0 &&
                    /^\d+$/[_0x625c68(0x232)](_0xfa8b42)
                  );
                case _0x625c68(0x184):
                  return (
                    _0xfa8b42[_0x625c68(0x3b8)] >= 0x1 &&
                    _0xfa8b42[_0x625c68(0x3b8)] <= 0x10c8
                  );
                case _0x625c68(0x384):
                  return (
                    _0xfa8b42[_0x625c68(0x3b8)] >= 0x1 &&
                    _0xfa8b42[_0x625c68(0x3b8)] <= 0xc2c
                  );
                case "pdf417":
                  return (
                    _0xfa8b42[_0x625c68(0x3b8)] >= 0x1 &&
                    _0xfa8b42[_0x625c68(0x3b8)] <= 0xa96
                  );
                case _0x625c68(0x3f8):
                  return (
                    _0xfa8b42[_0x625c68(0x3b8)] >= 0x1 &&
                    _0xfa8b42["length"] <= 0xef8
                  );
                default:
                  return (
                    _0xfa8b42[_0x625c68(0x3b8)] >= 0x1 &&
                    _0xfa8b42["length"] <= 0x64
                  );
              }
            });
            console["log"](_0x2ecb40(0x264) + _0x24f876[_0x2ecb40(0x3b8)]);
            if (_0x24f876[_0x2ecb40(0x3b8)] > 0x0) {
              const _0x26fa73 = {
                  ean_13: 0xa,
                  upc_a: 0x9,
                  ean_8: 0x8,
                  upc_e: 0x7,
                  code_128: 0x6,
                  code_39: 0x5,
                  code_93: 0x4,
                  itf: 0x3,
                  codabar: 0x2,
                  qr_code: 0x1,
                  data_matrix: 0x1,
                  pdf417: 0x1,
                  aztec: 0x1,
                },
                _0x3436f7 = _0x24f876["sort"]((_0x41bb94, _0x4acce7) => {
                  const _0x5d00e8 = _0x2ecb40,
                    _0x45ac3a =
                      (_0x26fa73[_0x4acce7[_0x5d00e8(0x1c1)]] || 0x0) -
                      (_0x26fa73[_0x41bb94[_0x5d00e8(0x1c1)]] || 0x0);
                  if (_0x45ac3a !== 0x0) return _0x45ac3a;
                  if (
                    [
                      _0x5d00e8(0x1cc),
                      _0x5d00e8(0x440),
                      "ean_8",
                      _0x5d00e8(0x431),
                      _0x5d00e8(0x20f),
                      _0x5d00e8(0x4b7),
                      _0x5d00e8(0x416),
                      _0x5d00e8(0x311),
                      _0x5d00e8(0x349),
                    ][_0x5d00e8(0x306)](_0x41bb94[_0x5d00e8(0x1c1)])
                  ) {
                    const _0x468519 =
                        _0x41bb94[_0x5d00e8(0x442)][_0x5d00e8(0x3e4)] *
                        _0x41bb94[_0x5d00e8(0x442)][_0x5d00e8(0x233)],
                      _0x16db06 =
                        _0x4acce7[_0x5d00e8(0x442)][_0x5d00e8(0x3e4)] *
                        _0x4acce7[_0x5d00e8(0x442)]["height"];
                    return _0x16db06 - _0x468519;
                  }
                  const _0x24cf95 =
                      _0x41bb94["boundingBox"]["x"] +
                      _0x41bb94["boundingBox"][_0x5d00e8(0x3e4)] / 0x2,
                    _0x45c186 =
                      _0x4acce7[_0x5d00e8(0x442)]["x"] +
                      _0x4acce7[_0x5d00e8(0x442)][_0x5d00e8(0x3e4)] / 0x2,
                    _0x1e4df8 = _0x27ab7d[_0x5d00e8(0x3e4)] / 0x2;
                  return (
                    Math[_0x5d00e8(0x41e)](_0x24cf95 - _0x1e4df8) -
                    Math[_0x5d00e8(0x41e)](_0x45c186 - _0x1e4df8)
                  );
                }),
                _0x1648a0 = _0x3436f7[0x0],
                _0x36b475 = _0x1648a0["rawValue"]
                  [_0x2ecb40(0x42a)]()
                  [_0x2ecb40(0x470)](/\s+$/, "");
              console["log"](
                "🎯\x20Mejor\x20código\x20seleccionado:\x20\x22" +
                  _0x36b475 +
                  _0x2ecb40(0x29b) +
                  _0x1648a0[_0x2ecb40(0x1c1)] +
                  ")"
              ),
                (_0x54c560[_0x2ecb40(0x3c4)] = _0x36b475),
                _0x52f235["requestSubmit"](),
                URL["revokeObjectURL"](_0x27ab7d[_0x2ecb40(0x35a)]),
                (fileInput[_0x2ecb40(0x3c4)] = "");
              return;
            }
          }
          console[_0x2ecb40(0x3e5)](_0x2ecb40(0x299));
        } catch (_0x468f82) {
          console[_0x2ecb40(0x3e5)](_0x2ecb40(0x1ca), _0x468f82);
        }
      } else
        console[_0x2ecb40(0x3e5)](
          "⚠️\x20BarcodeDetector\x20no\x20disponible\x20en\x20este\x20navegador"
        );
      console[_0x2ecb40(0x3e5)](_0x2ecb40(0x23e)),
        usarQuaggaFallback(_0x27ab7d);
    } catch (_0x4c9506) {
      console[_0x2ecb40(0x189)](_0x2ecb40(0x2a1), _0x4c9506),
        (_0x436983[_0x2ecb40(0x361)] =
          "<div\x20class=\x22alert\x20alert-danger\x22\x20role=\x22alert\x22>Error\x20al\x20procesar\x20la\x20imagen</div>"),
        renderHistorial(),
        (fileInput["value"] = "");
    }
  });
  function usarQuaggaFallback(_0x3d760d) {
    const _0x30faff = _0x463762;
    console[_0x30faff(0x3e5)](_0x30faff(0x482));
    const _0x3a80ca = document[_0x30faff(0x1fc)](_0x30faff(0x2db)),
      _0x566792 = _0x3a80ca["getContext"]("2d");
    let { width: _0x101a13, height: _0x2ce6b1 } = _0x3d760d;
    const _0x50753e = 0x190;
    if (_0x101a13 < _0x50753e || _0x2ce6b1 < _0x50753e) {
      const _0x1c5b7c =
        Math[_0x30faff(0x2b0)](_0x50753e / _0x101a13, _0x50753e / _0x2ce6b1) *
        1.5;
      (_0x101a13 *= _0x1c5b7c),
        (_0x2ce6b1 *= _0x1c5b7c),
        console[_0x30faff(0x3e5)](
          "📏\x20Ampliando\x20imagen\x20pequeña:\x20" +
            _0x3d760d["width"] +
            "x" +
            _0x3d760d[_0x30faff(0x233)] +
            _0x30faff(0x418) +
            _0x101a13 +
            "x" +
            _0x2ce6b1
        );
    }
    const _0x47533c = 0x5dc;
    if (_0x101a13 > _0x47533c || _0x2ce6b1 > _0x47533c) {
      const _0x2bfb1a = Math[_0x30faff(0x15d)](
        _0x47533c / _0x101a13,
        _0x47533c / _0x2ce6b1
      );
      (_0x101a13 *= _0x2bfb1a), (_0x2ce6b1 *= _0x2bfb1a);
    }
    (_0x3a80ca[_0x30faff(0x3e4)] = _0x101a13),
      (_0x3a80ca[_0x30faff(0x233)] = _0x2ce6b1),
      (_0x566792[_0x30faff(0x390)] = ![]),
      _0x566792[_0x30faff(0x274)](_0x3d760d, 0x0, 0x0, _0x101a13, _0x2ce6b1);
    const _0x286a70 = _0x566792[_0x30faff(0x4a9)](
        0x0,
        0x0,
        _0x101a13,
        _0x2ce6b1
      ),
      _0x4da35f = _0x286a70[_0x30faff(0x278)];
    let _0xd47391 = new Array(0x100)[_0x30faff(0x302)](0x0);
    for (
      let _0x18134a = 0x0;
      _0x18134a < _0x4da35f["length"];
      _0x18134a += 0x4
    ) {
      const _0x59449c = Math["round"](
        0.299 * _0x4da35f[_0x18134a] +
          0.587 * _0x4da35f[_0x18134a + 0x1] +
          0.114 * _0x4da35f[_0x18134a + 0x2]
      );
      _0xd47391[_0x59449c]++;
    }
    let _0x11ea77 = 0x80,
      _0x177dab = 0x0;
    const _0x1ee67e = _0x101a13 * _0x2ce6b1;
    for (let _0x32a47a = 0x0; _0x32a47a < 0x100; _0x32a47a++) {
      let _0x254f8d = 0x0,
        _0x578d04 = 0x0,
        _0x351976 = 0x0,
        _0x46a570 = 0x0;
      for (let _0x934e9e = 0x0; _0x934e9e <= _0x32a47a; _0x934e9e++) {
        (_0x254f8d += _0xd47391[_0x934e9e]),
          (_0x351976 += _0x934e9e * _0xd47391[_0x934e9e]);
      }
      for (let _0x2afd2f = _0x32a47a + 0x1; _0x2afd2f < 0x100; _0x2afd2f++) {
        (_0x578d04 += _0xd47391[_0x2afd2f]),
          (_0x46a570 += _0x2afd2f * _0xd47391[_0x2afd2f]);
      }
      if (_0x254f8d === 0x0 || _0x578d04 === 0x0) continue;
      const _0x101b58 = _0x351976 / _0x254f8d,
        _0x5db21b = _0x46a570 / _0x578d04,
        _0x5a48b5 =
          _0x254f8d *
          _0x578d04 *
          (_0x101b58 - _0x5db21b) *
          (_0x101b58 - _0x5db21b);
      _0x5a48b5 > _0x177dab &&
        ((_0x177dab = _0x5a48b5), (_0x11ea77 = _0x32a47a));
    }
    console[_0x30faff(0x3e5)](_0x30faff(0x1c6) + _0x11ea77);
    const _0x27c68f = new Uint8ClampedArray(_0x4da35f);
    for (
      let _0x250cb0 = 0x0;
      _0x250cb0 < _0x4da35f["length"];
      _0x250cb0 += 0x4
    ) {
      const _0x51bb81 = Math[_0x30faff(0x183)](
          0.299 * _0x4da35f[_0x250cb0] +
            0.587 * _0x4da35f[_0x250cb0 + 0x1] +
            0.114 * _0x4da35f[_0x250cb0 + 0x2]
        ),
        _0x730be7 = _0x51bb81 > _0x11ea77 ? 0xff : 0x0;
      (_0x4da35f[_0x250cb0] = _0x730be7),
        (_0x4da35f[_0x250cb0 + 0x1] = _0x730be7),
        (_0x4da35f[_0x250cb0 + 0x2] = _0x730be7);
    }
    _0x566792[_0x30faff(0x2c1)](_0x286a70, 0x0, 0x0);
    let _0xa8afa3 = _0x3a80ca[_0x30faff(0x2bc)](_0x30faff(0x40d));
    const _0x2c5876 = _0x566792[_0x30faff(0x340)](_0x101a13, _0x2ce6b1),
      _0x5c38f2 = _0x2c5876[_0x30faff(0x278)];
    for (
      let _0x212af5 = 0x0;
      _0x212af5 < _0x27c68f[_0x30faff(0x3b8)];
      _0x212af5 += 0x4
    ) {
      const _0x58c1f1 = Math[_0x30faff(0x183)](
          0.299 * _0x27c68f[_0x212af5] +
            0.587 * _0x27c68f[_0x212af5 + 0x1] +
            0.114 * _0x27c68f[_0x212af5 + 0x2]
        ),
        _0x22ef33 = _0x58c1f1 > _0x11ea77 * 0.7 ? 0xff : 0x0;
      (_0x5c38f2[_0x212af5] = _0x22ef33),
        (_0x5c38f2[_0x212af5 + 0x1] = _0x22ef33),
        (_0x5c38f2[_0x212af5 + 0x2] = _0x22ef33),
        (_0x5c38f2[_0x212af5 + 0x3] = 0xff);
    }
    const _0x1b6e63 = document[_0x30faff(0x1fc)](_0x30faff(0x2db));
    (_0x1b6e63[_0x30faff(0x3e4)] = _0x101a13),
      (_0x1b6e63[_0x30faff(0x233)] = _0x2ce6b1);
    const _0x9fc91a = _0x1b6e63[_0x30faff(0x31e)]("2d");
    _0x9fc91a[_0x30faff(0x2c1)](_0x2c5876, 0x0, 0x0);
    const _0x152e16 = _0x1b6e63[_0x30faff(0x2bc)](_0x30faff(0x40d)),
      _0x18984a = {
        src: _0xa8afa3,
        numOfWorkers: 0x0,
        locate: !![],
        inputStream: { size: Math[_0x30faff(0x2b0)](_0x101a13, _0x2ce6b1) },
        locator: {
          patchSize: _0x30faff(0x2c5),
          halfSample: ![],
          debug: {
            showCanvas: ![],
            showPatches: ![],
            showFoundPatches: ![],
            showSkeleton: ![],
            showLabels: ![],
            showPatchLabels: ![],
            showRemainingPatchLabels: ![],
            boxFromPatches: {
              showTransformed: ![],
              showTransformedBox: ![],
              showBB: ![],
            },
          },
        },
        decoder: {
          readers: [
            _0x30faff(0x1ac),
            _0x30faff(0x2c2),
            _0x30faff(0x1d7),
            _0x30faff(0x477),
            _0x30faff(0x257),
            _0x30faff(0x3cb),
            _0x30faff(0x2b8),
            _0x30faff(0x3d8),
            _0x30faff(0x235),
            _0x30faff(0x30a),
            _0x30faff(0x2a3),
          ],
          multiple: !![],
          debug: { drawBoundingBox: ![], showFrequency: ![], showPattern: ![] },
        },
      };
    console[_0x30faff(0x3e5)](_0x30faff(0x367));
    const _0x4eff01 = (_0x4185db, _0x50c037, _0x50d05e) => {
      const _0x73e3b0 = _0x30faff;
      console[_0x73e3b0(0x3e5)](_0x73e3b0(0x1ae) + _0x50c037);
      const _0x3d0402 = {
        src: _0x4185db,
        numOfWorkers: 0x0,
        locate: !![],
        inputStream: { size: Math["max"](_0x101a13, _0x2ce6b1) },
        locator: {
          patchSize:
            _0x50c037 === _0x73e3b0(0x2ab)
              ? _0x73e3b0(0x47d)
              : _0x73e3b0(0x2c5),
          halfSample: _0x50c037 === _0x73e3b0(0x474) ? !![] : ![],
          debug: { showCanvas: ![], showPatches: ![], showFoundPatches: ![] },
        },
        decoder: {
          readers: [
            "ean_reader",
            _0x73e3b0(0x2c2),
            _0x73e3b0(0x1d7),
            _0x73e3b0(0x477),
            _0x73e3b0(0x257),
            _0x73e3b0(0x3cb),
            "code_39_vin_reader",
            _0x73e3b0(0x3d8),
            _0x73e3b0(0x235),
            _0x73e3b0(0x30a),
          ],
          multiple: !![],
          debug: { drawBoundingBox: ![], showFrequency: ![], showPattern: ![] },
        },
      };
      Quagga[_0x73e3b0(0x273)](_0x3d0402, _0x50d05e);
    };
    let _0x2a3ab5 = [];
    _0x4eff01(_0xa8afa3, _0x30faff(0x1c2), function (_0x44b0be) {
      const _0x4297ff = _0x30faff;
      if (_0x44b0be && _0x44b0be[_0x4297ff(0x14d)]) {
        let _0x21e5fd = _0x44b0be[_0x4297ff(0x14d)][_0x4297ff(0x25b)]
          [_0x4297ff(0x42a)]()
          [_0x4297ff(0x470)](/\s+$/, "");
        _0x2a3ab5[_0x4297ff(0x221)](
          _0x21e5fd + "\x20(" + _0x44b0be[_0x4297ff(0x14d)]["format"] + ")"
        ),
          console[_0x4297ff(0x3e5)](
            _0x4297ff(0x381),
            _0x21e5fd,
            _0x4297ff(0x267),
            _0x44b0be[_0x4297ff(0x14d)][_0x4297ff(0x1c1)]
          );
        if (
          validarCodigo(
            _0x21e5fd,
            _0x44b0be[_0x4297ff(0x14d)][_0x4297ff(0x1c1)]
          )
        ) {
          (inputCodigo["value"] = _0x21e5fd),
            form[_0x4297ff(0x2ca)](),
            URL[_0x4297ff(0x3a1)](_0x3d760d[_0x4297ff(0x35a)]),
            (fileInput[_0x4297ff(0x3c4)] = "");
          return;
        }
      }
      console[_0x4297ff(0x3e5)](_0x4297ff(0x295)),
        _0x4eff01(_0x152e16, _0x4297ff(0x2ab), function (_0x380e30) {
          const _0x3a051c = _0x4297ff;
          if (_0x380e30 && _0x380e30[_0x3a051c(0x14d)]) {
            let _0x39919c = _0x380e30[_0x3a051c(0x14d)][_0x3a051c(0x25b)]
              [_0x3a051c(0x42a)]()
              [_0x3a051c(0x470)](/\s+$/, "");
            _0x2a3ab5[_0x3a051c(0x221)](
              _0x39919c +
                "\x20(" +
                _0x380e30[_0x3a051c(0x14d)][_0x3a051c(0x1c1)] +
                ")"
            ),
              console[_0x3a051c(0x3e5)](
                _0x3a051c(0x4a6),
                _0x39919c,
                _0x3a051c(0x267),
                _0x380e30["codeResult"][_0x3a051c(0x1c1)]
              );
            if (
              validarCodigo(
                _0x39919c,
                _0x380e30[_0x3a051c(0x14d)][_0x3a051c(0x1c1)]
              )
            ) {
              (inputCodigo[_0x3a051c(0x3c4)] = _0x39919c),
                form["requestSubmit"](),
                URL[_0x3a051c(0x3a1)](_0x3d760d[_0x3a051c(0x35a)]),
                (fileInput[_0x3a051c(0x3c4)] = "");
              return;
            }
          }
          console["log"]("🔄\x20Probando\x20con\x20imagen\x20original..."),
            intentarSegundaPasada(_0x3d760d, _0x2a3ab5);
        });
    });
  }
  function validarCodigo(_0x4b7f9c, _0x543522) {
    const _0x4f11ee = _0x463762;
    console[_0x4f11ee(0x3e5)](
      _0x4f11ee(0x170) +
        _0x4b7f9c +
        _0x4f11ee(0x155) +
        _0x543522 +
        _0x4f11ee(0x394) +
        _0x4b7f9c[_0x4f11ee(0x3b8)]
    );
    switch (_0x543522) {
      case _0x4f11ee(0x1cc):
        return (
          _0x4b7f9c["length"] === 0xd && /^\d{13}$/[_0x4f11ee(0x232)](_0x4b7f9c)
        );
      case _0x4f11ee(0x440):
        return (
          _0x4b7f9c[_0x4f11ee(0x3b8)] === 0xc &&
          /^\d{12}$/[_0x4f11ee(0x232)](_0x4b7f9c)
        );
      case "ean_8":
        return (
          _0x4b7f9c["length"] === 0x8 && /^\d{8}$/[_0x4f11ee(0x232)](_0x4b7f9c)
        );
      case _0x4f11ee(0x431):
        return (
          _0x4b7f9c[_0x4f11ee(0x3b8)] >= 0x6 &&
          _0x4b7f9c[_0x4f11ee(0x3b8)] <= 0x8 &&
          /^\d+$/[_0x4f11ee(0x232)](_0x4b7f9c)
        );
      case _0x4f11ee(0x20f):
      case "code_39":
      case _0x4f11ee(0x416):
        return _0x4b7f9c["length"] >= 0x1 && _0x4b7f9c["length"] <= 0x32;
      case _0x4f11ee(0x349):
        return (
          _0x4b7f9c[_0x4f11ee(0x3b8)] >= 0x3 &&
          /^[A-D][0-9\-$:\/.\+]+[A-D]$/[_0x4f11ee(0x232)](_0x4b7f9c)
        );
      case _0x4f11ee(0x348):
        return (
          _0x4b7f9c[_0x4f11ee(0x3b8)] >= 0x2 &&
          _0x4b7f9c[_0x4f11ee(0x3b8)] % 0x2 === 0x0 &&
          /^\d+$/[_0x4f11ee(0x232)](_0x4b7f9c)
        );
      default:
        return (
          _0x4b7f9c[_0x4f11ee(0x3b8)] >= 0x1 &&
          _0x4b7f9c[_0x4f11ee(0x3b8)] <= 0x32
        );
    }
  }
  function intentarSegundaPasada(_0x24c720, _0x398290 = []) {
    const _0x5986dc = _0x463762;
    console[_0x5986dc(0x3e5)](_0x5986dc(0x40a));
    const _0x18c77e = document[_0x5986dc(0x1fc)](_0x5986dc(0x2db)),
      _0xc4ef55 = _0x18c77e[_0x5986dc(0x31e)]("2d");
    let { width: _0x39bd1f, height: _0x1a5ab8 } = _0x24c720;
    const _0x1c4e70 = 0x640;
    if (_0x39bd1f < _0x1c4e70) {
      const _0x1d3a65 = _0x1c4e70 / _0x39bd1f;
      (_0x39bd1f *= _0x1d3a65), (_0x1a5ab8 *= _0x1d3a65);
    }
    (_0x18c77e[_0x5986dc(0x3e4)] = _0x39bd1f),
      (_0x18c77e[_0x5986dc(0x233)] = _0x1a5ab8),
      (_0xc4ef55[_0x5986dc(0x390)] = ![]),
      _0xc4ef55[_0x5986dc(0x274)](_0x24c720, 0x0, 0x0, _0x39bd1f, _0x1a5ab8);
    const _0x4fc401 = _0xc4ef55[_0x5986dc(0x4a9)](
        0x0,
        0x0,
        _0x39bd1f,
        _0x1a5ab8
      ),
      _0x3eb42d = _0x4fc401["data"];
    for (
      let _0x4a9e36 = 0x0;
      _0x4a9e36 < _0x3eb42d[_0x5986dc(0x3b8)];
      _0x4a9e36 += 0x4
    ) {
      const _0x39309f = _0x3eb42d[_0x4a9e36],
        _0x83adfe = _0x3eb42d[_0x4a9e36 + 0x1],
        _0x20cf4d = _0x3eb42d[_0x4a9e36 + 0x2],
        _0x1a14ec = 1.5,
        _0x47399b = Math[_0x5986dc(0x183)](
          0.299 * _0x39309f + 0.587 * _0x83adfe + 0.114 * _0x20cf4d
        ),
        _0x2d8c38 = Math[_0x5986dc(0x15d)](
          0xff,
          Math[_0x5986dc(0x2b0)](0x0, (_0x47399b - 0x80) * _0x1a14ec + 0x80)
        );
      (_0x3eb42d[_0x4a9e36] = _0x2d8c38),
        (_0x3eb42d[_0x4a9e36 + 0x1] = _0x2d8c38),
        (_0x3eb42d[_0x4a9e36 + 0x2] = _0x2d8c38);
    }
    _0xc4ef55[_0x5986dc(0x2c1)](_0x4fc401, 0x0, 0x0);
    const _0x3c65a3 = {
      src: _0x18c77e[_0x5986dc(0x2bc)](_0x5986dc(0x40d)),
      numOfWorkers: 0x0,
      locate: !![],
      inputStream: {
        size: Math[_0x5986dc(0x2b0)](_0x39bd1f, _0x1a5ab8),
        area: { top: "0%", right: "0%", left: "0%", bottom: "0%" },
      },
      locator: {
        patchSize: _0x5986dc(0x47d),
        halfSample: ![],
        debug: { showCanvas: ![], showPatches: ![], showFoundPatches: ![] },
      },
      decoder: {
        readers: [
          _0x5986dc(0x1ac),
          _0x5986dc(0x1d7),
          "code_128_reader",
          "code_39_reader",
          _0x5986dc(0x2c2),
          _0x5986dc(0x477),
          _0x5986dc(0x30a),
          _0x5986dc(0x235),
        ],
        multiple: !![],
        debug: { drawBoundingBox: ![], showFrequency: ![], showPattern: ![] },
      },
    };
    console[_0x5986dc(0x3e5)](_0x5986dc(0x3f2)),
      Quagga[_0x5986dc(0x273)](_0x3c65a3, function (_0x9a1210) {
        const _0x323284 = _0x5986dc;
        if (_0x9a1210 && _0x9a1210[_0x323284(0x14d)]) {
          const _0x41f832 = _0x9a1210[_0x323284(0x14d)][_0x323284(0x25b)]
            [_0x323284(0x42a)]()
            [_0x323284(0x470)](/\s+$/, "");
          _0x398290["push"](
            _0x41f832 +
              "\x20(" +
              _0x9a1210[_0x323284(0x14d)][_0x323284(0x1c1)] +
              ")"
          ),
            console["log"](
              _0x323284(0x4a8),
              _0x41f832,
              _0x323284(0x267),
              _0x9a1210[_0x323284(0x14d)][_0x323284(0x1c1)]
            );
          if (validarCodigo(_0x41f832, _0x9a1210["codeResult"]["format"])) {
            (inputCodigo[_0x323284(0x3c4)] = _0x41f832),
              form[_0x323284(0x2ca)]();
            return;
          }
        }
        console[_0x323284(0x3e5)](_0x323284(0x44f));
        let _0x29b73b = "";
        _0x398290[_0x323284(0x3b8)] > 0x0 &&
          (_0x29b73b = _0x323284(0x42f) + _0x398290["join"](",\x20"));
        let _0x4cf358 = "";
        if (GOOGLE_VISION_CONFIG["enabled"]) {
          const _0x442aac = visionUsageTracker["getUsageStatus"]();
          (_0x4cf358 =
            _0x323284(0x1d2) +
            _0x442aac[_0x323284(0x24b)] +
            "/" +
            _0x442aac[_0x323284(0x1c9)] +
            _0x323284(0x219) +
            _0x442aac["dailyUsed"] +
            "/" +
            _0x442aac[_0x323284(0x156)] +
            _0x323284(0x38a)),
            verificarBackend()
              [_0x323284(0x2a9)]((_0x30566e) => {
                const _0x13ce25 = _0x323284;
                if (document[_0x13ce25(0x136)](_0x13ce25(0x473))) {
                  const _0x13f749 = document[_0x13ce25(0x136)](
                    _0x13ce25(0x473)
                  );
                  _0x13f749 &&
                    (_0x13f749["innerHTML"] = _0x13f749["innerHTML"]["replace"](
                      "🌐\x20<strong>Backend:</strong>\x20Verificando...",
                      _0x13ce25(0x46a) + _0x30566e[_0x13ce25(0x27d)]
                    ));
                }
              })
              [_0x323284(0x2d8)](() => {});
        }
        (resultadoDiv["innerHTML"] =
          _0x323284(0x4ab) +
          _0x29b73b +
          _0x4cf358 +
          "\x0a\x20\x20\x20\x20</div>"),
          renderHistorial();
      });
  }
  async function mostrarConfiguracion() {
    const _0x506c6a = _0x463762,
      _0x319cf1 = await verificarBackend();
    let _0x3e6feb = null;
    if (CONFIG_ENDPOINTS[_0x506c6a(0x163)])
      try {
        const _0x37c1d3 = await fetch(
          CONFIG_ENDPOINTS["productosConCodigos"] + _0x506c6a(0x29a)
        );
        if (_0x37c1d3["ok"]) {
          const _0xc4cc27 = await _0x37c1d3[_0x506c6a(0x1ba)]();
          _0x3e6feb = _0xc4cc27["estadisticas"];
        }
      } catch (_0x38bf94) {
        console[_0x506c6a(0x3e5)](
          "⚠️\x20No\x20se\x20pudieron\x20obtener\x20estadísticas\x20de\x20códigos\x20de\x20barras"
        );
      }
    let _0x3b43c5 = "";
    _0x3e6feb &&
      (_0x3b43c5 =
        "\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22alert\x20alert-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<strong>🏷️\x20Sistema\x20de\x20Códigos\x20de\x20Barras:</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20•\x20<strong>Productos:</strong>\x20" +
        _0x3e6feb[_0x506c6a(0x4a7)] +
        _0x506c6a(0x28c) +
        _0x3e6feb[_0x506c6a(0x488)] +
        _0x506c6a(0x35c) +
        _0x3e6feb["productosConCodigosAdicionales"] +
        _0x506c6a(0x444) +
        new Date(_0x3e6feb[_0x506c6a(0x188)])[_0x506c6a(0x3be)]() +
        _0x506c6a(0x382)),
      Swal[_0x506c6a(0x375)]({
        title: _0x506c6a(0x4a2),
        html:
          "\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-check\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20class=\x22form-check-input\x22\x20type=\x22checkbox\x22\x20id=\x22enabledCheck\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20" +
          (GOOGLE_VISION_CONFIG[_0x506c6a(0x1c8)] ? _0x506c6a(0x2c6) : "") +
          ">\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22form-check-label\x22\x20for=\x22enabledCheck\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Activar\x20detección\x20avanzada\x20(Backend)</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-muted\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Usa\x20servidor\x20dedicado\x20para\x20mejor\x20detección\x20de\x20códigos\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22alert\x20" +
          (_0x319cf1[_0x506c6a(0x448)] ? "alert-success" : _0x506c6a(0x358)) +
          "\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>🌐\x20Google\x20Vision\x20API:</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20" +
          _0x319cf1["mensaje"] +
          "<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-muted\x22>Backend:\x20https://contador-apicloudvision.vercel.app/</small><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-info\x20btn-sm\x22\x20onclick=\x22diagnosticarBackend()\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20🔍\x20Probar\x20Conexión\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20" +
          _0x3b43c5 +
          _0x506c6a(0x22f),
        width: 0x258,
        showCancelButton: !![],
        confirmButtonText: _0x506c6a(0x17d),
        cancelButtonText: _0x506c6a(0x25c),
        confirmButtonColor: _0x506c6a(0x285),
        cancelButtonColor: "#6c757d",
        preConfirm: () => {
          const _0x1dd1f5 = _0x506c6a,
            _0x1f4ca6 = document[_0x1dd1f5(0x145)](_0x1dd1f5(0x13d))[
              _0x1dd1f5(0x2c6)
            ];
          return { enabled: _0x1f4ca6 };
        },
      })["then"]((_0x4c38e4) => {
        const _0x3edb6e = _0x506c6a;
        if (_0x4c38e4[_0x3edb6e(0x157)]) {
          const { enabled: _0x1aae7b } = _0x4c38e4[_0x3edb6e(0x3c4)];
          (GOOGLE_VISION_CONFIG["enabled"] = _0x1aae7b),
            localStorage[_0x3edb6e(0x154)](
              _0x3edb6e(0x319),
              JSON[_0x3edb6e(0x225)]({ enabled: _0x1aae7b })
            );
          const _0xf239f6 = _0x1aae7b
            ? "✅\x20Detección\x20avanzada\x20activada"
            : _0x3edb6e(0x160);
          Swal[_0x3edb6e(0x375)]({
            title: _0x3edb6e(0x434),
            text: _0xf239f6,
            icon: _0x3edb6e(0x1f5),
            timer: 0x7d0,
            showConfirmButton: ![],
          });
        }
      });
  }
  function cargarConfiguracionGuardada() {
    const _0x3cd36c = _0x463762,
      _0x207c3f = localStorage[_0x3cd36c(0x251)]("googleVisionConfig");
    if (_0x207c3f)
      try {
        const _0x22cf8e = JSON[_0x3cd36c(0x3d3)](_0x207c3f);
        (GOOGLE_VISION_CONFIG["enabled"] = _0x22cf8e[_0x3cd36c(0x1c8)] || ![]),
          GOOGLE_VISION_CONFIG[_0x3cd36c(0x1c8)] &&
            console[_0x3cd36c(0x3e5)](_0x3cd36c(0x344));
      } catch (_0x1c4fa0) {
        console[_0x3cd36c(0x3e5)](
          "❌\x20Error\x20cargando\x20configuración:",
          _0x1c4fa0
        );
      }
  }
  _0x463762(0x428) in navigator &&
    window[_0x463762(0x263)](_0x463762(0x2ee), () => {
      const _0x4a4902 = _0x463762;
      navigator[_0x4a4902(0x428)]
        [_0x4a4902(0x1b5)](_0x4a4902(0x2c0))
        [_0x4a4902(0x2a9)]((_0xbe0495) => {
          const _0x17e316 = _0x4a4902;
          console[_0x17e316(0x3e5)](
            _0x17e316(0x429),
            _0xbe0495[_0x17e316(0x317)]
          ),
            _0xbe0495[_0x17e316(0x263)]("updatefound", () => {
              const _0x538a79 = _0x17e316;
              console["log"](
                "🔄\x20Nueva\x20versión\x20del\x20Service\x20Worker\x20disponible"
              );
              const _0x5c83b7 = _0xbe0495["installing"];
              _0x5c83b7["addEventListener"](_0x538a79(0x426), () => {
                const _0x3d50f3 = _0x538a79;
                _0x5c83b7["state"] === _0x3d50f3(0x443) &&
                  navigator[_0x3d50f3(0x428)][_0x3d50f3(0x151)] &&
                  (console["log"](
                    "🆕\x20Nueva\x20versión\x20lista\x20para\x20usar"
                  ),
                  confirm(_0x3d50f3(0x15c)) &&
                    (_0x5c83b7[_0x3d50f3(0x161)]({ type: _0x3d50f3(0x15e) }),
                    window[_0x3d50f3(0x43f)][_0x3d50f3(0x47e)]()));
              });
            });
        })
        [_0x4a4902(0x2d8)]((_0x1383ff) =>
          console["error"]("❌\x20Error\x20al\x20registrar\x20SW:", _0x1383ff)
        ),
        navigator[_0x4a4902(0x428)][_0x4a4902(0x263)](
          "controllerchange",
          () => {
            const _0x4c6e5f = _0x4a4902;
            console[_0x4c6e5f(0x3e5)](_0x4c6e5f(0x35f)),
              window[_0x4c6e5f(0x43f)][_0x4c6e5f(0x47e)]();
          }
        );
    });
  window[_0x463762(0x263)](_0x463762(0x186), (_0x52a5ba) => {
    const _0x4c30fb = _0x463762;
    _0x52a5ba[_0x4c30fb(0x466)](),
      (deferredPrompt = _0x52a5ba),
      installBtn && installBtn["classList"][_0x4c30fb(0x438)](_0x4c30fb(0x214));
  }),
    installBtn[_0x463762(0x263)](_0x463762(0x338), (_0x3913b0) => {
      const _0x3ede95 = _0x463762;
      deferredPrompt &&
        (deferredPrompt[_0x3ede95(0x495)](),
        deferredPrompt[_0x3ede95(0x19b)]["then"]((_0x3ed0ef) => {
          const _0x1df6d3 = _0x3ede95;
          _0x3ed0ef["outcome"] === _0x1df6d3(0x248)
            ? console[_0x1df6d3(0x3e5)](_0x1df6d3(0x2ec))
            : console["log"]("❌\x20Instalación\x20rechazada"),
            (deferredPrompt = null),
            installBtn[_0x1df6d3(0x206)][_0x1df6d3(0x276)](_0x1df6d3(0x214));
        }));
    });
  "serviceWorker" in navigator &&
    (navigator[_0x463762(0x428)]
      [_0x463762(0x212)]()
      [_0x463762(0x2a9)](function (_0x517901) {
        const _0x4f5b9d = _0x463762;
        for (let _0x54e626 of _0x517901) {
          _0x54e626[_0x4f5b9d(0x31a)]();
        }
      }),
    navigator[_0x463762(0x428)][_0x463762(0x263)](
      _0x463762(0x25f),
      function () {
        const _0x13bbd1 = _0x463762;
        window[_0x13bbd1(0x43f)][_0x13bbd1(0x47e)]();
      }
    ));
  const style = document["createElement"](_0x463762(0x2c4));
  (style["innerHTML"] = _0x463762(0x28d)),
    document[_0x463762(0x3e3)]["appendChild"](style);
  async function verPromociones() {
    const _0x59fbdc = _0x463762;
    try {
      console[_0x59fbdc(0x3e5)](_0x59fbdc(0x39c)),
        (document["getElementById"](_0x59fbdc(0x1a7))[_0x59fbdc(0x361)] =
          _0x59fbdc(0x3dc));
      const [_0xf649a2, _0x1aec08] = await Promise["all"]([
        getAllPromociones(),
        getAllProductos(),
      ]);
      if (!Array[_0x59fbdc(0x2f3)](_0xf649a2) || _0xf649a2["length"] === 0x0) {
        document["getElementById"]("resultado")["innerHTML"] = _0x59fbdc(0x2cd);
        return;
      }
      let _0x199a32 = _0x59fbdc(0x339);
      _0xf649a2[_0x59fbdc(0x44c)]((_0x88a533, _0x54a8f1) => {
        const _0x295a24 = _0x59fbdc;
        let _0x15a198 = [];
        if (
          _0x88a533[_0x295a24(0x45b)] &&
          Array[_0x295a24(0x2f3)](_0x88a533[_0x295a24(0x45b)])
        )
          _0x15a198 = _0x88a533[_0x295a24(0x45b)];
        else
          _0x88a533[_0x295a24(0x20a)] &&
            _0x88a533["pro_grupoProductos_primaria"]["pr_sku"] &&
            (Array[_0x295a24(0x2f3)](
              _0x88a533["pro_grupoProductos_primaria"]["pr_sku"]
            )
              ? (_0x15a198 = _0x88a533[_0x295a24(0x20a)][_0x295a24(0x2dc)])
              : (_0x15a198 = _0x88a533["pro_grupoProductos_primaria"][
                  _0x295a24(0x2dc)
                ]
                  [_0x295a24(0x456)]("\x20")
                  ["filter"]((_0x313932) => _0x313932[_0x295a24(0x42a)]())));
        const _0x2c10d3 = _0x15a198[_0x295a24(0x2eb)]((_0x234402) => {
            const _0x173df5 = _0x295a24;
            return _0x1aec08["find"](
              (_0x10a23e) => _0x10a23e[_0x173df5(0x2dc)] === _0x234402
            );
          })[_0x295a24(0x1da)]((_0x208996) => _0x208996 !== undefined),
          _0x49faf0 =
            _0x88a533[_0x295a24(0x262)] ||
            _0x88a533[_0x295a24(0x411)] ||
            _0x295a24(0x1f8) + (_0x54a8f1 + 0x1),
          _0x486bcf =
            _0x88a533[_0x295a24(0x1c4)] ||
            _0x88a533[_0x295a24(0x30f)] ||
            "No\x20especificado",
          _0x4bf698 =
            _0x88a533[_0x295a24(0x463)] || _0x88a533[_0x295a24(0x27d)] || "",
          _0x14fb47 = _0x88a533[_0x295a24(0x28f)] || "",
          _0x5c13f4 = Number(_0x14fb47) || 0x1;
        let _0xdc7971 = 0x0;
        const _0x18273f = (_0x4bf698 + "\x20" + _0x49faf0)[_0x295a24(0x335)](),
          _0x1863c3 = _0x18273f[_0x295a24(0x415)](/(\d+)\s*x\s*(\d+)/);
        if (_0x1863c3) _0xdc7971 = Number(_0x1863c3[0x2]);
        else {
          const _0x2fe757 = Number(_0x88a533[_0x295a24(0x1b2)]) || 0x0;
          _0xdc7971 = _0x2fe757 * _0x5c13f4;
        }
        let _0x11015e = 0x0,
          _0x43988b = 0x0;
        if (_0x2c10d3[_0x295a24(0x3b8)] > 0x0 && _0x14fb47 && _0xdc7971 > 0x0) {
          const _0x3e394a = _0x2c10d3[_0x295a24(0x2eb)]((_0x200ab6) => {
              const _0xca38a6 = _0x295a24;
              let _0x18d848 =
                Number(_0x200ab6[_0xca38a6(0x3ad)]) ||
                Number(_0x200ab6["L1"]) ||
                0x0;
              return Math[_0xca38a6(0x183)](_0x18d848 * 1.16 * 0x64) / 0x64;
            }),
            _0x3ed43b =
              _0x3e394a[_0x295a24(0x1a6)](
                (_0x380cde, _0x5927bc) => _0x380cde + _0x5927bc,
                0x0
              ) / _0x3e394a[_0x295a24(0x3b8)];
          (_0x11015e =
            Math[_0x295a24(0x183)](_0x3ed43b * _0x5c13f4 * 0x64) / 0x64),
            (_0x43988b =
              Math[_0x295a24(0x183)]((_0x11015e - _0xdc7971) * 0x64) / 0x64);
        }
        let _0x1fbe75 = "";
        if (_0x2c10d3["length"] > 0x0) {
          const _0x3f1128 = _0x2c10d3["slice"](0x0, 0x4)
            [_0x295a24(0x2eb)]((_0x7c7a9a) => {
              const _0x25235d = _0x295a24;
              let _0x822924 = "";
              if (
                _0x7c7a9a[_0x25235d(0x250)] &&
                _0x7c7a9a[_0x25235d(0x250)][_0x25235d(0x42a)]() !== ""
              ) {
                if (_0x7c7a9a["pr_imagen"][_0x25235d(0x141)](_0x25235d(0x39e)))
                  _0x822924 = _0x7c7a9a[_0x25235d(0x250)];
                else {
                  let _0x5cb0a1 = _0x7c7a9a[_0x25235d(0x250)][_0x25235d(0x141)](
                    "/"
                  )
                    ? _0x7c7a9a["pr_imagen"]
                    : "/" + _0x7c7a9a[_0x25235d(0x250)];
                  _0x822924 = _0x25235d(0x433) + _0x5cb0a1;
                }
              }
              return _0x822924
                ? _0x25235d(0x26e) +
                    _0x822924 +
                    _0x25235d(0x290) +
                    _0x7c7a9a[_0x25235d(0x17a)] +
                    _0x25235d(0x144) +
                    _0x7c7a9a[_0x25235d(0x17a)] +
                    _0x25235d(0x2a5) +
                    _0x7c7a9a[_0x25235d(0x2dc)] +
                    _0x25235d(0x3fd) +
                    _0x7c7a9a["pr_sku"] +
                    "\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22font-size:\x200.6rem;\x20padding:\x201px\x204px;\x20border-radius:\x203px;\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22Copiar\x20SKU\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20📋\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20"
                : _0x25235d(0x201) +
                    _0x7c7a9a[_0x25235d(0x17a)] +
                    _0x25235d(0x2a5) +
                    _0x7c7a9a["pr_sku"] +
                    "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-outline-primary\x20btn-sm\x20copiar-sku-btn\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-sku=\x22" +
                    _0x7c7a9a[_0x25235d(0x2dc)] +
                    _0x25235d(0x3f0);
            })
            [_0x295a24(0x457)]("");
          _0x1fbe75 =
            _0x295a24(0x15f) +
            _0x3f1128 +
            _0x295a24(0x16b) +
            (_0x2c10d3[_0x295a24(0x3b8)] > 0x4
              ? "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-12\x20text-center\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-muted\x22>...\x20y\x20" +
                (_0x2c10d3[_0x295a24(0x3b8)] - 0x4) +
                _0x295a24(0x393) +
                (_0x2c10d3[_0x295a24(0x3b8)] - 0x4 > 0x1 ? "s" : "") +
                _0x295a24(0x1be)
              : "") +
            "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20";
        }
        _0x199a32 +=
          _0x295a24(0x359) +
          _0x49faf0 +
          _0x295a24(0x1f0) +
          _0x486bcf[_0x295a24(0x470)](_0x295a24(0x46c), _0x295a24(0x2d5)) +
          _0x295a24(0x494) +
          (_0x4bf698 && _0x4bf698 !== _0x49faf0
            ? _0x295a24(0x198) +
              _0x4bf698 +
              "</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20"
            : "") +
          _0x295a24(0x14a) +
          (_0xdc7971 > 0x0
            ? "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-3\x20p-3\x20bg-light\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22text-primary\x20d-block\x22\x20style=\x22font-size:\x201.1rem;\x22>" +
              _0x5c13f4 +
              _0x295a24(0x16d) +
              _0xdc7971["toLocaleString"]("es-CL") +
              _0x295a24(0x23d) +
              (_0x11015e > 0x0
                ? _0x295a24(0x451) +
                  _0x11015e["toLocaleString"]("es-CL") +
                  "</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-muted\x22>Total\x20Normal</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20"
                : _0x295a24(0x1db)) +
              _0x295a24(0x321) +
              (_0x43988b > 0x0
                ? _0x295a24(0x304) +
                  _0x43988b[_0x295a24(0x3be)]("es-CL") +
                  _0x295a24(0x1df) +
                  _0x5c13f4 +
                  _0x295a24(0x43d)
                : "") +
              _0x295a24(0x178)
            : _0x295a24(0x245) +
              (_0x14fb47
                ? "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22text-primary\x22>" +
                  _0x14fb47 +
                  "</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22d-block\x20text-muted\x22>Cantidad</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20"
                : "") +
              "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20" +
              (precioPromo
                ? _0x295a24(0x310) + precioPromo + _0x295a24(0x353)
                : "") +
              _0x295a24(0x178)) +
          _0x295a24(0x14a) +
          _0x1fbe75 +
          _0x295a24(0x14a) +
          (_0x2c10d3["length"] > 0x0
            ? "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h6\x20class=\x22text-muted\x20mb-2\x22>📋\x20Descripción\x20completa\x20de\x20productos:</h6>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22border\x20rounded\x20p-3\x20bg-light\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20" +
              _0x2c10d3[_0x295a24(0x2eb)](
                (_0x2aa56a, _0x69d913) =>
                  "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-3\x20" +
                  (_0x69d913 < _0x2c10d3[_0x295a24(0x3b8)] - 0x1
                    ? "border-bottom\x20pb-3"
                    : "") +
                  _0x295a24(0x2ea) +
                  _0x2aa56a["pr_name"] +
                  _0x295a24(0x366) +
                  _0x2aa56a[_0x295a24(0x2dc)] +
                  _0x295a24(0x258) +
                  (_0x2aa56a[_0x295a24(0x34a)]
                    ? "<small\x20class=\x22text-muted\x20d-block\x22><strong>Código:</strong>\x20" +
                      _0x2aa56a[_0x295a24(0x34a)] +
                      _0x295a24(0x46f)
                    : "") +
                  _0x295a24(0x191) +
                  (() => {
                    const _0x3c2332 = _0x295a24;
                    let _0x46e30f =
                        Number(_0x2aa56a[_0x3c2332(0x3ad)]) ||
                        Number(_0x2aa56a["L1"]) ||
                        0x0,
                      _0x824251 =
                        Math[_0x3c2332(0x183)](_0x46e30f * 1.16 * 0x64) / 0x64;
                    return _0x824251 > 0x0
                      ? _0x3c2332(0x410) +
                          _0x824251[_0x3c2332(0x460)](0x2) +
                          _0x3c2332(0x46f)
                      : "";
                  })() +
                  "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20"
              )[_0x295a24(0x457)]("") +
              _0x295a24(0x33c)
            : "") +
          _0x295a24(0x14a) +
          (_0x15a198[_0x295a24(0x3b8)] > _0x2c10d3[_0x295a24(0x3b8)]
            ? _0x295a24(0x35b) +
              _0x15a198[_0x295a24(0x3b8)] +
              "\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(" +
              _0x2c10d3[_0x295a24(0x3b8)] +
              _0x295a24(0x387) +
              _0x15a198[_0x295a24(0x180)](0x0, 0x6)
                [_0x295a24(0x2eb)](
                  (_0x5882ee) => _0x295a24(0x13b) + _0x5882ee + _0x295a24(0x3ef)
                )
                [_0x295a24(0x457)]("") +
              _0x295a24(0x1f2) +
              (_0x15a198[_0x295a24(0x3b8)] > 0x6
                ? _0x295a24(0x351) +
                  (_0x15a198[_0x295a24(0x3b8)] - 0x6) +
                  _0x295a24(0x159)
                : "") +
              _0x295a24(0x33c)
            : "") +
          "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20" +
          (_0x88a533[_0x295a24(0x2e0)] && _0x88a533["validTo"]
            ? "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-2\x20border-top\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-muted\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>📅\x20Vigencia:</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20" +
              _0x88a533[_0x295a24(0x2e0)] +
              _0x295a24(0x386) +
              _0x88a533["validTo"] +
              "\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20"
            : "") +
          _0x295a24(0x1c5);
      }),
        (_0x199a32 += _0x59fbdc(0x379)),
        (_0x199a32 += _0x59fbdc(0x21b)),
        (document["getElementById"]("resultado")[_0x59fbdc(0x361)] = _0x199a32);
      const _0x5a585a = document["querySelectorAll"](".copiar-sku-btn");
      _0x5a585a[_0x59fbdc(0x44c)]((_0x273039) => {
        const _0x251e3f = _0x59fbdc;
        _0x273039["addEventListener"](_0x251e3f(0x338), function (_0x705b4f) {
          const _0xe80165 = _0x251e3f;
          _0x705b4f[_0xe80165(0x466)]();
          const _0x2e6ca3 = _0x273039["getAttribute"](_0xe80165(0x147));
          navigator[_0xe80165(0x244)] &&
            navigator["clipboard"]
              ["writeText"](_0x2e6ca3)
              ["then"](() => {
                const _0xd8d3b9 = _0xe80165,
                  _0x3b60b4 = _0x273039["innerHTML"];
                (_0x273039[_0xd8d3b9(0x361)] = "✅"),
                  _0x273039[_0xd8d3b9(0x206)]["remove"](_0xd8d3b9(0x143)),
                  _0x273039[_0xd8d3b9(0x206)][_0xd8d3b9(0x276)](
                    _0xd8d3b9(0x279)
                  ),
                  setTimeout(() => {
                    const _0x410ea5 = _0xd8d3b9;
                    (_0x273039[_0x410ea5(0x361)] = _0x3b60b4),
                      _0x273039[_0x410ea5(0x206)]["remove"]("btn-success"),
                      _0x273039[_0x410ea5(0x206)]["add"](_0x410ea5(0x143));
                  }, 0x4b0);
              })
              [_0xe80165(0x2d8)]((_0x4063a1) => {
                const _0x25e4ae = _0xe80165;
                console["error"](_0x25e4ae(0x368), _0x4063a1);
                const _0x58bfa1 = _0x273039["innerHTML"];
                (_0x273039[_0x25e4ae(0x361)] = "❌"),
                  setTimeout(() => {
                    _0x273039["innerHTML"] = _0x58bfa1;
                  }, 0x4b0);
              });
        });
      });
    } catch (_0x2129de) {
      console[_0x59fbdc(0x189)](_0x59fbdc(0x3b7), _0x2129de),
        (document["getElementById"]("resultado")[_0x59fbdc(0x361)] =
          "\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22alert\x20alert-danger\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h6>❌\x20Error</h6>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>No\x20se\x20pudieron\x20cargar\x20las\x20promociones:\x20" +
          _0x2129de["message"] +
          _0x59fbdc(0x315));
    }
  }
  cargarConfiguracionGuardada(), renderHistorial();
  const mobileModalStyles = document["createElement"]("style");
  (mobileModalStyles[_0x463762(0x326)] = _0x463762(0x1e0)),
    document[_0x463762(0x3e3)][_0x463762(0x2cf)](mobileModalStyles);
  let resultadosBusquedaState = {
    items: [],
    page: 0x1,
    pageSize: 0xa,
    query: "",
    view: _0x463762(0x32f),
  };
  function isMobileDevice() {
    const _0x1ad14a = _0x463762;
    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i[
      _0x1ad14a(0x232)
    ](navigator["userAgent"]);
  }
  function hideMobileKeyboard() {
    const _0x5c29bd = _0x463762;
    try {
      const _0x3223f0 = document["getElementById"](_0x5c29bd(0x475));
      if (!_0x3223f0) return;
      _0x3223f0[_0x5c29bd(0x216)]();
      document["activeElement"] &&
        typeof document["activeElement"][_0x5c29bd(0x216)] === "function" &&
        document[_0x5c29bd(0x13e)][_0x5c29bd(0x216)]();
      const _0x3fd2a6 = /iPad|iPhone|iPod/[_0x5c29bd(0x232)](
        navigator["userAgent"]
      );
      if (_0x3fd2a6) {
        const _0x273b7c = _0x3223f0[_0x5c29bd(0x1a2)](_0x5c29bd(0x3c7));
        _0x3223f0[_0x5c29bd(0x1f9)](_0x5c29bd(0x3c7), _0x5c29bd(0x29f));
        const _0x40cc64 = document[_0x5c29bd(0x1fc)](_0x5c29bd(0x224));
        (_0x40cc64[_0x5c29bd(0x255)] = _0x5c29bd(0x2dd)),
          (_0x40cc64["style"][_0x5c29bd(0x242)] = _0x5c29bd(0x1dc)),
          (_0x40cc64[_0x5c29bd(0x2c4)]["opacity"] = "0"),
          (_0x40cc64["style"][_0x5c29bd(0x233)] = "0"),
          (_0x40cc64[_0x5c29bd(0x2c4)][_0x5c29bd(0x1e3)] = _0x5c29bd(0x239)),
          document["body"][_0x5c29bd(0x2cf)](_0x40cc64),
          _0x40cc64[_0x5c29bd(0x1ee)](),
          setTimeout(() => {
            const _0x45e83e = _0x5c29bd;
            try {
              _0x40cc64[_0x45e83e(0x216)]();
            } catch (_0x32f7ca) {}
            try {
              document["body"][_0x45e83e(0x4a1)](_0x40cc64);
            } catch (_0x5d0a57) {}
            try {
              _0x3223f0["blur"]();
            } catch (_0x20cca3) {}
            if (!_0x273b7c) _0x3223f0[_0x45e83e(0x427)](_0x45e83e(0x3c7));
          }, 0x32);
      }
    } catch (_0x20fba3) {}
  }
  function mostrarModalResultadosBusqueda(_0x2f1cc8, _0x21845e) {
    const _0x4af3cc = _0x463762;
    if (isMobileDevice()) hideMobileKeyboard();
    (resultadosBusquedaState["items"] = _0x2f1cc8),
      (resultadosBusquedaState["page"] = 0x1),
      (resultadosBusquedaState[_0x4af3cc(0x4b8)] = 0xa),
      (resultadosBusquedaState["query"] = _0x21845e);
    try {
      const _0x5561b2 = localStorage["getItem"](_0x4af3cc(0x45c));
      (_0x5561b2 === _0x4af3cc(0x486) || _0x5561b2 === "list") &&
        (resultadosBusquedaState[_0x4af3cc(0x365)] = _0x5561b2);
    } catch (_0x257ba1) {}
    const _0x579dcc = document["getElementById"](_0x4af3cc(0x1d4));
    if (!_0x579dcc) return;
    try {
      const _0x120545 = document[_0x4af3cc(0x145)](_0x4af3cc(0x1a7));
      _0x120545 &&
        /Buscando producto/i[_0x4af3cc(0x232)](
          _0x120545[_0x4af3cc(0x326)] || ""
        ) &&
        (_0x120545[_0x4af3cc(0x361)] = "");
    } catch (_0x43a565) {}
    try {
      const _0x3e8a4e = document["getElementById"](_0x4af3cc(0x475));
      _0x3e8a4e &&
        ((_0x3e8a4e["value"] = ""),
        (_0x3e8a4e[_0x4af3cc(0x220)] = _0x4af3cc(0x392)));
      const _0x2530de = document[_0x4af3cc(0x145)](_0x4af3cc(0x47f));
      _0x2530de &&
        ((_0x2530de["innerHTML"] = ""),
        (_0x2530de[_0x4af3cc(0x2c4)]["display"] = _0x4af3cc(0x239)));
    } catch (_0x3a98c8) {}
    renderResultadosBusqueda();
    const _0x576e27 = document[_0x4af3cc(0x145)]("resultadosBusquedaModal"),
      _0x5c891b =
        /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i[
          _0x4af3cc(0x232)
        ](navigator[_0x4af3cc(0x26c)]);
    if (_0x5c891b)
      (_0x576e27["style"][_0x4af3cc(0x242)] = _0x4af3cc(0x18b)),
        (_0x576e27["style"][_0x4af3cc(0x388)] = "0"),
        (_0x576e27["style"][_0x4af3cc(0x47b)] = "0"),
        (_0x576e27[_0x4af3cc(0x2c4)][_0x4af3cc(0x3e4)] = _0x4af3cc(0x378)),
        (_0x576e27[_0x4af3cc(0x2c4)][_0x4af3cc(0x233)] = _0x4af3cc(0x378)),
        (_0x576e27[_0x4af3cc(0x2c4)][_0x4af3cc(0x28a)] = _0x4af3cc(0x1ab)),
        (_0x576e27["style"][_0x4af3cc(0x3e1)] = _0x4af3cc(0x266)),
        (_0x576e27["style"]["display"] = _0x4af3cc(0x167)),
        _0x576e27[_0x4af3cc(0x206)]["add"](_0x4af3cc(0x23f));
    else {
      const _0x2bbd81 = new bootstrap[_0x4af3cc(0x4af)](_0x576e27, {
        backdrop: !![],
        keyboard: !![],
      });
      _0x2bbd81[_0x4af3cc(0x23f)]();
    }
  }
  function cerrarResultadosModal() {
    const _0x4b5814 = _0x463762,
      _0x47679e = document[_0x4b5814(0x145)](_0x4b5814(0x256));
    if (!_0x47679e) return;
    _0x47679e[_0x4b5814(0x206)][_0x4b5814(0x438)](_0x4b5814(0x23f)),
      (_0x47679e[_0x4b5814(0x2c4)][_0x4b5814(0x3c6)] = _0x4b5814(0x239));
    try {
      const _0x21271c =
        bootstrap[_0x4b5814(0x4af)][_0x4b5814(0x2ae)](_0x47679e);
      if (_0x21271c) _0x21271c["hide"]();
    } catch (_0x257421) {}
    document["querySelectorAll"](_0x4b5814(0x135))[_0x4b5814(0x44c)](
      (_0x4971ad) => _0x4971ad[_0x4b5814(0x438)]()
    );
    try {
      const _0x586be2 = document[_0x4b5814(0x145)](_0x4b5814(0x1a7));
      _0x586be2 &&
        /Buscando producto/i[_0x4b5814(0x232)](
          _0x586be2[_0x4b5814(0x326)] || ""
        ) &&
        (_0x586be2[_0x4b5814(0x361)] = "");
    } catch (_0x42c3e2) {}
    try {
      const _0x547510 = document[_0x4b5814(0x145)](_0x4b5814(0x475));
      _0x547510 &&
        ((_0x547510[_0x4b5814(0x220)] = _0x4b5814(0x392)),
        bringInputIntoView({ focusOnDesktop: !![] }));
    } catch (_0x24255e) {}
  }
  function bringInputIntoView(_0x46ab5d = {}) {
    const _0x293ec5 = _0x463762,
      { focusOnDesktop: focusOnDesktop = !![] } = _0x46ab5d,
      _0x2b5ac5 = document[_0x293ec5(0x145)]("codigo");
    if (!_0x2b5ac5) return;
    try {
      _0x2b5ac5[_0x293ec5(0x402)]({
        behavior: "smooth",
        block: _0x293ec5(0x498),
        inline: _0x293ec5(0x3b3),
      });
    } catch (_0x1a1afd) {}
    const _0x1ebcf1 =
      /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i["test"](
        navigator[_0x293ec5(0x26c)]
      );
    if (!_0x1ebcf1 && focusOnDesktop)
      try {
        _0x2b5ac5[_0x293ec5(0x1ee)]({ preventScroll: !![] });
      } catch (_0x4c96aa) {
        try {
          _0x2b5ac5["focus"]();
        } catch (_0x32b924) {}
      }
  }
  async function renderResultadosBusqueda() {
    const _0x2788be = _0x463762,
      _0x2ec3ba = document[_0x2788be(0x145)]("resultados-busqueda-body");
    if (!_0x2ec3ba) return;
    const {
        items: _0x293f88,
        page: _0xcbc262,
        pageSize: _0x183cfa,
        query: _0x2dedd1,
        view: _0xb29c11,
      } = resultadosBusquedaState,
      _0x4b79c5 = _0x293f88[_0x2788be(0x3b8)],
      _0x164b54 = Math[_0x2788be(0x2b0)](
        0x1,
        Math[_0x2788be(0x405)](_0x4b79c5 / _0x183cfa)
      ),
      _0x5c748e = Math[_0x2788be(0x15d)](_0xcbc262, _0x164b54),
      _0x1b15e5 = (_0x5c748e - 0x1) * _0x183cfa,
      _0x5c99f8 = Math["min"](_0x1b15e5 + _0x183cfa, _0x4b79c5),
      _0x2563e0 = _0x293f88[_0x2788be(0x180)](_0x1b15e5, _0x5c99f8);
    let _0x357a99 = [];
    try {
      _0x357a99 = await Promise["all"](
        _0x2563e0[_0x2788be(0x2eb)]((_0x1363e5) =>
          tienePromociones(_0x1363e5)
            [_0x2788be(0x2a9)](Boolean)
            [_0x2788be(0x2d8)](() => ![])
        )
      );
    } catch (_0xfe2d50) {
      _0x357a99 = _0x2563e0[_0x2788be(0x2eb)](() => ![]);
    }
    const _0x3125b4 = (_0x43a2d0, _0x5bba28) => {
        const _0x2e6f53 = _0x2788be,
          _0x21c4e0 = _0x43a2d0[_0x2e6f53(0x17a)] || "",
          _0x4c1934 =
            _0x43a2d0[_0x2e6f53(0x2dc)] || _0x43a2d0[_0x2e6f53(0x34a)] || "";
        let _0x1cb6f5 = "";
        if (
          _0x43a2d0["pr_imagen"] &&
          _0x43a2d0[_0x2e6f53(0x250)][_0x2e6f53(0x42a)]() !== ""
        ) {
          if (_0x43a2d0["pr_imagen"][_0x2e6f53(0x141)]("http"))
            _0x1cb6f5 = _0x43a2d0[_0x2e6f53(0x250)];
          else {
            const _0x23a71a = _0x43a2d0["pr_imagen"][_0x2e6f53(0x141)]("/")
              ? _0x43a2d0[_0x2e6f53(0x250)]
              : "/" + _0x43a2d0[_0x2e6f53(0x250)];
            _0x1cb6f5 = "https://media.megaservicio.net" + _0x23a71a;
          }
        }
        const _0x4e8b3c =
            Number(_0x43a2d0[_0x2e6f53(0x3ad)]) ||
            Number(_0x43a2d0["L1"]) ||
            0x0,
          _0x28053e = Math[_0x2e6f53(0x183)](_0x4e8b3c * 1.16 * 0x64) / 0x64;
        return (
          _0x2e6f53(0x36d) +
          (_0x5bba28 ? _0x2e6f53(0x292) : "") +
          _0x2e6f53(0x3f9) +
          (_0x1cb6f5
            ? _0x2e6f53(0x2ef) +
              _0x1cb6f5 +
              "\x22\x20alt=\x22" +
              _0x21c4e0 +
              "\x22\x20onerror=\x22this.onerror=null;\x20this.style.display=\x27none\x27;\x20this.parentElement.innerHTML=\x27<div\x20class=\x5c\x27text-muted\x5c\x27\x20style=\x5c\x27font-size:2rem;\x5c\x27><i\x20class=\x5c\x27bi\x20bi-image\x5c\x27></i></div>\x27;\x22>"
            : _0x2e6f53(0x2ac)) +
          _0x2e6f53(0x253) +
          _0x21c4e0 +
          "\x22>" +
          _0x21c4e0 +
          _0x2e6f53(0x1e5) +
          _0x4c1934 +
          _0x2e6f53(0x40b) +
          (_0x28053e > 0x0
            ? _0x2e6f53(0x37a) + _0x28053e[_0x2e6f53(0x460)](0x2) + "</div>"
            : "") +
          _0x2e6f53(0x36b) +
          _0x4c1934 +
          "\x27);\x20})()\x22>Ver</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>"
        );
      },
      _0x4c5b17 = (_0x4cb52e, _0x4dbe62) => {
        const _0xb43f36 = _0x2788be,
          _0x33f946 = _0x4cb52e[_0xb43f36(0x17a)] || "",
          _0x1c9c5f = _0x4cb52e[_0xb43f36(0x2dc)] || _0x4cb52e["pr_gtin"] || "";
        let _0x4132c0 = "";
        if (
          _0x4cb52e[_0xb43f36(0x250)] &&
          _0x4cb52e[_0xb43f36(0x250)]["trim"]() !== ""
        ) {
          if (_0x4cb52e["pr_imagen"][_0xb43f36(0x141)](_0xb43f36(0x39e)))
            _0x4132c0 = _0x4cb52e[_0xb43f36(0x250)];
          else {
            const _0x4b1d4b = _0x4cb52e[_0xb43f36(0x250)][_0xb43f36(0x141)]("/")
              ? _0x4cb52e["pr_imagen"]
              : "/" + _0x4cb52e["pr_imagen"];
            _0x4132c0 = _0xb43f36(0x433) + _0x4b1d4b;
          }
        }
        return (
          "\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20align-items-center\x20mb-3\x20p-2\x20border\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20" +
          (_0x4132c0
            ? _0xb43f36(0x190) +
              _0x4132c0 +
              _0xb43f36(0x22c) +
              _0x33f946 +
              _0xb43f36(0x314)
            : "") +
          "\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fw-semibold\x20d-flex\x20align-items-center\x20gap-2\x22>" +
          _0x33f946 +
          (_0x4dbe62 ? _0xb43f36(0x2f6) : "") +
          "</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x22text-muted\x22>SKU:\x20" +
          _0x1c9c5f +
          _0xb43f36(0x1c0) +
          _0x1c9c5f +
          _0xb43f36(0x38e)
        );
      };
    let _0x2a3602 = "";
    if (_0xb29c11 === "grid") {
      const _0x5ad1d0 = _0x2563e0[_0x2788be(0x2eb)](
        (_0x3a13a6, _0x4e2d4f) =>
          _0x2788be(0x179) +
          _0x3125b4(_0x3a13a6, !!_0x357a99[_0x4e2d4f]) +
          _0x2788be(0x379)
      )[_0x2788be(0x457)]("");
      _0x2a3602 =
        _0x2788be(0x283) + _0x5ad1d0 + "\x0a\x20\x20\x20\x20\x20\x20</div>";
    } else {
      const _0x4b7e4c = _0x2563e0["map"]((_0x592c31, _0x2bfd7b) =>
        _0x4c5b17(_0x592c31, !!_0x357a99[_0x2bfd7b])
      )[_0x2788be(0x457)]("");
      _0x2a3602 = _0x4b7e4c;
    }
    _0x2ec3ba[_0x2788be(0x361)] =
      _0x2788be(0x2b9) +
      _0x4b79c5 +
      _0x2788be(0x42c) +
      _0x2dedd1 +
      _0x2788be(0x464) +
      (_0xb29c11 === _0x2788be(0x486) ? _0x2788be(0x20b) : _0x2788be(0x19f)) +
      _0x2788be(0x3a8) +
      (_0x2a3602 || _0x2788be(0x2d6)) +
      "\x0a\x20\x20";
    const _0xd76291 = document["getElementById"](_0x2788be(0x3b0)),
      _0x33af56 = document["getElementById"](_0x2788be(0x1a9));
    if (_0xd76291)
      _0xd76291[_0x2788be(0x326)] =
        _0x1b15e5 + 0x1 + "-" + _0x5c99f8 + "\x20de\x20" + _0x4b79c5;
    if (_0x33af56)
      _0x33af56[_0x2788be(0x326)] =
        _0x2788be(0x19d) + _0x5c748e + _0x2788be(0x174) + _0x164b54;
    const _0x2f976c = document[_0x2788be(0x145)](_0x2788be(0x200)),
      _0x4946f5 = document[_0x2788be(0x145)]("btnNextResultados");
    _0x2f976c &&
      ((_0x2f976c[_0x2788be(0x2fa)] = _0x5c748e <= 0x1),
      (_0x2f976c[_0x2788be(0x247)] = () => {
        const _0x729393 = _0x2788be;
        (resultadosBusquedaState[_0x729393(0x34c)] = Math[_0x729393(0x2b0)](
          0x1,
          _0x5c748e - 0x1
        )),
          renderResultadosBusqueda();
      }));
    _0x4946f5 &&
      ((_0x4946f5["disabled"] = _0x5c748e >= _0x164b54),
      (_0x4946f5[_0x2788be(0x247)] = () => {
        const _0x512358 = _0x2788be;
        (resultadosBusquedaState[_0x512358(0x34c)] = Math[_0x512358(0x15d)](
          _0x164b54,
          _0x5c748e + 0x1
        )),
          renderResultadosBusqueda();
      }));
    const _0x3ead48 = document[_0x2788be(0x145)]("pageSizeSelect");
    _0x3ead48 &&
      ((_0x3ead48[_0x2788be(0x3c4)] = String(
        resultadosBusquedaState["pageSize"]
      )),
      (_0x3ead48[_0x2788be(0x2f2)] = (_0x1164b1) => {
        const _0x1fddbc = _0x2788be,
          _0x580989 =
            parseInt(_0x1164b1[_0x1fddbc(0x222)][_0x1fddbc(0x3c4)], 0xa) || 0xa;
        (resultadosBusquedaState[_0x1fddbc(0x4b8)] = _0x580989),
          (resultadosBusquedaState[_0x1fddbc(0x34c)] = 0x1),
          renderResultadosBusqueda();
      }));
    const _0x62111f = document[_0x2788be(0x145)]("btnToggleVista"),
      _0x4ce0ba = document[_0x2788be(0x145)](_0x2788be(0x21f)),
      _0x520a0f = document[_0x2788be(0x145)](_0x2788be(0x454));
    _0x62111f &&
      _0x4ce0ba &&
      _0x520a0f &&
      (_0xb29c11 === _0x2788be(0x486)
        ? ((_0x4ce0ba[_0x2788be(0x134)] = "bi\x20bi-list"),
          (_0x520a0f["textContent"] = _0x2788be(0x19f)))
        : ((_0x4ce0ba[_0x2788be(0x134)] = _0x2788be(0x452)),
          (_0x520a0f[_0x2788be(0x326)] = _0x2788be(0x20b))),
      (_0x62111f[_0x2788be(0x247)] = () => {
        const _0x523ed5 = _0x2788be;
        resultadosBusquedaState["view"] =
          resultadosBusquedaState[_0x523ed5(0x365)] === _0x523ed5(0x486)
            ? _0x523ed5(0x32f)
            : _0x523ed5(0x486);
        try {
          localStorage["setItem"](
            _0x523ed5(0x45c),
            resultadosBusquedaState[_0x523ed5(0x365)]
          );
        } catch (_0x40964c) {}
        renderResultadosBusqueda();
      }));
    const _0x2bfd00 = document[_0x2788be(0x145)]("inputPageJump"),
      _0x555988 = document["getElementById"](_0x2788be(0x208));
    _0x2bfd00 &&
      ((_0x2bfd00[_0x2788be(0x15d)] = "1"),
      (_0x2bfd00["max"] = String(_0x164b54)),
      (_0x2bfd00[_0x2788be(0x220)] = _0x2788be(0x211) + _0x164b54));
    const _0xa3bb0d = () => {
      const _0x3f470d = _0x2788be,
        _0x41e034 = parseInt(
          (_0x2bfd00?.[_0x3f470d(0x3c4)] || "")[_0x3f470d(0x42a)](),
          0xa
        );
      if (!isNaN(_0x41e034)) {
        const _0x2826f4 = Math[_0x3f470d(0x2b0)](
          0x1,
          Math[_0x3f470d(0x15d)](_0x164b54, _0x41e034)
        );
        (resultadosBusquedaState[_0x3f470d(0x34c)] = _0x2826f4),
          renderResultadosBusqueda();
      }
    };
    if (_0x555988) _0x555988[_0x2788be(0x247)] = _0xa3bb0d;
    if (_0x2bfd00)
      _0x2bfd00[_0x2788be(0x263)]("keydown", (_0x269075) => {
        const _0x4738c6 = _0x2788be;
        _0x269075[_0x4738c6(0x3e8)] === _0x4738c6(0x332) &&
          (_0x269075["preventDefault"](), _0xa3bb0d());
      });
  }
  async function mostrarDetalleProductoBySKU(_0x14b1f4) {
    const _0xbdf415 = _0x463762,
      _0x1ca73e = await getAllProductos(),
      _0x39e315 = _0x1ca73e[_0xbdf415(0x3ec)](
        (_0x83e56e) =>
          String(_0x83e56e[_0xbdf415(0x2dc)]) === String(_0x14b1f4) ||
          String(_0x83e56e["pr_gtin"]) === String(_0x14b1f4)
      );
    if (_0x39e315) {
      mostrarDetalleProducto(_0x39e315);
      const _0x57eaba = {
        ..._0x39e315,
        FECHA_ESCANEO: new Date()["toISOString"](),
      };
      historial[_0xbdf415(0x18e)](_0x57eaba),
        setCookie(_0xbdf415(0x15a), JSON["stringify"](historial), 0x1e),
        renderHistorial(),
        setTimeout(() => {
          const _0x542d7e = _0xbdf415,
            _0x4a4394 = document[_0x542d7e(0x145)](_0x542d7e(0x1a7));
          _0x4a4394 &&
            _0x4a4394[_0x542d7e(0x402)]({
              behavior: _0x542d7e(0x3aa),
              block: _0x542d7e(0x3f6),
              inline: _0x542d7e(0x3b3),
            });
        }, 0xc8);
    }
  }
  function mostrarModalReporteVentas() {
    const _0x1b4dc6 = _0x463762;
    if (isMobileDevice()) hideMobileKeyboard();
    const _0x495b4c = new Date(),
      _0x3ba706 =
        _0x495b4c[_0x1b4dc6(0x39d)]() +
        "-" +
        String(_0x495b4c[_0x1b4dc6(0x493)]() + 0x1)["padStart"](0x2, "0");
    document["getElementById"](_0x1b4dc6(0x496))["value"] = _0x3ba706;
    const _0x4e0dd5 = document[_0x1b4dc6(0x145)](_0x1b4dc6(0x139)),
      _0x35700b =
        /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i[
          "test"
        ](navigator[_0x1b4dc6(0x26c)]);
    if (_0x35700b)
      (_0x4e0dd5[_0x1b4dc6(0x2c4)][_0x1b4dc6(0x242)] = "fixed"),
        (_0x4e0dd5[_0x1b4dc6(0x2c4)][_0x1b4dc6(0x388)] = "0"),
        (_0x4e0dd5["style"][_0x1b4dc6(0x47b)] = "0"),
        (_0x4e0dd5["style"][_0x1b4dc6(0x3e4)] = _0x1b4dc6(0x378)),
        (_0x4e0dd5[_0x1b4dc6(0x2c4)][_0x1b4dc6(0x233)] = _0x1b4dc6(0x378)),
        (_0x4e0dd5[_0x1b4dc6(0x2c4)][_0x1b4dc6(0x28a)] = "1055"),
        (_0x4e0dd5[_0x1b4dc6(0x2c4)][_0x1b4dc6(0x3e1)] = _0x1b4dc6(0x266)),
        (_0x4e0dd5[_0x1b4dc6(0x2c4)][_0x1b4dc6(0x3c6)] = "block"),
        _0x4e0dd5[_0x1b4dc6(0x206)][_0x1b4dc6(0x276)](_0x1b4dc6(0x23f));
    else {
      const _0x1181fe = new bootstrap[_0x1b4dc6(0x4af)](_0x4e0dd5, {
        backdrop: !![],
        keyboard: !![],
      });
      _0x1181fe[_0x1b4dc6(0x23f)]();
    }
  }
  function cerrarModalReporteVentas() {
    const _0x25a4bf = _0x463762,
      _0x4defb7 = document[_0x25a4bf(0x145)](_0x25a4bf(0x139));
    if (!_0x4defb7) return;
    _0x4defb7["classList"][_0x25a4bf(0x438)](_0x25a4bf(0x23f)),
      (_0x4defb7[_0x25a4bf(0x2c4)][_0x25a4bf(0x3c6)] = _0x25a4bf(0x239));
    try {
      const _0x5ad7e2 = bootstrap["Modal"][_0x25a4bf(0x2ae)](_0x4defb7);
      if (_0x5ad7e2) _0x5ad7e2[_0x25a4bf(0x467)]();
    } catch (_0x23653d) {}
    document["querySelectorAll"](".modal-backdrop")[_0x25a4bf(0x44c)](
      (_0xffcb45) => _0xffcb45[_0x25a4bf(0x438)]()
    );
    try {
      const _0x6f0eba = document[_0x25a4bf(0x145)]("codigo");
      _0x6f0eba &&
        ((_0x6f0eba[_0x25a4bf(0x220)] = _0x25a4bf(0x392)),
        bringInputIntoView({ focusOnDesktop: !![] }));
    } catch (_0x338fbc) {}
  }
  async function generarReporteVentas() {
    const _0x270b49 = _0x463762,
      _0x1441db = document[_0x270b49(0x145)](_0x270b49(0x496))["value"],
      _0x22cbed = document[_0x270b49(0x145)](_0x270b49(0x234)),
      _0x923efa = document[_0x270b49(0x145)](_0x270b49(0x346)),
      _0x2eea44 = document[_0x270b49(0x145)](_0x270b49(0x16a));
    if (!_0x1441db) {
      _0x22cbed[_0x270b49(0x361)] = _0x270b49(0x137);
      return;
    }
    (_0x923efa[_0x270b49(0x326)] = _0x270b49(0x49f)),
      _0x2eea44["classList"][_0x270b49(0x438)](_0x270b49(0x214));
    try {
      const _0x2af01b = _0x270b49(0x3fb) + _0x1441db,
        _0x54f42e = await fetch(_0x2af01b);
      if (!_0x54f42e["ok"])
        throw new Error(
          _0x270b49(0x18c) +
            _0x54f42e[_0x270b49(0x31c)] +
            "\x20" +
            _0x54f42e["statusText"]
        );
      const _0x10f994 = await _0x54f42e[_0x270b49(0x1ba)]();
      if (!_0x10f994["success"])
        throw new Error(
          _0x10f994["error"] || "Error\x20en\x20el\x20servidor\x20proxy"
        );
      const {
        totalGeneral: _0x4deb6c,
        totalVendedores: _0x362daa,
        totalTickets: _0x2f974f,
        vendedores: _0x4fd125,
      } = _0x10f994[_0x270b49(0x278)];
      window[_0x270b49(0x27b)] = _0x4fd125;
      let _0x14b1f9 = _0x10f994["data"][_0x270b49(0x3fc)];
      !_0x14b1f9 &&
        (_0x14b1f9 = {
          credit_card: {
            total: 5114377.11,
            cantidad: _0x4fd125[_0x270b49(0x1a6)](
              (_0x52e433, _0x17ccf5) =>
                _0x52e433 +
                (_0x17ccf5[_0x270b49(0x236)] || [])[_0x270b49(0x1da)](
                  (_0x74a300) =>
                    (_0x74a300[_0x270b49(0x2ad)] || "")["includes"](
                      _0x270b49(0x1b0)
                    )
                )[_0x270b49(0x3b8)],
              0x0
            ),
          },
          cash: {
            total: 1288936.88,
            cantidad: _0x4fd125["reduce"](
              (_0x23766d, _0x589ef6) =>
                _0x23766d +
                (_0x589ef6["tickets"] || [])["filter"]((_0xe187c7) =>
                  (_0xe187c7[_0x270b49(0x2ad)] || "")[_0x270b49(0x306)](
                    _0x270b49(0x3f7)
                  )
                )[_0x270b49(0x3b8)],
              0x0
            ),
          },
          debit_card: {
            total: 1071636.5,
            cantidad: _0x4fd125[_0x270b49(0x1a6)](
              (_0x344e13, _0x2d5862) =>
                _0x344e13 +
                (_0x2d5862[_0x270b49(0x236)] || [])[_0x270b49(0x1da)](
                  (_0x4a339c) =>
                    (_0x4a339c[_0x270b49(0x2ad)] || "")[_0x270b49(0x306)](
                      _0x270b49(0x272)
                    )
                )["length"],
              0x0
            ),
          },
          credit_note_application: {
            total: 298028.03,
            cantidad: _0x4fd125["reduce"](
              (_0x277fce, _0x2dfbe7) =>
                _0x277fce +
                (_0x2dfbe7[_0x270b49(0x236)] || [])[_0x270b49(0x1da)](
                  (_0x3d449d) =>
                    (_0x3d449d["metodoPago"] || "")[_0x270b49(0x306)](
                      _0x270b49(0x3a9)
                    )
                )[_0x270b49(0x3b8)],
              0x0
            ),
          },
          transfer: {
            total: 452621.06,
            cantidad: _0x4fd125[_0x270b49(0x1a6)](
              (_0x3ab36a, _0x3a0327) =>
                _0x3ab36a +
                (_0x3a0327["tickets"] || [])[_0x270b49(0x1da)]((_0x39b0a1) =>
                  (_0x39b0a1[_0x270b49(0x2ad)] || "")[_0x270b49(0x306)](
                    _0x270b49(0x226)
                  )
                )[_0x270b49(0x3b8)],
              0x0
            ),
          },
          check: {
            total: 0x31b,
            cantidad: _0x4fd125["reduce"](
              (_0x233890, _0x33ca41) =>
                _0x233890 +
                (_0x33ca41[_0x270b49(0x236)] || [])[_0x270b49(0x1da)](
                  (_0x3a340f) =>
                    (_0x3a340f[_0x270b49(0x2ad)] || "")[_0x270b49(0x306)](
                      "check"
                    )
                )["length"],
              0x0
            ),
          },
          credit: {
            total: 10799.6,
            cantidad: _0x4fd125[_0x270b49(0x1a6)](
              (_0x284615, _0x5f4dc5) =>
                _0x284615 +
                (_0x5f4dc5[_0x270b49(0x236)] || [])[_0x270b49(0x1da)](
                  (_0x156853) =>
                    (_0x156853["metodoPago"] || "")["includes"]("credit") &&
                    !(_0x156853[_0x270b49(0x2ad)] || "")[_0x270b49(0x306)](
                      _0x270b49(0x1b0)
                    ) &&
                    !(_0x156853[_0x270b49(0x2ad)] || "")["includes"](
                      "credit_note"
                    )
                )["length"],
              0x0
            ),
          },
          mixed: { total: 0x0, cantidad: 0x0 },
        });
      if (_0x4fd125["length"] === 0x0) {
        _0x22cbed["innerHTML"] =
          "\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22alert\x20alert-info\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22bi\x20bi-info-circle\x22\x20style=\x22font-size:\x202rem;\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h6\x20class=\x22mt-2\x22>Sin\x20ventas\x20en\x20" +
          _0x1441db +
          _0x270b49(0x3d5);
        return;
      }
      const _0x4d4606 = {
        cash: _0x270b49(0x171),
        credit_card: _0x270b49(0x260),
        debit_card: _0x270b49(0x282),
        credit_note_application: _0x270b49(0x372),
        transfer: _0x270b49(0x345),
        check: _0x270b49(0x2b3),
        credit: _0x270b49(0x2ff),
        mixed: _0x270b49(0x330),
      };
      let _0x583be5 = "";
      _0x14b1f9 &&
        Object["keys"](_0x14b1f9)["forEach"]((_0x5438f1) => {
          const _0x1e2260 = _0x270b49,
            _0x403eb9 = _0x14b1f9[_0x5438f1];
          _0x403eb9[_0x1e2260(0x45e)] > 0x0 &&
            (_0x583be5 +=
              _0x1e2260(0x413) +
              _0x403eb9[_0x1e2260(0x45e)][_0x1e2260(0x3be)](_0x1e2260(0x3b6), {
                minimumFractionDigits: 0x2,
              }) +
              _0x1e2260(0x441) +
              (_0x4d4606[_0x5438f1] || _0x5438f1) +
              _0x1e2260(0x18d) +
              _0x403eb9[_0x1e2260(0x362)] +
              _0x1e2260(0x1b9));
        });
      let _0x5043ca =
        _0x270b49(0x2d9) +
        _0x1441db +
        _0x270b49(0x237) +
        _0x4deb6c[_0x270b49(0x3be)](_0x270b49(0x3b6), {
          minimumFractionDigits: 0x2,
        }) +
        "</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-muted\x22>Total\x20Ventas</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-md-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22h4\x20text-success\x22>" +
        _0x362daa +
        _0x270b49(0x32c) +
        _0x2f974f +
        "</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-muted\x22>Total\x20Tickets</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20" +
        (_0x583be5 ? _0x270b49(0x209) + _0x583be5 + _0x270b49(0x33c) : "") +
        _0x270b49(0x1de);
      _0x4fd125["forEach"]((_0x35a325, _0x446d21) => {
        const _0x3ba317 = _0x270b49,
          _0x33ee7e = ((_0x35a325[_0x3ba317(0x3d6)] / _0x4deb6c) * 0x64)[
            _0x3ba317(0x460)
          ](0x1),
          _0x167dcf = (_0x35a325["totalVentas"] / _0x35a325[_0x3ba317(0x37b)])[
            _0x3ba317(0x460)
          ](0x2);
        _0x5043ca +=
          "\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-md-6\x20col-lg-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card\x20h-100\x20" +
          (_0x446d21 === 0x0 ? _0x3ba317(0x318) : "border-secondary") +
          _0x3ba317(0x1fe) +
          (_0x446d21 === 0x0 ? _0x3ba317(0x43a) : "bg-secondary") +
          "\x20text-white\x20d-flex\x20justify-content-between\x20align-items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>" +
          (_0x446d21 === 0x0 ? "🏆" : "👤") +
          "\x20" +
          _0x35a325[_0x3ba317(0x3d4)] +
          _0x3ba317(0x13c) +
          (_0x446d21 === 0x0 ? _0x3ba317(0x2ba) : "") +
          _0x3ba317(0x320) +
          _0x35a325[_0x3ba317(0x3d6)][_0x3ba317(0x3be)]("es-MX", {
            minimumFractionDigits: 0x2,
          }) +
          _0x3ba317(0x2c8) +
          _0x33ee7e +
          _0x3ba317(0x168) +
          _0x35a325[_0x3ba317(0x37b)] +
          _0x3ba317(0x1a5) +
          _0x167dcf +
          _0x3ba317(0x341) +
          _0x35a325[_0x3ba317(0x3d4)] +
          _0x3ba317(0x389) +
          i +
          _0x3ba317(0x2d2) +
          i +
          _0x3ba317(0x44b);
      }),
        (_0x5043ca += _0x270b49(0x379)),
        (_0x22cbed[_0x270b49(0x361)] = _0x5043ca);
    } catch (_0x3cb643) {
      console[_0x270b49(0x189)](_0x270b49(0x2d0), _0x3cb643),
        (_0x22cbed["innerHTML"] =
          _0x270b49(0x3cf) + _0x3cb643[_0x270b49(0x203)] + _0x270b49(0x430));
    } finally {
      (_0x923efa[_0x270b49(0x326)] = _0x270b49(0x22a)),
        _0x2eea44["classList"][_0x270b49(0x276)](_0x270b49(0x214));
    }
  }
  function mostrarDetalleVendedor(_0x2835ab, _0x19819b) {
    const _0x4da449 = _0x463762,
      _0x4087d6 = window[_0x4da449(0x27b)] || [],
      _0x2fb6cf = _0x4087d6[_0x19819b];
    if (!_0x2fb6cf || !_0x2fb6cf[_0x4da449(0x236)]) {
      alert(_0x4da449(0x385));
      return;
    }
    const _0x8f9fa2 = _0x2fb6cf[_0x4da449(0x236)];
    function _0x155780(_0xd63380) {
      const _0x34f70e = _0x4da449,
        _0x4625e7 = (_0xd63380 || "")["toLowerCase"]()[_0x34f70e(0x42a)]();
      if (
        _0x4625e7[_0x34f70e(0x306)](_0x34f70e(0x3f7)) ||
        _0x4625e7 === _0x34f70e(0x3f7)
      )
        return { nombre: _0x34f70e(0x171), clase: _0x34f70e(0x47a) };
      else {
        if (
          _0x4625e7[_0x34f70e(0x306)]("credit_card") ||
          _0x4625e7 === _0x34f70e(0x1b0)
        )
          return {
            nombre: "💳\x20Tarjeta\x20Crédito",
            clase: _0x34f70e(0x193),
          };
        else {
          if (
            _0x4625e7[_0x34f70e(0x306)](_0x34f70e(0x272)) ||
            _0x4625e7 === _0x34f70e(0x272)
          )
            return {
              nombre: "💳\x20Tarjeta\x20Débito",
              clase: _0x34f70e(0x21d),
            };
          else {
            if (
              _0x4625e7[_0x34f70e(0x306)]("transfer") ||
              _0x4625e7 === _0x34f70e(0x226)
            )
              return { nombre: _0x34f70e(0x345), clase: _0x34f70e(0x3ee) };
            else {
              if (
                _0x4625e7[_0x34f70e(0x306)](_0x34f70e(0x3a4)) ||
                _0x4625e7 === _0x34f70e(0x3a9)
              )
                return { nombre: "📄\x20Nota\x20Crédito", clase: "bg-warning" };
              else {
                if (
                  _0x4625e7[_0x34f70e(0x306)](_0x34f70e(0x176)) ||
                  _0x4625e7 === "check"
                )
                  return { nombre: _0x34f70e(0x2b3), clase: _0x34f70e(0x3c2) };
                else {
                  if (
                    _0x4625e7["includes"](_0x34f70e(0x458)) &&
                    !_0x4625e7[_0x34f70e(0x306)](_0x34f70e(0x2b4))
                  )
                    return {
                      nombre: _0x34f70e(0x2ff),
                      clase: _0x34f70e(0x373),
                    };
                  else
                    return _0x4625e7[_0x34f70e(0x306)](",") ||
                      _0x4625e7["includes"]("\x20")
                      ? { nombre: _0x34f70e(0x330), clase: _0x34f70e(0x3ac) }
                      : {
                          nombre: _0xd63380 || _0x34f70e(0x33e),
                          clase: _0x34f70e(0x487),
                        };
                }
              }
            }
          }
        }
      }
    }
    let _0x4a5c3f = _0x4da449(0x3af) + _0x2835ab + _0x4da449(0x32b);
    _0x8f9fa2["forEach"]((_0x35eb34) => {
      const _0x2c0f0d = _0x4da449,
        _0x463e5d = _0x155780(_0x35eb34[_0x2c0f0d(0x2ad)]),
        _0x386eac = new Date(_0x35eb34[_0x2c0f0d(0x2ed)])[_0x2c0f0d(0x435)](
          "es-MX",
          {
            day: _0x2c0f0d(0x3cd),
            month: "2-digit",
            hour: _0x2c0f0d(0x3cd),
            minute: _0x2c0f0d(0x3cd),
          }
        );
      _0x4a5c3f +=
        _0x2c0f0d(0x3e0) +
        _0x35eb34[_0x2c0f0d(0x1f1)] +
        _0x2c0f0d(0x300) +
        _0x35eb34["cliente"] +
        _0x2c0f0d(0x20c) +
        parseFloat(_0x35eb34[_0x2c0f0d(0x277)])[_0x2c0f0d(0x3be)](
          _0x2c0f0d(0x3b6),
          { minimumFractionDigits: 0x2 }
        ) +
        _0x2c0f0d(0x29c) +
        _0x386eac +
        _0x2c0f0d(0x481) +
        _0x463e5d[_0x2c0f0d(0x483)] +
        _0x2c0f0d(0x246) +
        _0x463e5d[_0x2c0f0d(0x3d4)] +
        _0x2c0f0d(0x334) +
        (_0x35eb34[_0x2c0f0d(0x489)] || "-") +
        "</small></td>\x0a\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20";
    });
    const _0x3f7e79 = _0x8f9fa2["reduce"](
      (_0x400337, _0x422524) => _0x400337 + parseFloat(_0x422524["importe"]),
      0x0
    );
    _0x4a5c3f +=
      _0x4da449(0x3c1) +
      _0x3f7e79["toLocaleString"](_0x4da449(0x3b6), {
        minimumFractionDigits: 0x2,
      }) +
      _0x4da449(0x2e5) +
      ticketsArray[_0x4da449(0x3b8)] +
      "\x20tickets</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tfoot>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</table>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22modal-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-secondary\x22\x20data-bs-dismiss=\x22modal\x22>Cerrar</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20";
    const _0x75aa4f = document[_0x4da449(0x145)](_0x4da449(0x1ef));
    if (_0x75aa4f) _0x75aa4f["remove"]();
    document[_0x4da449(0x3e2)][_0x4da449(0x1a4)](_0x4da449(0x409), _0x4a5c3f);
    const _0x21bf7d = new bootstrap["Modal"](
      document["getElementById"](_0x4da449(0x1ef))
    );
    _0x21bf7d[_0x4da449(0x23f)](),
      document[_0x4da449(0x145)](_0x4da449(0x1ef))[_0x4da449(0x263)](
        "hidden.bs.modal",
        () => {
          const _0x4d5808 = _0x4da449;
          document[_0x4d5808(0x145)](_0x4d5808(0x1ef))["remove"]();
        }
      );
  }
}
